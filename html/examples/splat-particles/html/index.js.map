{"version":3,"sources":["webpack:///webpack/bootstrap 9b4fb5ecf70be3907ca4","webpack:///./src/game.js","webpack:///./~/splat-ecs/lib/main.js","webpack:///./~/splat-ecs/lib/buffer.js","webpack:///./~/splat-ecs/lib/platform.js","webpack:///./~/splat-ecs/lib/ads.js","webpack:///./~/splat-ecs/lib/astar.js","webpack:///./~/splat-ecs/lib/binary-heap.js","webpack:///./~/splat-ecs/lib/game.js","webpack:///./~/splat-ecs/lib/clone.js","webpack:///./~/splat-ecs/lib/image-loader.js","webpack:///./~/splat-ecs/lib/input.js","webpack:///./~/html5-gamepad/index.js","webpack:///./~/html5-gamepad/mappings.json","webpack:///./~/game-keyboard/index.js","webpack:///./~/game-keyboard/key_map.js","webpack:///./~/splat-ecs/lib/mouse.js","webpack:///./~/splat-ecs/lib/scene.js","webpack:///./~/entity-component-system/lib/index.js","webpack:///./~/entity-component-system/lib/entity-component-system.js","webpack:///./~/present/lib/present-browser.js","webpack:///./~/entity-component-system/lib/entity-pool.js","webpack:///./~/splat-ecs/lib/game-loop.js","webpack:///./~/time-accumulator/index.js","webpack:///./~/splat-ecs/lib/absolute-to-relative.js","webpack:///./~/splat-ecs/lib/sound-loader.js","webpack:///./~/splat-ecs/lib/iap.js","webpack:///./~/splat-ecs/lib/leaderboards.js","webpack:///./~/splat-ecs/lib/loading-scene.js","webpack:///./~/splat-ecs/lib/math.js","webpack:///./~/mersenne-twister/src/mersenne-twister.js","webpack:///./~/splat-ecs/lib/openUrl.js","webpack:///./~/splat-ecs/lib/ninepatch.js","webpack:///./~/splat-ecs/lib/particles.js","webpack:///./~/splat-ecs/lib/random.js","webpack:///./~/splat-ecs/lib/save-data.js","webpack:///./~/splat-ecs/lib/components/animation.js","webpack:///./~/splat-ecs/lib/components/camera.js","webpack:///./~/splat-ecs/lib/components/friction.js","webpack:///./~/splat-ecs/lib/components/image.js","webpack:///./~/splat-ecs/lib/components/movement-2d.js","webpack:///./~/splat-ecs/lib/components/playable-area.js","webpack:///./~/splat-ecs/lib/components/player-controller-2d.js","webpack:///./~/splat-ecs/lib/components/position.js","webpack:///./~/splat-ecs/lib/components/size.js","webpack:///./~/splat-ecs/lib/components/timers.js","webpack:///./~/splat-ecs/lib/components/velocity.js","webpack:///./src/index.html","webpack:///./~/splat-ecs/lib/systems \\.js$","webpack:///./~/splat-ecs/lib/systems/advance-animations.js","webpack:///./~/splat-ecs/lib/systems/advance-timers.js","webpack:///./~/splat-ecs/lib/systems/apply-acceleration.js","webpack:///./~/splat-ecs/lib/systems/apply-easing.js","webpack:///./~/easing-js/dist/easing.js","webpack:///./~/splat-ecs/lib/systems/apply-friction.js","webpack:///./~/splat-ecs/lib/systems/apply-movement-2d.js","webpack:///./~/splat-ecs/lib/systems/apply-shake.js","webpack:///./~/splat-ecs/lib/systems/apply-velocity.js","webpack:///./~/splat-ecs/lib/systems/box-collider.js","webpack:///./~/box-intersect/index.js","webpack:///./~/typedarray-pool/pool.js","webpack:///./~/buffer/index.js","webpack:///./~/base64-js/lib/b64.js","webpack:///./~/ieee754/index.js","webpack:///./~/buffer/~/isarray/index.js","webpack:///./~/bit-twiddle/twiddle.js","webpack:///./~/dup/dup.js","webpack:///./~/box-intersect/lib/sweep.js","webpack:///./~/box-intersect/lib/sort.js","webpack:///./~/box-intersect/lib/intersect.js","webpack:///./~/box-intersect/lib/brute.js","webpack:///./~/box-intersect/lib/median.js","webpack:///./~/box-intersect/lib/partition.js","webpack:///./~/splat-ecs/lib/systems/center-position.js","webpack:///./~/splat-ecs/lib/systems/clear-screen.js","webpack:///./~/splat-ecs/lib/systems/constrain-position.js","webpack:///./~/splat-ecs/lib/systems/control-player.js","webpack:///./~/splat-ecs/lib/systems/decay-life-span.js","webpack:///./~/splat-ecs/lib/systems/draw-frame-rate.js","webpack:///./~/splat-ecs/lib/systems/draw-image.js","webpack:///./~/splat-ecs/lib/systems/draw-rectangles.js","webpack:///./~/splat-ecs/lib/systems/follow-parent.js","webpack:///./~/splat-ecs/lib/systems/match-aspect-ratio.js","webpack:///./~/splat-ecs/lib/systems/match-canvas-size.js","webpack:///./~/splat-ecs/lib/systems/match-center-x.js","webpack:///./~/splat-ecs/lib/systems/match-center-y.js","webpack:///./~/splat-ecs/lib/systems/match-parent.js","webpack:///./~/splat-ecs/lib/systems/revert-shake.js","webpack:///./~/splat-ecs/lib/systems/set-virtual-buttons.js","webpack:///./~/splat-ecs/lib/systems/viewport-move-to-camera.js","webpack:///./~/splat-ecs/lib/systems/viewport-reset.js","webpack:///./src/systems \\.js$","webpack:///./src/systems/renderer/background-color.js","webpack:///./src/systems/renderer/sample-renderer-system.js","webpack:///./src/systems/simulation/follow-mouse.js","webpack:///./src/systems/simulation/sample-simulation-system.js","webpack:///./src/scripts \\.js$","webpack:///./src/scripts/add-bubbles.js","webpack:///./src/scripts/main-enter.js","webpack:///./src/scripts/main-exit.js","webpack:///./src/fonts .*\\.(eot|svg|ttf|woff2","webpack:///./src/images \\.(jpe","webpack:///./src/images/bubble-md.png","webpack:///./src/images/bubble-sm.png","webpack:///./src/images/bubble.png","webpack:///./src/images/logo.png","webpack:///./src/images/path4136.png","webpack:///./src/sounds \\.(mp3|ogg|wav)$/","webpack:///./src/data \\.json$","webpack:///./src/data/animations.json","webpack:///./src/data/entities.json","webpack:///./src/data/inputs.json","webpack:///./src/data/prefabs.json","webpack:///./src/data/scenes.json","webpack:///./src/data/systems.json"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;;ACtCA;;AAEA;AACA;;AAEA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG,IAAI;AACP;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC5EA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC1CA;AACA;;AAEA;;AAEA;AACA,uBAAsB,aAAa;AACnC,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,cAAa,gBAAgB;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,aAAa;AACxB,cAAa,gBAAgB;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAW,+BAA+B;AAC1C,aAAY,gBAAgB;AAC5B;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;;AAEA;AACA;AACA,YAAW,+BAA+B;AAC1C,aAAY,gBAAgB;AAC5B;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA,YAAW,+BAA+B;AAC1C,aAAY,gBAAgB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA,YAAW,+BAA+B;AAC1C,aAAY,gBAAgB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACvGA;;AAEA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;;;;;;;ACTA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA,wBAAuB;AACvB,wBAAuB;AACvB;AACA;AACA;AACA;;;;;;;ACzEA;;AAEA;;AAEA;AACA,8CAA6C,uDAAuD;AACpG;AACA;AACA,YAAW,WAAW;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA,uBAAsB,wEAAwE,yIAAyI,2FAA2F;AAClU,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,eAAe;;AAEhC;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC7MA;;AAEA;AACA,2CAA0C,gDAAgD;AAC1F;AACA;AACA,YAAW,gBAAgB;AAC3B;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4GAA2G,sBAAsB;AACjI,cAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa,OAAO;AACpB;AACA;AACA,iBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC/HA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,gCAAgC;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,2DAA0D;AAC1D;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,6BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;;AAEA;;;;;;;ACnLA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACLA;;AAEA;AACA,WAAU,qBAAqB,4FAA4F,wBAAwB;AACnJ;AACA;AACA;AACA;AACA,6CAA4C,qBAAqB;AACjE,cAAa;AACb;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAY,qBAAqB;AACjC,YAAW,OAAO,yCAAyC,sBAAsB,MAAM;AACvF,YAAW,OAAO,uBAAuB,qBAAqB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;;AAEA;AACA,iBAAgB,qBAAqB;AACrC,cAAa;AACb;AACA;AACA;AACA;AACA;AACA,uBAAsB,qBAAqB;AAC3C,YAAW,OAAO,0CAA0C,uBAAuB;AACnF,cAAa;AACb;AACA;AACA;AACA;;AAEA;;;;;;;AC1FA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,kBAAkB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,kBAAkB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;;AAEA;;;;;;;ACpHA;;AAEA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA,mCAAkC;AAClC;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gCAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AClGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;AChqBA;;AAEA;AACA;AACA;AACA,YAAW,cAAc;AACzB;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC1DA;AACA,oGAAmG,eAAe;AAClH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC1GA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;;AAEA;AACA,0EAAyE,uBAAuB;AAChG;AACA;AACA,uCAAsC,sBAAsB;AAC5D;AACA;AACA,4BAA2B,oBAAoB;AAC/C;AACA;AACA,YAAW,gBAAgB;AAC3B;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA;AACA;AACA,cAAa;AACb;AACA;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA,4CAA2C,oBAAoB;AAC/D,cAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,yBAAyB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH,GAAE;AACF;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa;AACb;AACA;AACA;AACA;;AAEA;;;;;;;ACzNA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;ACrCA;;AAEA;AACA;AACA;AACA;;;;;;;ACLA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,iBAAiB;AAClC;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA,iBAAgB,yBAAyB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA,GAAE;AACF;;AAEA;;;;;;;ACnDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0CAAyC,6BAA6B;AACtE,kDAAiD;AACjD;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AC3BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,gDAAgD;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,gDAAgD;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,kBAAkB;AAClC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,iBAAgB,uBAAuB;AACvC;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA,IAAG;AACH,GAAE;AACF;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAE;AACF;;AAEA;;;;;;;ACnKA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;ACnEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACTA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACbA;;AAEA;;AAEA;AACA,gHAA+G,wBAAwB;AACvI,0HAAyH,SAAS;AAClI;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,0DAAyD,uBAAuB;AAChF,cAAa;AACb;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO,yCAAyC,uBAAuB;AAClF,YAAW,OAAO;AAClB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO,0CAA0C;AAC5D,YAAW,OAAO,+FAA+F,uBAAuB;AACxI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO,0CAA0C;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uEAAsE,yBAAyB;AAC/F;AACA;AACA;AACA;AACA;AACA;AACA,oDAAmD,uBAAuB;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,QAAQ;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAkD,aAAa;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAC;AACD;AACA,EAAC;AACD;AACA;AACA;;;;;;;AC5TA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,KAAI;AACJ;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,KAAI;AACJ,IAAG;AACH;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,KAAI;AACJ,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,OAAM;AACN,MAAK;AACL;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,EAAC;AACD;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;;;;;;ACzFA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,IAAI;AACjB;AACA;AACA;AACA;AACA,KAAI;AACJ,IAAG;AACH;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,IAAI;AACjB;AACA;AACA;AACA;AACA,KAAI;AACJ,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ,IAAG;AACH;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,EAAC;AACD;AACA,qCAAoC;AACpC,+BAA8B;AAC9B,oCAAmC;AACnC;AACA;AACA;;;;;;;;AC1EA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;;;;;;;AC9BA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,cAAa,OAAO;AACpB;AACA,8BAA6B;AAC7B,gCAA+B;AAC/B,+BAA8B;AAC9B,gCAA+B;AAC/B,gCAA+B;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,+CAA8C;AAC9C;AACA;AACA;AACA;AACA;AACA;;;;;;;ACnCA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,wCAAuC,IAAI;;AAE3C;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gDAA+C;AAC/C,YAAW;AACX;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,6BAA4B;AAC5B,+BAA8B;AAC9B,+BAA8B;;AAE9B,8BAA6B;AAC7B,oBAAmB;;AAEnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,QAAO,GAAG;AACV;AACA;AACA,qBAAoB;AACpB,qBAAoB;AACpB,OAAM;AACN,mBAAkB,gCAAgC,KAAK;AACvD;AACA;AACA,kBAAiB,GAAG;AACpB;AACA;AACA,OAAM;AACN,qBAAoB;AACpB;AACA,mBAAkB,gCAAgC,KAAK;AACvD;;AAEA,0BAAyB,aAAa;AACtC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,2BAA0B;AAC1B;;AAEA;AACA,yBAAwB;;AAExB,aAAY,iBAAiB;AAC7B;AACA;AACA;AACA,SAAQ,YAAY;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;;;;;ACjNA;;AAEA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;ACjBA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;;AAEA;AACA;AACA,uCAAsC,sFAAsF;AAC5H;AACA;AACA;AACA,YAAW,eAAe;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,kCAAkC;AAC7C,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,wBAAuB,2BAA2B;AAClD,yBAAwB,0BAA0B;AAClD;AACA;AACA;AACA;AACA;AACA,wBAAuB,2BAA2B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,0BAA0B;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpHA;AACA;;AAEA;;AAEA;AACA;AACA,oBAAmB,0DAA0D,MAAM,0DAA0D;AAC7I,YAAW,OAAO;AAClB,YAAW,sCAAsC;AACjD;AACA;AACA;AACA,kBAAiB,mBAAmB;AACpC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA,GAAE;;AAEF;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,sCAAqC,iBAAiB;AACtD,cAAa;AACb;AACA,kBAAiB;AACjB;AACA,4CAA2C,8DAA8D;AACzG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,mHAAkH,wDAAwD;AAC1K,cAAa;AACb;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAU,OAAO;AACjB,WAAU,QAAQ;AAClB,WAAU,OAAO,6BAA6B,iBAAiB;AAC/D;AACA;AACA;AACA;AACA,0CAAyC,iBAAiB;AAC1D;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAU,OAAO;AACjB,WAAU,QAAQ;AAClB,aAAY,OAAO,wBAAwB,iBAAiB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACjNA;;AAEA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;;;;;;;ACTA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,gBAAe;AACf,4BAA2B;AAC3B;AACA,8BAA6B;AAC7B,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA,sCAAqC,sCAAsC;AAC3E;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG,IAAI;;AAEP;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,OAAO;AAClB;AACA;AACA,0CAAyC,yBAAyB;AAClE;AACA,YAAW,eAAe;AAC1B,YAAW,oBAAoB;AAC/B;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,GAAE;AACF;;AAEA;AACA;AACA;AACA,YAAW,MAAM;AACjB;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,oBAAoB;AAC/B;AACA;AACA;AACA;AACA,GAAE;AACF;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAC;AACD;AACA,EAAC;AACD;AACA;;;;;;;AC5HA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACVA;;AAEA;AACA,UAAS;AACT;;;;;;;ACJA;;AAEA;AACA,UAAS;AACT;;;;;;;ACJA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACdA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACjBA;;AAEA;AACA,UAAS;AACT;;;;;;;ACJA;;AAEA;AACA,UAAS;AACT;;;;;;;ACJA;AACA;AACA,cAAa,OAAO;AACpB;AACA,eAAc,MAAM;AACpB,eAAc,MAAM;AACpB,eAAc,MAAM;AACpB;AACA;;;;;;;ACRA;AACA;AACA,cAAa,OAAO;AACpB;AACA,eAAc,MAAM,kDAAkD,0BAA0B;AAChG,eAAc,MAAM,mDAAmD,0BAA0B;AACjG;;;;;;;ACNA;AACA,kFAAiF,uBAAuB;AACxG,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA,eAAc,KAAK;AACnB,eAAc,MAAM;AACpB,eAAc,KAAK;AACnB,eAAc,OAAO;AACrB,eAAc,MAAM;AACpB;;;;;;;ACdA;AACA;AACA,cAAa,OAAO;AACpB;AACA,eAAc,MAAM;AACpB,eAAc,MAAM;AACpB;;;;;;;ACNA,uD;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC,uDAAuD;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACxCA;;AAEA;AACA;AACA,iBAAgB,kBAAkB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;;;;;;;ACrEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH,GAAE;AACF;;;;;;;AC7BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;;;;;;;ACVA;;AAEA;;AAEA,uCAAsC;AACtC,qDAAoD;AACpD;;AAEA;AACA,kBAAiB,uBAAuB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,0BAA0B;AAC1C;AACA;AACA;AACA;AACA;;;;;;;AC9BA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA,yB;;;;;;AC9NA;;AAEA;AACA;AACA,uDAAsD;AACtD;AACA;AACA;AACA;AACA,GAAE;AACF;;;;;;;ACVA;;AAEA;AACA;AACA,yDAAwD;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;;;;;;;ACpBA;;AAEA;;AAEA,uCAAsC;AACtC;AACA,oDAAmD;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;;;;;;;AC/BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;;;;;;;ACVA;;AAEA;;AAEA;;AAEA;;AAEA;AACA,kBAAiB,uBAAuB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,mBAAkB,QAAQ;AAC1B;AACA;AACA;AACA;;AAEA,mDAAkD;AAClD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH,GAAE;AACF;;;;;;;ACpDA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,eAAc,KAAK;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,+BAA8B,KAAK;AACnC;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;ACzIA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAc,MAAM;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;;ACrNA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,4BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,YAAY;AAC/B;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAiB,YAAY;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,YAAY;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAiB,YAAY;AAC7B;AACA;AACA;AACA;;AAEA,iBAAgB,oCAAoC;AACpD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,kBAAiB,YAAY;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,iBAAiB;AAChC;AACA;AACA;;AAEA;AACA;AACA,cAAa,iBAAiB;AAC9B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iDAAgD,EAAE;AAClD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,6BAA6B;AAChD;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,sBAAqB,SAAS;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,sBAAqB,SAAS;AAC9B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,sBAAqB,SAAS;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,oBAAmB,cAAc;AACjC;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wDAAuD,OAAO;AAC9D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA,wDAAuD,OAAO;AAC9D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAkB;AAClB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,sBAAqB,QAAQ;AAC7B;AACA;AACA,IAAG;AACH;AACA,gBAAe,SAAS;AACxB;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,mBAAkB;AAClB;AACA;;AAEA;AACA;;AAEA;AACA;AACA,oBAAmB,SAAS;AAC5B;AACA;AACA,IAAG;AACH;AACA;AACA,oBAAmB,SAAS;AAC5B;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,wCAAuC,SAAS;AAChD;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAiB,YAAY;AAC7B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,kBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAiB,gBAAgB;AACjC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;;;;;;;;AC3gDA;;AAEA,EAAC;AACD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,qBAAoB,OAAO;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kDAAiD,YAAY;AAC7D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,EAAC,6BAAqD;;;;;;;AC3HtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,SAAQ,WAAW;;AAEnB;AACA;AACA;AACA,SAAQ,WAAW;;AAEnB;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA,SAAQ,WAAW;;AAEnB;AACA;AACA,SAAQ,UAAU;;AAElB;AACA;;;;;;;ACnFA,kBAAiB;;AAEjB;AACA;AACA;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,cAAa;;AAEb;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,6BAA4B;AAC5B,6BAA4B,cAAc;AAC1C,6BAA4B,cAAc;AAC1C,6BAA4B,cAAc;AAC1C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,eAAc,OAAO;AACrB;AACA,mBAAkB,GAAG;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;AC1MA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,KAAK;AACjB;AACA;AACA,IAAG;AACH,aAAY,KAAK;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAU,SAAS;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sB;;;;;;AChDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sBAAqB,UAAU;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,uBAAsB,WAAW;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,eAAc,KAAK;AACnB;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,mBAAkB,aAAa;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,mBAAkB,cAAc;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,sBAAqB,UAAU;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,uBAAsB,WAAW;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAc,KAAK;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,mBAAkB,gBAAgB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAoB,aAAa;AACjC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAoB,cAAc;AAClC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA,sBAAqB,UAAU;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB,WAAW;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,eAAc,KAAK;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;;AAEA;AACA,qBAAoB,aAAa;AACjC;AACA;;AAEA;AACA;AACA;AACA;;AAEA,4BAA2B,KAAK;AAChC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,sBAAqB,UAAU;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB,WAAW;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,eAAc,KAAK;AACnB;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA,qBAAoB,aAAa;AACjC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,4BAA2B,KAAK;AAChC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,6BAA4B,MAAM;AAClC;AACA,yBAAwB,aAAa;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;ACjbA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,UAAU;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB,QAAQ;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAoB,YAAY;AAChC;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,E;;;;;;AC3OA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gDAA+C,UAAU;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB,KAAK;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gDAA+C,UAAU;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB,KAAK;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;AC7eA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,2DAA0D;AAC1D,4CAA2C;;AAE3C;AACA,sFAAqF;AACrF,2BAA0B;AAC1B,kDAAiD;AACjD;AACA;AACA,sCAAqC;;AAErC;AACA,yFAAwF;AACxF,6BAA4B;AAC5B,mDAAkD;AAClD;AACA;AACA,uCAAsC;;AAEtC;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA,yCAAwC;AACxC,IAAG;AACH,0CAAyC;AACzC,IAAG;AACH,yCAAwC;AACxC;;AAEA,mCAAkC,gBAAgB,KAAK;AACvD;AACA;AACA;AACA,0DAAyD;AACzD,sDAAqD;AACrD;;AAEA;AACA;AACA,IAAG;AACH;AACA;;AAEA,gBAAe,oDAAoD;;AAEnE;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gEAA+D;;AAE/D;AACA;AACA;AACA,6DAA4D;AAC5D;;AAEA;AACA,sDAAqD;;AAErD;AACA;AACA,iBAAgB,KAAK;AACrB;AACA,IAAG;AACH,iCAAgC;AAChC;AACA,iBAAgB,KAAK;AACrB;AACA,kBAAiB,KAAK,iBAAiB;AACvC;AACA,iBAAgB,KAAK;AACrB;AACA,iBAAgB;AAChB;AACA,gBAAe;;AAEf;AACA;AACA;AACA;;;AAGA;AACA,0C;;;;;;AC/IA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,qBAAoB,OAAO;AAC3B;AACA,qC;AACA,wC;AACA;AACA;AACA;AACA;AACA,mBAAkB,YAAY;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,YAAY;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,YAAY;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,E;;;;;;AC7IA;;AAEA;;AAEA,uDAAsD,IAAI,UAAU,MAAM,wBAAwB,KAAK,YAAY,IAAI,KAAK,aAAa,qBAAqB,WAAW,oBAAoB;;AAE7L;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;ACnBA;;AAEA;AACA;AACA,wDAAuD;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;;;;;;;ACtBA;;AAEA;AACA,mDAAkD;AAClD;AACA,GAAE;AACF;;;;;;;ACNA;;AAEA;AACA;AACA,qEAAoE;AACpE;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;;;;;;;AC1BA;;AAEA;AACA;AACA,uDAAsD;AACtD;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;;;;;;;ACZA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;;;;;;;ACVA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,uCAAsC;AACtC,IAAG;AACH,uCAAsC;AACtC,IAAG;AACH,uCAAsC;AACtC;;AAEA;AACA;AACA;;AAEA;AACA,GAAE;AACF;;;;;;;ACpDA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA,mDAAkD;;AAElD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA,iDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH,kBAAiB,gBAAgB;AACjC;AACA;AACA,GAAE;AACF;;;;;;;AChGA;;AAEA;AACA;AACA,wDAAuD;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;;;;;;;ACbA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,sDAAqD;AACrD;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,GAAE;AACF;;;;;;;AC1CA;;AAEA;AACA;AACA,yDAAwD;AACxD;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,GAAE;AACF;;;;;;;ACtBA;;AAEA;AACA,yDAAwD;AACxD;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ,IAAG;AACH;AACA;AACA;AACA,GAAE;AACF;;;;;;;ACfA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAE;AACF;;;;;;;ACpBA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAE;AACF;;;;;;;ACpBA;;AAEA;AACA;AACA,qDAAoD;AACpD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH,GAAE;AACF;;;;;;;AClBA;;AAEA,uCAAsC;AACtC;AACA,qDAAoD;AACpD;AACA;AACA;AACA;AACA,GAAE;AACF;;;;;;;ACVA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,yBAAwB;AACxB;AACA;AACA;;AAEA,kBAAiB,sCAAsC;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;;;;;;;AC1BA;;AAEA;AACA;AACA,8DAA6D;AAC7D;AACA;;AAEA;AACA;AACA;AACA,GAAE;AACF;;;;;;;ACZA;;AAEA,qDAAoD;AACpD,uCAAsC;AACtC;AACA,GAAE;AACF;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC,uDAAuD;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACjBA;;AAEA,uCAAsC;AACtC;AACA,0CAAyC;AACzC;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;;;;;;ACXA;;AAEA,uCAAsC;AACtC,0CAAyC;AACzC,IAAG;AACH;;;;;;;ACLA;;AAEA,uCAAsC;AACtC,0CAAyC;AACzC;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;;;;;;ACVA;;AAEA,uCAAsC;AACtC,0CAAyC;AACzC,IAAG;AACH;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC,uDAAuD;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AChBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0CAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;;;;;;;ACrBA;;AAEA,kCAAiC;AACjC;;;;;;;ACHA;;AAEA,kCAAiC;AACjC;;;;;;;ACHA;AACA;AACA;AACA,mCAAkC,WAAW;AAC7C;AACA;AACA;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC,uDAAuD;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AClBA,iE;;;;;;ACAA,iE;;;;;;ACAA,8D;;;;;;ACAA,4D;;;;;;ACAA,gE;;;;;;ACAA;AACA;AACA;AACA,mCAAkC,WAAW;AAC7C;AACA;AACA;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC,uDAAuD;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACnBA,qB;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,KAAI;AACJ;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACtEA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;AC5EA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,G","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 9b4fb5ecf70be3907ca4\n **/","\"use strict\";\n\nvar canvas = document.getElementById(\"canvas\");\nvar context = canvas.getContext(\"2d\");\n\nvar Splat = require(\"splat-ecs\");\nrequire(\"./index.html\");\n\n\n// This is some webpack magic to ensure the dynamically required scripts are loaded\n\nvar splatSystemPath = \"splat-ecs/lib/systems\";\n// WARNING: can't use splatSystemPath variable here, or webpack won't pick it up\nvar splatSystemRequire = require.context(\"splat-ecs/lib/systems\", true, /\\.js$/);\n\nvar localSystemPath = \"./systems\";\nvar localSystemRequire = require.context(\"./systems\", true, /\\.js$/);\n\nvar localScriptPath = \"./scripts\";\nvar localScriptRequire = require.context(\"./scripts\", true, /\\.js$/);\n\nfunction generateManifest(files, folder) {\n  return files.reduce(function(manifest, file) {\n    var basename = file.substr(2);\n    manifest[basename] = folder + \"/\" + basename;\n    return manifest;\n  }, {});\n}\n\nrequire.context(\"./fonts\", true, /.*\\.(eot|svg|ttf|woff2?)$/i);\n\nvar imageContext = require.context(\"./images\", true, /\\.(jpe?g|png|gif|svg)$/i);\nvar imageManifest = generateManifest(imageContext.keys(), \"images\");\n\nvar soundContext = require.context(\"./sounds\", true, /\\.(mp3|ogg|wav)$/i);\nvar soundManifest = generateManifest(soundContext.keys(), \"sounds\");\n\nvar localDataPath = \"./data\";\nvar localDataRequire = require.context(\"./data\", true, /\\.json$/);\n\nfunction customRequire(path) {\n  if (path.indexOf(splatSystemPath) === 0) {\n    var splatName = \"./\" + path.substr(splatSystemPath.length + 1) + \".js\";\n    return splatSystemRequire(splatName);\n  }\n  if (path.indexOf(localSystemPath) === 0) {\n    var localName = \"./\" + path.substr(localSystemPath.length + 1) + \".js\";\n    return localSystemRequire(localName);\n  }\n  if (path.indexOf(localScriptPath) === 0) {\n    var scriptName = \"./\" + path.substr(localScriptPath.length + 1) + \".js\";\n    return localScriptRequire(scriptName);\n  }\n  if (path === \"./data/images\") {\n    return imageManifest;\n  }\n  if (path === \"./data/sounds\") {\n    return soundManifest;\n  }\n  if (path.indexOf(localDataPath) === 0) {\n    var dataName = \"./\" + path.substr(localDataPath.length + 1) + \".json\";\n    return localDataRequire(dataName);\n  }\n  console.error(\"Unable to load module: \\\"\", path, \"\\\"\");\n  return undefined;\n}\n\nvar game = new Splat.Game(canvas, customRequire);\n\nfunction percentLoaded() {\n  if (game.images.totalImages + game.sounds.totalSounds === 0) {\n    return 1;\n  }\n  return (game.images.loadedImages + game.sounds.loadedSounds) / (game.images.totalImages + game.sounds.totalSounds);\n}\nvar loading = Splat.loadingScene(game, percentLoaded, game.scene);\nloading.start(context);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/game.js\n ** module id = 1\n ** module chunks = 0\n **/","\"use strict\";\n\nvar buffer = require(\"./buffer\");\n\n/**\n * @namespace Splat\n */\nmodule.exports = {\n\tmakeBuffer: buffer.makeBuffer,\n\tflipBufferHorizontally: buffer.flipBufferHorizontally,\n\tflipBufferVertically: buffer.flipBufferVertically,\n\n\tads: require(\"./ads\"),\n\tAStar: require(\"./astar\"),\n\tBinaryHeap: require(\"./binary-heap\"),\n\tGame: require(\"./game\"),\n\tiap: require(\"./iap\"),\n\tImageLoader: require(\"./image-loader\"),\n\tInput: require(\"./input\"),\n\tleaderboards: require(\"./leaderboards\"),\n\tloadingScene: require(\"./loading-scene\"),\n\tmath: require(\"./math\"),\n\topenUrl: require(\"./openUrl\"),\n\tNinePatch: require(\"./ninepatch\"),\n\tParticles: require(\"./particles\"),\n\tsaveData: require(\"./save-data\"),\n\tScene: require(\"./scene\"),\n\tSoundLoader: require(\"./sound-loader\"),\n\n\tcomponents: {\n\t\tanimation: require(\"./components/animation\"),\n\t\tcamera: require(\"./components/camera\"),\n\t\tfriction: require(\"./components/friction\"),\n\t\timage: require(\"./components/image\"),\n\t\tmovement2d: require(\"./components/movement-2d\"),\n\t\tplayableArea: require(\"./components/playable-area\"),\n\t\tplayerController2d: require(\"./components/player-controller-2d\"),\n\t\tposition: require(\"./components/position\"),\n\t\tsize: require(\"./components/size\"),\n\t\ttimers: require(\"./components/timers\"),\n\t\tvelocity: require(\"./components/velocity\")\n\t}\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/main.js\n ** module id = 2\n ** module chunks = 0\n **/","\"use strict\";\n/** @module splat-ecs/lib/buffer */\n\nvar platform = require(\"./platform\");\n\n/**\n * Make an invisible {@link canvas}.\n * @param {number} width The width of the canvas\n * @param {number} height The height of the canvas\n * @returns {external:canvas} A canvas DOM element\n * @private\n */\nfunction makeCanvas(width, height) {\n\tvar c = document.createElement(\"canvas\");\n\tc.width = width;\n\tc.height = height;\n\t// when retina support is enabled, context.getImageData() reads from the wrong pixel causing NinePatch to break\n\tif (platform.isEjecta()) {\n\t\tc.retinaResolutionEnabled = false;\n\t}\n\treturn c;\n}\n\n/**\n * Make an invisible canvas buffer, and draw on it.\n * @param {number} width The width of the buffer\n * @param {number} height The height of the buffer\n * @param {drawCallback} drawFun The callback that draws on the buffer\n * @returns {external:canvas} The drawn buffer\n */\nfunction makeBuffer(width, height, drawFun) {\n\tvar canvas = makeCanvas(width, height);\n\tvar ctx = canvas.getContext(\"2d\");\n\t// when image smoothing is enabled, the image gets blurred and the pixel data isn't correct even when the image shouldn't be scaled which breaks NinePatch\n\tif (platform.isEjecta()) {\n\t\tctx.imageSmoothingEnabled = false;\n\t}\n\tdrawFun(ctx);\n\treturn canvas;\n}\n\n/**\n * Make a horizonally-flipped copy of a buffer or image.\n * @param {external:canvas|external:image} buffer The original image\n * @return {external:canvas} The flipped buffer\n */\nfunction flipBufferHorizontally(buffer) {\n\treturn makeBuffer(buffer.width, buffer.height, function(context) {\n\t\tcontext.scale(-1, 1);\n\t\tcontext.drawImage(buffer, -buffer.width, 0);\n\t});\n}\n\n/**\n * Make a vertically-flipped copy of a buffer or image.\n * @param {external:canvas|external:image} buffer The original image\n * @return {external:canvas} The flipped buffer\n */\nfunction flipBufferVertically(buffer) {\n\treturn makeBuffer(buffer.width, buffer.height, function(context) {\n\t\tcontext.scale(1, -1);\n\t\tcontext.drawImage(buffer, 0, -buffer.height);\n\t});\n}\n/**\n * Make a copy of a buffer that is rotated 90 degrees clockwise.\n * @param {external:canvas|external:image} buffer The original image\n * @return {external:canvas} The rotated buffer\n */\nfunction rotateClockwise(buffer) {\n\tvar w = buffer.height;\n\tvar h = buffer.width;\n\tvar w2 = Math.floor(w / 2);\n\tvar h2 = Math.floor(h / 2);\n\treturn makeBuffer(w, h, function(context) {\n\t\tcontext.translate(w2, h2);\n\t\tcontext.rotate(Math.PI / 2);\n\t\tcontext.drawImage(buffer, -h2, -w2);\n\t});\n}\n/**\n * Make a copy of a buffer that is rotated 90 degrees counterclockwise.\n * @param {external:canvas|external:image} buffer The original image\n * @return {external:canvas} The rotated buffer\n */\nfunction rotateCounterclockwise(buffer) {\n\tvar w = buffer.height;\n\tvar h = buffer.width;\n\tvar w2 = Math.floor(w / 2);\n\tvar h2 = Math.floor(h / 2);\n\treturn makeBuffer(w, h, function(context) {\n\t\tcontext.translate(w2, h2);\n\t\tcontext.rotate(-Math.PI / 2);\n\t\tcontext.drawImage(buffer, -h2, -w2);\n\t});\n}\n\nmodule.exports = {\n\tmakeBuffer: makeBuffer,\n\tflipBufferHorizontally: flipBufferHorizontally,\n\tflipBufferVertically: flipBufferVertically,\n\trotateClockwise: rotateClockwise,\n\trotateCounterclockwise: rotateCounterclockwise\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/buffer.js\n ** module id = 3\n ** module chunks = 0\n **/","\"use strict\";\n\nmodule.exports = {\n\tisChromeApp: function() {\n\t\treturn window.chrome && window.chrome.app && window.chrome.app.runtime;\n\t},\n\tisEjecta: function() {\n\t\treturn window.ejecta;\n\t}\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/platform.js\n ** module id = 4\n ** module chunks = 0\n **/","\"use strict\";\n/**\n * @namespace Splat.ads\n */\n\nvar platform = require(\"./platform\");\n\nif (platform.isEjecta()) {\n\tvar adBanner = new window.Ejecta.AdBanner();\n\n\tvar isLandscape = window.innerWidth > window.innerHeight;\n\n\tvar sizes = {\n\t\t\"iPhone\": {\n\t\t\t\"portrait\": {\n\t\t\t\t\"width\": 320,\n\t\t\t\t\"height\": 50\n\t\t\t},\n\t\t\t\"landscape\": {\n\t\t\t\t\"width\": 480,\n\t\t\t\t\"height\": 32\n\t\t\t}\n\t\t},\n\t\t\"iPad\": {\n\t\t\t\"portrait\": {\n\t\t\t\t\"width\": 768,\n\t\t\t\t\"height\": 66\n\t\t\t},\n\t\t\t\"landscape\": {\n\t\t\t\t\"width\": 1024,\n\t\t\t\t\"height\": 66\n\t\t\t}\n\t\t}\n\t};\n\n\tvar device = window.navigator.userAgent.indexOf(\"iPad\") >= 0 ? \"iPad\" : \"iPhone\";\n\tvar size = sizes[device][isLandscape ? \"landscape\" : \"portrait\"];\n\n\tmodule.exports = {\n\t\t/**\n\t\t * Show an advertisement.\n\t\t * @alias Splat.ads.show\n\t\t * @param {boolean} isAtBottom true if the ad should be shown at the bottom of the screen. false if it should be shown at the top.\n\t\t */\n\t\t\"show\": function(isAtBottom) {\n\t\t\tadBanner.isAtBottom = isAtBottom;\n\t\t\tadBanner.show();\n\t\t},\n\t\t/**\n\t\t * Hide the current advertisement.\n\t\t * @alias Splat.ads.hide\n\t\t */\n\t\t\"hide\": function() {\n\t\t\tadBanner.hide();\n\t\t},\n\t\t/**\n\t\t * The width of the ad that will show.\n\t\t * @alias Splat.ads#width\n\t\t */\n\t\t\"width\": size.width,\n\t\t/**\n\t\t * The height of the ad that will show.\n\t\t * @alias Splat.ads#height\n\t\t */\n\t\t\"height\": size.height\n\t};\n} else {\n\tmodule.exports = {\n\t\t\"show\": function() {},\n\t\t\"hide\": function() {},\n\t\t\"width\": 0,\n\t\t\"height\": 0\n\t};\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/ads.js\n ** module id = 5\n ** module chunks = 0\n **/","\"use strict\";\n\nvar BinaryHeap = require(\"./binary-heap\");\n\n/**\n * Implements the [A* pathfinding algorithm]{@link http://en.wikipedia.org/wiki/A*_search_algorithm} on a 2-dimensional grid. You can use this to find a path between a source and destination coordinate while avoiding obstacles.\n * @constructor\n * @alias Splat.AStar\n * @param {isWalkable} isWalkable A function to test if a coordinate is walkable by the entity you're performing the pathfinding for.\n */\nfunction AStar(isWalkable) {\n\tthis.destX = 0;\n\tthis.destY = 0;\n\tthis.scaleX = 1;\n\tthis.scaleY = 1;\n\tthis.openNodes = {};\n\tthis.closedNodes = {};\n\tthis.openHeap = new BinaryHeap(function(a, b) {\n\t\treturn a.f - b.f;\n\t});\n\tthis.isWalkable = isWalkable;\n}\n/**\n * The [A* heuristic]{@link http://theory.stanford.edu/~amitp/GameProgramming/Heuristics.html}, commonly referred to as h(x), that estimates how far a location is from the destination. This implementation is the [Manhattan method]{@link http://theory.stanford.edu/~amitp/GameProgramming/Heuristics.html#manhattan-distance}, which is good for situations when the entity can travel in four directions. Feel free to replace this with a different heuristic implementation.\n * @param {number} x The x coordinate to estimate the distance to the destination.\n * @param {number} y The y coordinate to estimate the distance to the destination.\n */\nAStar.prototype.heuristic = function(x, y) {\n\t// manhattan method\n\tvar dx = Math.abs(x - this.destX) / this.scaleX;\n\tvar dy = Math.abs(y - this.destY) / this.scaleY;\n\treturn dx + dy;\n};\n/**\n * Make a node to track a given coordinate\n * @param {number} x The x coordinate of the node\n * @param {number} y The y coordinate of the node\n * @param {object} parent The parent node for the current node. This chain of parents eventually points back at the starting node.\n * @param {number} g The g(x) travel cost from the parent node to this node.\n * @private\n */\nAStar.prototype.makeNode = function(x, y, parent, g) {\n\tg += parent.g;\n\tvar h = this.heuristic(x, y);\n\n\treturn {\n\t\tx: x,\n\t\ty: y,\n\t\tparent: parent,\n\t\tf: g + h,\n\t\tg: parent.g + g,\n\t\th: h\n\t};\n};\n/**\n * Update the g(x) travel cost to a node if a new lower-cost path is found.\n * @param {string} key The key of the node on the open list.\n * @param {object} parent A parent node that may have a shorter path for the node specified in key.\n * @param {number} g The g(x) travel cost from parent to the node specified in key.\n * @private\n */\nAStar.prototype.updateOpenNode = function(key, parent, g) {\n\tvar node = this.openNodes[key];\n\tif (!node) {\n\t\treturn false;\n\t}\n\n\tvar newG = parent.g + g;\n\n\tif (newG >= node.g) {\n\t\treturn true;\n\t}\n\n\tnode.parent = parent;\n\tnode.g = newG;\n\tnode.f = node.g + node.h;\n\n\tvar pos = this.openHeap.indexOf(node);\n\tthis.openHeap.bubbleUp(pos);\n\n\treturn true;\n};\n/**\n * Create a neighbor node to a parent node, and add it to the open list for consideration.\n * @param {string} key The key of the new neighbor node.\n * @param {number} x The x coordinate of the new neighbor node.\n * @param {number} y The y coordinate of the new neighbor node.\n * @param {object} parent The parent node of the new neighbor node.\n * @param {number} g The travel cost from the parent to the new parent node.\n * @private\n */\nAStar.prototype.insertNeighbor = function(key, x, y, parent, g) {\n\tvar node = this.makeNode(x, y, parent, g);\n\tthis.openNodes[key] = node;\n\tthis.openHeap.insert(node);\n};\nAStar.prototype.tryNeighbor = function(x, y, parent, g) {\n\tvar key = makeKey(x, y);\n\tif (this.closedNodes[key]) {\n\t\treturn;\n\t}\n\tif (!this.isWalkable(x, y)) {\n\t\treturn;\n\t}\n\tif (!this.updateOpenNode(key, parent, g)) {\n\t\tthis.insertNeighbor(key, x, y, parent, g);\n\t}\n};\nAStar.prototype.getNeighbors = function getNeighbors(parent) {\n\tvar diagonalCost = 1.4;\n\tvar straightCost = 1;\n\tthis.tryNeighbor(parent.x - this.scaleX, parent.y - this.scaleY, parent, diagonalCost);\n\tthis.tryNeighbor(parent.x, parent.y - this.scaleY, parent, straightCost);\n\tthis.tryNeighbor(parent.x + this.scaleX, parent.y - this.scaleY, parent, diagonalCost);\n\n\tthis.tryNeighbor(parent.x - this.scaleX, parent.y, parent, straightCost);\n\tthis.tryNeighbor(parent.x + this.scaleX, parent.y, parent, straightCost);\n\n\tthis.tryNeighbor(parent.x - this.scaleX, parent.y + this.scaleY, parent, diagonalCost);\n\tthis.tryNeighbor(parent.x, parent.y + this.scaleY, parent, straightCost);\n\tthis.tryNeighbor(parent.x + this.scaleX, parent.y + this.scaleY, parent, diagonalCost);\n};\n\nfunction generatePath(node) {\n\tvar path = [];\n\twhile (node.parent) {\n\t\tvar ix = node.x;\n\t\tvar iy = node.y;\n\t\twhile (ix !== node.parent.x || iy !== node.parent.y) {\n\t\t\tpath.unshift({ x: ix, y: iy });\n\n\t\t\tvar dx = node.parent.x - ix;\n\t\t\tif (dx > 0) {\n\t\t\t\tix++;\n\t\t\t} else if (dx < 0) {\n\t\t\t\tix--;\n\t\t\t}\n\t\t\tvar dy = node.parent.y - iy;\n\t\t\tif (dy > 0) {\n\t\t\t\tiy++;\n\t\t\t} else if (dy < 0) {\n\t\t\t\tiy--;\n\t\t\t}\n\t\t}\n\t\tnode = node.parent;\n\t}\n\treturn path;\n}\n\nfunction makeKey(x, y) {\n\treturn x + \",\" + y;\n}\n\n/**\n * Search for an optimal path between srcX, srcY and destX, destY, while avoiding obstacles.\n * @param {number} srcX The starting x coordinate\n * @param {number} srcY The starting y coordinate\n * @param {number} destX The destination x coordinate\n * @param {number} destY The destination y coordinate\n * @returns {Array} The optimal path, in the form of an array of objects that each have an x and y property.\n */\nAStar.prototype.search = function aStar(srcX, srcY, destX, destY) {\n\tfunction scale(c, s) {\n\t\tvar downscaled = Math.floor(c / s);\n\t\treturn downscaled * s;\n\t}\n\tsrcX = scale(srcX, this.scaleX);\n\tsrcY = scale(srcY, this.scaleY);\n\tthis.destX = scale(destX, this.scaleX);\n\tthis.destY = scale(destY, this.scaleY);\n\n\tif (!this.isWalkable(this.destX, this.destY)) {\n\t\treturn [];\n\t}\n\n\tvar srcKey = makeKey(srcX, srcY);\n\tvar srcNode = {\n\t\tx: srcX,\n\t\ty: srcY,\n\t\tg: 0,\n\t\th: this.heuristic(srcX, srcY)\n\t};\n\tsrcNode.f = srcNode.h;\n\tthis.openNodes = {};\n\tthis.openNodes[srcKey]  = srcNode;\n\tthis.openHeap = new BinaryHeap(function(a, b) {\n\t\treturn a.f - b.f;\n\t});\n\tthis.openHeap.insert(srcNode);\n\tthis.closedNodes = {};\n\n\tvar node = this.openHeap.deleteRoot();\n\twhile (node) {\n\t\tvar key = makeKey(node.x, node.y);\n\t\tdelete this.openNodes[key];\n\t\tthis.closedNodes[key] = node;\n\t\tif (node.x === this.destX && node.y === this.destY) {\n\t\t\treturn generatePath(node);\n\t\t}\n\t\tthis.getNeighbors(node);\n\t\tnode = this.openHeap.deleteRoot();\n\t}\n\treturn [];\n};\n\nmodule.exports = AStar;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/astar.js\n ** module id = 6\n ** module chunks = 0\n **/","\"use strict\";\n\n/**\n * An implementation of the [Binary Heap]{@link https://en.wikipedia.org/wiki/Binary_heap} data structure suitable for priority queues.\n * @constructor\n * @alias Splat.BinaryHeap\n * @param {compareFunction} cmp A comparison function that determines how the heap is sorted.\n */\nfunction BinaryHeap(cmp) {\n\t/**\n\t * The comparison function for sorting the heap.\n\t * @member {compareFunction}\n\t * @private\n\t */\n\tthis.cmp = cmp;\n\t/**\n\t * The list of elements in the heap.\n\t * @member {Array}\n\t * @private\n\t */\n\tthis.array = [];\n\t/**\n\t * The number of elements in the heap.\n\t * @member {number}\n\t * @readonly\n\t */\n\tthis.length = 0;\n}\n/**\n * Calculate the index of a node's parent.\n * @param {number} i The index of the child node\n * @returns {number}\n * @private\n */\nBinaryHeap.prototype.parentIndex = function(i) {\n\treturn Math.floor((i - 1) / 2);\n};\n/**\n * Calculate the index of a parent's first child node.\n * @param {number} i The index of the parent node\n * @returns {number}\n * @private\n */\nBinaryHeap.prototype.firstChildIndex = function(i) {\n\treturn (2 * i) + 1;\n};\n/**\n * Bubble a node up the heap, stopping when it's value should not be sorted before its parent's value.\n * @param {number} pos The index of the node to bubble up.\n * @private\n */\nBinaryHeap.prototype.bubbleUp = function(pos) {\n\tif (pos === 0) {\n\t\treturn;\n\t}\n\n\tvar data = this.array[pos];\n\tvar parentIndex = this.parentIndex(pos);\n\tvar parent = this.array[parentIndex];\n\tif (this.cmp(data, parent) < 0) {\n\t\tthis.array[parentIndex] = data;\n\t\tthis.array[pos] = parent;\n\t\tthis.bubbleUp(parentIndex);\n\t}\n};\n/**\n * Store a new node in the heap.\n * @param {object} data The data to store\n */\nBinaryHeap.prototype.insert = function(data) {\n\tthis.array.push(data);\n\tthis.length = this.array.length;\n\tvar pos = this.array.length - 1;\n\tthis.bubbleUp(pos);\n};\n/**\n * Bubble a node down the heap, stopping when it's value should not be sorted after its parent's value.\n * @param {number} pos The index of the node to bubble down.\n * @private\n */\nBinaryHeap.prototype.bubbleDown = function(pos) {\n\tvar left = this.firstChildIndex(pos);\n\tvar right = left + 1;\n\tvar largest = pos;\n\tif (left < this.array.length && this.cmp(this.array[left], this.array[largest]) < 0) {\n\t\tlargest = left;\n\t}\n\tif (right < this.array.length && this.cmp(this.array[right], this.array[largest]) < 0) {\n\t\tlargest = right;\n\t}\n\tif (largest !== pos) {\n\t\tvar tmp = this.array[pos];\n\t\tthis.array[pos] = this.array[largest];\n\t\tthis.array[largest] = tmp;\n\t\tthis.bubbleDown(largest);\n\t}\n};\n/**\n * Remove the heap's root node, and return it. The root node is whatever comes first as determined by the {@link compareFunction}.\n * @returns {data} The root node's data.\n */\nBinaryHeap.prototype.deleteRoot = function() {\n\tvar root = this.array[0];\n\tif (this.array.length <= 1) {\n\t\tthis.array = [];\n\t\tthis.length = 0;\n\t\treturn root;\n\t}\n\tthis.array[0] = this.array.pop();\n\tthis.length = this.array.length;\n\tthis.bubbleDown(0);\n\treturn root;\n};\n/**\n * Search for a node in the heap.\n * @param {object} data The data to search for.\n * @returns {number} The index of the data in the heap, or -1 if it is not found.\n */\nBinaryHeap.prototype.indexOf = function(data) {\n\tfor (var i = 0; i < this.array.length; i++) {\n\t\tif (this.array[i] === data) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n};\n\nmodule.exports = BinaryHeap;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/binary-heap.js\n ** module id = 7\n ** module chunks = 0\n **/","\"use strict\";\n\nvar clone = require(\"./clone\");\nvar ImageLoader = require(\"./image-loader\");\nvar Input = require(\"./input\");\nvar Scene = require(\"./scene\");\nvar SoundLoader = require(\"./sound-loader\");\n\nfunction splitFilmStripAnimations(animations) {\n\tObject.keys(animations).forEach(function(key) {\n\t\tvar firstFrame = animations[key][0];\n\t\tif (firstFrame.filmstripFrames) {\n\t\t\tsplitFilmStripAnimation(animations, key);\n\t\t}\n\t});\n}\nfunction splitFilmStripAnimation(animations, key) {\n\tvar firstFrame = animations[key][0];\n\tif (firstFrame.properties.image.sourceWidth % firstFrame.filmstripFrames != 0) {\n\t\tconsole.warn(\"The \\\"\" + key + \"\\\" animation is \" + firstFrame.properties.image.sourceWidth + \" pixels wide and that is is not evenly divisible by \" + firstFrame.filmstripFrames + \" frames.\");\n\t}\n\tfor (var i = 0; i < firstFrame.filmstripFrames; i++) {\n\t\tvar frameWidth = firstFrame.properties.image.sourceWidth / firstFrame.filmstripFrames;\n\t\tvar newFrame = clone(firstFrame);\n\t\tnewFrame.properties.image.sourceX = frameWidth * i;\n\t\tnewFrame.properties.image.sourceWidth = frameWidth;\n\t\tanimations[key].push(newFrame);\n\t}\n\tanimations[key].splice(0,1);\n}\n\nfunction Game(canvas, customRequire) {\n\tthis.animations = customRequire(\"./data/animations\");\n\tsplitFilmStripAnimations(this.animations);\n\tthis.canvas = canvas;\n\tthis.context = canvas.getContext(\"2d\");\n\tthis.entities = customRequire(\"./data/entities\");\n\tthis.images = new ImageLoader();\n\tthis.images.loadFromManifest(customRequire(\"./data/images\"));\n\tthis.inputs = new Input(customRequire(\"./data/inputs\"), canvas);\n\tthis.require = customRequire;\n\tthis.scenes = customRequire(\"./data/scenes\");\n\tthis.sounds = new SoundLoader();\n\tthis.sounds.loadFromManifest(customRequire(\"./data/sounds\"));\n\tthis.systems = customRequire(\"./data/systems\");\n\tthis.prefabs = customRequire(\"./data/prefabs\");\n\n\tthis.scaleCanvasToCssSize();\n\twindow.addEventListener(\"resize\", this.onCanvasResize.bind(this));\n\n\tthis.makeScenes(this.scenes);\n}\nGame.prototype.makeScenes = function(sceneList) {\n\tObject.keys(sceneList).forEach(function(scene) {\n\t\tif (sceneList[scene].first) {\n\t\t\tthis.scene = this.makeScene(scene, sceneList[scene], {});\n\t\t}\n\t}.bind(this));\n};\nGame.prototype.makeScene = function(name, sceneData, sceneArgs) {\n\tvar scene = new Scene();\n\n\tvar data = this.makeSceneData(scene.entities, sceneArgs);\n\tscene.simulation.add(function() {\n\t\tdata.inputs.processUpdates();\n\t});\n\tthis.installSystems(name, this.systems.simulation, scene.simulation, data);\n\tthis.installSystems(name, this.systems.renderer, scene.renderer, data);\n\tscene.entities.load(clone(this.entities[name]));\n\n\tif (typeof sceneData.onEnter === \"string\") {\n\t\tvar enterScript = this.require(sceneData.onEnter);\n\t\tif (typeof enterScript === \"function\") {\n\t\t\tenterScript = enterScript.bind(scene, data);\n\t\t}\n\t\tscene.onEnter = enterScript;\n\t}\n\tif (typeof sceneData.onExit === \"string\") {\n\t\tvar exitScript = this.require(sceneData.onExit);\n\t\tif (typeof exitScript === \"function\") {\n\t\t\texitScript = exitScript.bind(scene, data);\n\t\t}\n\t\tscene.onExit = exitScript;\n\t}\n\n\treturn scene;\n};\nGame.prototype.makeSceneData = function(entities, sceneArgs) {\n\treturn {\n\t\tanimations: this.animations,\n\t\targuments: sceneArgs || {},\n\t\tcanvas: this.canvas,\n\t\tcontext: this.context,\n\t\tentities: entities,\n\t\timages: this.images,\n\t\tinputs: this.inputs,\n\t\trequire: this.require,\n\t\tscaleCanvasToCssSize: this.scaleCanvasToCssSize.bind(this),\n\t\tscaleCanvasToFitRectangle: this.scaleCanvasToFitRectangle.bind(this),\n\t\tsounds: this.sounds,\n\t\tswitchScene: this.switchScene.bind(this),\n\t\tinstantiatePrefab: this.instantiatePrefab.bind(this),\n\t\tregisterPrefab: this.registerPrefab.bind(this),\n\t\tregisterPrefabs: this.registerPrefabs.bind(this)\n\t};\n};\nGame.prototype.installSystems = function(scene, systems, ecs, data) {\n\tsystems.forEach(function(system) {\n\t\tif (system.scenes.indexOf(scene) === -1 && system.scenes !== \"all\") {\n\t\t\treturn;\n\t\t}\n\t\tvar script = this.require(system.name);\n\t\tif (script === undefined) {\n\t\t\tconsole.error(\"failed to load script\", system.name);\n\t\t}\n\t\tscript(ecs, data);\n\t}.bind(this));\n};\nGame.prototype.switchScene = function(name, sceneArgs) {\n\tif (this.scene !== undefined) {\n\t\tthis.scene.stop();\n\t}\n\tthis.scene = this.makeScene(name, this.scenes[name], sceneArgs);\n\tthis.scene.start(this.context);\n};\nGame.prototype.onCanvasResize = function() {\n\tthis.resizer();\n};\nGame.prototype.scaleCanvasToCssSize = function() {\n\tthis.resizer = function() {\n\t\tvar canvasStyle = window.getComputedStyle(this.canvas);\n\t\tvar width = parseInt(canvasStyle.width);\n\t\tvar height = parseInt(canvasStyle.height);\n\t\tthis.canvas.width = width;\n\t\tthis.canvas.height = height;\n\t}.bind(this);\n\tthis.resizer();\n};\nGame.prototype.scaleCanvasToFitRectangle = function(width, height) {\n\tthis.resizer = function() {\n\t\tvar canvasStyle = window.getComputedStyle(this.canvas);\n\t\tvar cssWidth = parseInt(canvasStyle.width);\n\t\tvar cssHeight = parseInt(canvasStyle.height);\n\t\tvar cssAspectRatio = cssWidth / cssHeight;\n\n\t\tvar desiredWidth = width;\n\t\tvar desiredHeight = height;\n\t\tvar desiredAspectRatio = width / height;\n\t\tif (desiredAspectRatio > cssAspectRatio) {\n\t\t\tdesiredHeight = Math.floor(width / cssAspectRatio);\n\t\t} else if (desiredAspectRatio < cssAspectRatio) {\n\t\t\tdesiredWidth = Math.floor(height * cssAspectRatio);\n\t\t}\n\n\t\tthis.canvas.width = desiredWidth;\n\t\tthis.canvas.height = desiredHeight;\n\t}.bind(this);\n\tthis.resizer();\n};\nGame.prototype.instantiatePrefab = function(name) {\n\tvar id = this.scene.entities.create();\n\tvar prefab = this.prefabs[name];\n\tObject.keys(prefab).forEach(function(key) {\n\t\tif (key === \"id\") {\n\t\t\treturn;\n\t\t}\n\t\tthis.scene.entities.set(id, key, clone(prefab[key]));\n\t}.bind(this));\n\treturn id;\n};\nGame.prototype.registerPrefab = function(name, components) {\n\tthis.prefabs[name] = components;\n};\nGame.prototype.registerPrefabs = function(prefabs) {\n\tObject.keys(prefabs).forEach(function(key) {\n\t\tthis.registerPrefab(key, prefabs[key]);\n\t}.bind(this));\n};\n\nmodule.exports = Game;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/game.js\n ** module id = 8\n ** module chunks = 0\n **/","module.exports = function clone(obj) {\n\tif (obj === undefined) {\n\t\treturn undefined;\n\t}\n\treturn JSON.parse(JSON.stringify(obj));\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/clone.js\n ** module id = 9\n ** module chunks = 0\n **/","\"use strict\";\n\n/**\n * Loads {@link external:image}s and lets you know when they're all available. An instance of ImageLoader is available as {@link Splat.Game#images}.\n * @constructor\n */\nfunction ImageLoader(onLoad) {\n\t/**\n\t * The key-value object that stores named {@link external:image}s\n\t * @member {object}\n\t * @private\n\t */\n\tthis.images = {};\n\t/**\n\t * The total number of images to be loaded.\n\t * @member {number}\n\t * @private\n\t */\n\tthis.totalImages = 0;\n\t/**\n\t * The number of images that have loaded completely.\n\t * @member {number}\n\t * @private\n\t */\n\tthis.loadedImages = 0;\n\t/**\n\t * The names of all the images that were requested to be loaded.\n\t * @member {Array}\n\t * @private\n\t */\n\tthis.names = [];\n\t/**\n\t * A callback to be called once all images are loaded.\n\t * @member {Array}\n\t * @private\n\t */\n\tthis.onLoad = onLoad;\n}\n/**\n * Load an {@link external:image}.\n * @param {string} name The name you want to use when you {@link ImageLoader#get} the {@link external:image}\n * @param {string} path The path of the {@link external:image}.\n */\nImageLoader.prototype.load = function(name, path) {\n\t// only load an image once\n\tif (this.names.indexOf(name) > -1) {\n\t\treturn;\n\t}\n\tthis.names.push(name);\n\n\tthis.totalImages++;\n\n\tvar img = new Image();\n\tvar self = this;\n\timg.addEventListener(\"load\", function() {\n\t\tself.loadedImages++;\n\t\tself.images[name] = img;\n\t\tif (self.allLoaded() && self.onLoad) {\n\t\t\tself.onLoad();\n\t\t}\n\t});\n\timg.addEventListener(\"error\", function() {\n\t\tconsole.error(\"Error loading image \" + path);\n\t});\n\timg.src = path;\n};\nImageLoader.prototype.loadFromManifest = function(manifest) {\n\tvar keys = Object.keys(manifest);\n\tvar self = this;\n\tkeys.forEach(function(key) {\n\t\tself.load(key, manifest[key]);\n\t});\n};\n\n/**\n * Test if all {@link external:image}s have loaded.\n * @returns {boolean}\n */\nImageLoader.prototype.allLoaded = function() {\n\treturn this.totalImages === this.loadedImages;\n};\n/**\n * Retrieve a loaded {@link external:image}.\n * @param {string} name The name given to the image during {@link ImageLoader#load}.\n * @returns {external:image}\n */\nImageLoader.prototype.get = function(name) {\n\treturn this.images[name];\n};\n\nmodule.exports = ImageLoader;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/image-loader.js\n ** module id = 10\n ** module chunks = 0\n **/","\"use strict\";\n\nvar Gamepad = require(\"html5-gamepad\");\nvar Keyboard = require(\"game-keyboard\");\nvar keyMap = require(\"game-keyboard/key_map\").US;\nvar keyboard = new Keyboard(keyMap);\nvar Mouse = require(\"./mouse\");\n\nfunction Input(config, canvas) {\n\tthis.config = config;\n\tthis.gamepad = new Gamepad();\n\tthis.mouse = new Mouse(canvas);\n\tthis.lastButtonState = {};\n\tthis.delayedButtonUpdates = {};\n\t// FIXME: add support for virtual axes\n\tthis.virtualButtons = {};\n}\nInput.prototype.axis = function(name) {\n\tvar input = this.config.axes[name];\n\tif (input === undefined) {\n\t\tconsole.error(\"No such axis: \" + name);\n\t\treturn false;\n\t}\n\tfor (var i = 0; i < input.length; i++) {\n\t\tvar physicalInput = input[i];\n\t\tvar device = physicalInput.device;\n\t\tif (device === \"mouse\") {\n\t\t\tif (physicalInput.axis === \"x\") {\n\t\t\t\treturn this.mouse.x;\n\t\t\t}\n\t\t\tif (physicalInput.axis === \"y\") {\n\t\t\t\treturn this.mouse.y;\n\t\t\t}\n\t\t}\n\t\tif (device === \"gamepad\") {\n\t\t\treturn this.gamepad.axis(0, physicalInput.axis);\n\t\t}\n\t}\n};\nInput.prototype.button = function(name) {\n\tvar input = this.config.buttons[name];\n\tif (input === undefined) {\n\t\tconsole.error(\"No such button: \" + name);\n\t\treturn false;\n\t}\n\tfor (var i = 0; i < input.length; i++) {\n\t\tvar physicalInput = input[i];\n\t\tvar device = physicalInput.device;\n\t\tif (device === \"keyboard\") {\n\t\t\tif (keyboard.isPressed(physicalInput.button)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\tif (device === \"mouse\") {\n\t\t\tif (this.mouse.isPressed(physicalInput.button)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\tif (device === \"gamepad\") {\n\t\t\tif (this.gamepad.button(0, physicalInput.button)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\tif (device === \"virtual\") {\n\t\t\tif (physicalInput.state) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\treturn false;\n};\nInput.prototype.buttonPressed = function(name) {\n\tvar current = this.button(name);\n\tvar last = this.lastButtonState[name];\n\tif (last === undefined) {\n\t\tlast = true;\n\t}\n\tthis.delayedButtonUpdates[name] = current;\n\treturn current && !last;\n};\nInput.prototype.buttonReleased = function(name) {\n\tvar current = this.button(name);\n\tvar last = this.lastButtonState[name];\n\tif (last === undefined) {\n\t\tlast = false;\n\t}\n\tthis.delayedButtonUpdates[name] = current;\n\treturn !current && last;\n};\nInput.prototype.setButton = function(name, instance, state) {\n\tvar virtualName = name + \"|\" + instance;\n\tvar virtual = this.virtualButtons[virtualName];\n\tif (virtual) {\n\t\tvirtual.state = state;\n\t} else {\n\t\tvirtual = {\n\t\t\tdevice: \"virtual\",\n\t\t\tstate: state\n\t\t};\n\t\tthis.virtualButtons[virtualName] = virtual;\n\t\tvar inputs = this.config.buttons[name];\n\t\tif (inputs) {\n\t\t\tinputs.push(virtual);\n\t\t} else {\n\t\t\tthis.config.buttons[name] = [virtual];\n\t\t}\n\t}\n};\nInput.prototype.processUpdates = function() {\n\tthis.gamepad.update();\n\tObject.keys(this.delayedButtonUpdates).forEach(function(name) {\n\t\tthis.lastButtonState[name] = this.delayedButtonUpdates[name];\n\t\tdelete this.delayedButtonUpdates[name];\n\t}.bind(this));\n};\n\nmodule.exports = Input;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/input.js\n ** module id = 11\n ** module chunks = 0\n **/","var mappings = require(\"./mappings.json\");\n\nfunction getMapping(gamepadId, userAgent) {\n  return mappings.filter(function(mapping) {\n    return gamepadId.indexOf(mapping.id) !== -1 && userAgent.indexOf(mapping.userAgent) !== -1;\n  })[0] || mappings[0];\n}\n\nfunction transformButton(mapping, gp, button, i) {\n  var mb = mapping.buttons[i] || { name: \"button \" + i };\n  gp.buttons[mb.name] = button.pressed;\n  if (mb.axis) {\n    if (button.pressed) {\n      gp.axes[mb.axis] = mb.axisValue;\n    } else if (gp.axes[mb.axis] === undefined) {\n      gp.axes[mb.axis] = 0;\n    }\n  }\n  return gp;\n}\n\nfunction scaleAxis(axis, scale) {\n  if (scale === \"to positive\") {\n    return (axis + 1.0) / 2.0;\n  }\n  if (scale === \"to negative\") {\n    return (axis + 1.0) / -2.0;\n  }\n  return axis;\n}\n\nfunction transformAxis(mapping, threshold, gp, axis, i) {\n  var ma = mapping.axes[i] || { name: \"axis \" + i };\n  gp.axes[ma.name] = scaleAxis(axis, ma.scale);\n  if (ma.buttons) {\n    if (ma.buttons[0] !== null) {\n      gp.buttons[ma.buttons[0]] = axis < -threshold;\n    }\n    if (ma.buttons[1] !== null) {\n      gp.buttons[ma.buttons[1]] = axis > threshold;\n    }\n  }\n  return gp;\n}\n\nfunction transformGamepad(threshold, gamepad) {\n  var gp = {\n    id: gamepad.id,\n    buttons: {},\n    axes: {}\n  };\n  var mapping = getMapping(gamepad.id, navigator.userAgent);\n  gp = gamepad.buttons.reduce(transformButton.bind(undefined, mapping), gp),\n  gp = gamepad.axes.reduce(transformAxis.bind(undefined, mapping, threshold), gp);\n  return gp;\n}\n\nfunction isDefined(val) {\n  return val !== undefined;\n}\n\nfunction Gamepad() {\n  this.threshold = 0.05;\n  this.gamepads = [];\n}\nGamepad.prototype.update = function() {\n  if (typeof navigator.getGamepads !== \"function\") {\n    return;\n  }\n  // navigator.getGamepads() returns an array-like object, not an actual object\n  // so convert to an array so we can call map()\n  //\n  // WTF: webkit always returns 4 gamepads, so remove the undefined ones\n  var gamepads = Array.prototype.slice.call(navigator.getGamepads()).filter(isDefined);\n  this.gamepads = gamepads.map(transformGamepad.bind(undefined, this.threshold));\n};\nGamepad.prototype.axis = function(gamepad, axis) {\n  if (gamepad >= this.gamepads.length) {\n    return 0;\n  }\n  return this.gamepads[gamepad].axes[axis];\n};\nGamepad.prototype.count = function() {\n  return this.gamepads.length;\n};\nGamepad.prototype.button = function(gamepad, button) {\n  if (gamepad >= this.gamepads.length) {\n    return false;\n  }\n  return this.gamepads[gamepad].buttons[button];\n};\nGamepad.prototype.name = function(gamepad) {\n  if (gamepad >= this.gamepads.length) {\n    return undefined;\n  }\n  return this.gamepads[gamepad].id;\n};\n\nmodule.exports = Gamepad;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/html5-gamepad/index.js\n ** module id = 12\n ** module chunks = 0\n **/","module.exports = [\n\t{\n\t\t\"id\": \"Logitech Gamepad F310\",\n\t\t\"userAgent\": \"Firefox\",\n\t\t\"buttons\": [\n\t\t\t{\n\t\t\t\t\"name\": \"a\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"b\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"x\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"y\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"left shoulder\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"right shoulder\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"back\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"start\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"home\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"left stick\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"right stick\"\n\t\t\t}\n\t\t],\n\t\t\"axes\": [\n\t\t\t{\n\t\t\t\t\"name\": \"left stick x\",\n\t\t\t\t\"buttons\": [\n\t\t\t\t\t\"left stick left\",\n\t\t\t\t\t\"left stick right\"\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"left stick y\",\n\t\t\t\t\"buttons\": [\n\t\t\t\t\t\"left stick up\",\n\t\t\t\t\t\"left stick down\"\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"left trigger\",\n\t\t\t\t\"scale\": \"to positive\",\n\t\t\t\t\"buttons\": [\n\t\t\t\t\tnull,\n\t\t\t\t\t\"left trigger\"\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"right stick x\",\n\t\t\t\t\"buttons\": [\n\t\t\t\t\t\"right stick left\",\n\t\t\t\t\t\"right stick right\"\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"right stick y\",\n\t\t\t\t\"buttons\": [\n\t\t\t\t\t\"right stick up\",\n\t\t\t\t\t\"right stick down\"\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"right trigger\",\n\t\t\t\t\"scale\": \"to positive\",\n\t\t\t\t\"buttons\": [\n\t\t\t\t\tnull,\n\t\t\t\t\t\"right trigger\"\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"dpad x\",\n\t\t\t\t\"buttons\": [\n\t\t\t\t\t\"dpad left\",\n\t\t\t\t\t\"dpad right\"\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"dpad y\",\n\t\t\t\t\"buttons\": [\n\t\t\t\t\t\"dpad up\",\n\t\t\t\t\t\"dpad down\"\n\t\t\t\t]\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\t\"id\": \"Logitech Gamepad F310\",\n\t\t\"userAgent\": \"WebKit\",\n\t\t\"buttons\": [\n\t\t\t{\n\t\t\t\t\"name\": \"a\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"b\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"x\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"y\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"left shoulder\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"right shoulder\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"left trigger\",\n\t\t\t\t\"axis\": \"left trigger\",\n\t\t\t\t\"axisValue\": 1\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"right trigger\",\n\t\t\t\t\"axis\": \"right trigger\",\n\t\t\t\t\"axisValue\": 1\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"back\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"start\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"left stick\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"right stick\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"dpad up\",\n\t\t\t\t\"axis\": \"dpad y\",\n\t\t\t\t\"axisValue\": -1\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"dpad down\",\n\t\t\t\t\"axis\": \"dpad y\",\n\t\t\t\t\"axisValue\": 1\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"dpad left\",\n\t\t\t\t\"axis\": \"dpad x\",\n\t\t\t\t\"axisValue\": -1\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"dpad right\",\n\t\t\t\t\"axis\": \"dpad x\",\n\t\t\t\t\"axisValue\": 1\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"home\"\n\t\t\t}\n\t\t],\n\t\t\"axes\": [\n\t\t\t{\n\t\t\t\t\"name\": \"left stick x\",\n\t\t\t\t\"buttons\": [\n\t\t\t\t\t\"left stick left\",\n\t\t\t\t\t\"left stick right\"\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"left stick y\",\n\t\t\t\t\"buttons\": [\n\t\t\t\t\t\"left stick up\",\n\t\t\t\t\t\"left stick down\"\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"right stick x\",\n\t\t\t\t\"buttons\": [\n\t\t\t\t\t\"right stick left\",\n\t\t\t\t\t\"right stick right\"\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"right stick y\",\n\t\t\t\t\"buttons\": [\n\t\t\t\t\t\"right stick up\",\n\t\t\t\t\t\"right stick down\"\n\t\t\t\t]\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\t\"id\": \"Sony Computer Entertainment Wireless Controller\",\n\t\t\"userAgent\": \"Firefox\",\n\t\t\"buttons\": [\n\t\t\t{\n\t\t\t\t\"name\": \"x\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"a\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"b\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"y\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"left shoulder\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"right shoulder\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"left trigger\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"right trigger\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"back\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"start\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"left stick\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"right stick\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"home\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"touch\"\n\t\t\t}\n\t\t],\n\t\t\"axes\": [\n\t\t\t{\n\t\t\t\t\"name\": \"left stick x\",\n\t\t\t\t\"buttons\": [\n\t\t\t\t\t\"left stick left\",\n\t\t\t\t\t\"left stick right\"\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"left stick y\",\n\t\t\t\t\"buttons\": [\n\t\t\t\t\t\"left stick up\",\n\t\t\t\t\t\"left stick down\"\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"right stick x\",\n\t\t\t\t\"buttons\": [\n\t\t\t\t\t\"right stick left\",\n\t\t\t\t\t\"right stick right\"\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"left trigger\",\n\t\t\t\t\"scale\": \"to positive\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"right trigger\",\n\t\t\t\t\"scale\": \"to positive\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"right stick y\",\n\t\t\t\t\"buttons\": [\n\t\t\t\t\t\"right stick up\",\n\t\t\t\t\t\"right stick down\"\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"dpad x\",\n\t\t\t\t\"buttons\": [\n\t\t\t\t\t\"dpad left\",\n\t\t\t\t\t\"dpad right\"\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"dpad y\",\n\t\t\t\t\"buttons\": [\n\t\t\t\t\t\"dpad up\",\n\t\t\t\t\t\"dpad down\"\n\t\t\t\t]\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\t\"id\": \"Sony Computer Entertainment Wireless Controller\",\n\t\t\"userAgent\": \"WebKit\",\n\t\t\"buttons\": [\n\t\t\t{\n\t\t\t\t\"name\": \"a\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"b\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"x\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"y\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"left shoulder\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"right shoulder\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"left trigger\",\n\t\t\t\t\"axis\": \"left trigger\",\n\t\t\t\t\"axisValue\": 1\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"right trigger\",\n\t\t\t\t\"axis\": \"right trigger\",\n\t\t\t\t\"axisValue\": 1\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"back\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"start\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"left stick\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"right stick\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"dpad up\",\n\t\t\t\t\"axis\": \"dpad y\",\n\t\t\t\t\"axisValue\": -1\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"dpad down\",\n\t\t\t\t\"axis\": \"dpad y\",\n\t\t\t\t\"axisValue\": 1\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"dpad left\",\n\t\t\t\t\"axis\": \"dpad x\",\n\t\t\t\t\"axisValue\": -1\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"dpad right\",\n\t\t\t\t\"axis\": \"dpad x\",\n\t\t\t\t\"axisValue\": 1\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"home\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"touch\"\n\t\t\t}\n\t\t],\n\t\t\"axes\": [\n\t\t\t{\n\t\t\t\t\"name\": \"left stick x\",\n\t\t\t\t\"buttons\": [\n\t\t\t\t\t\"left stick left\",\n\t\t\t\t\t\"left stick right\"\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"left stick y\",\n\t\t\t\t\"buttons\": [\n\t\t\t\t\t\"left stick up\",\n\t\t\t\t\t\"left stick down\"\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"right stick x\",\n\t\t\t\t\"buttons\": [\n\t\t\t\t\t\"right stick left\",\n\t\t\t\t\t\"right stick right\"\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"right stick y\",\n\t\t\t\t\"buttons\": [\n\t\t\t\t\t\"right stick up\",\n\t\t\t\t\t\"right stick down\"\n\t\t\t\t]\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\t\"id\": \"Sony PLAYSTATION(R)3 Controller\",\n\t\t\"userAgent\": \"Firefox\",\n\t\t\"buttons\": [\n\t\t\t{\n\t\t\t\t\"name\": \"back\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"left stick\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"right stick\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"start\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"dpad up\",\n\t\t\t\t\"axis\": \"dpad y\",\n\t\t\t\t\"axisValue\": -1\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"dpad right\",\n\t\t\t\t\"axis\": \"dpad x\",\n\t\t\t\t\"axisValue\": 1\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"dpad down\",\n\t\t\t\t\"axis\": \"dpad y\",\n\t\t\t\t\"axisValue\": 1\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"dpad left\",\n\t\t\t\t\"axis\": \"dpad x\",\n\t\t\t\t\"axisValue\": -1\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"left trigger\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"right trigger\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"left shoulder\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"right shoulder\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"y\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"b\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"a\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"x\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"home\"\n\t\t\t}\n\t\t],\n\t\t\"axes\": [\n\t\t\t{\n\t\t\t\t\"name\": \"left stick x\",\n\t\t\t\t\"buttons\": [\n\t\t\t\t\t\"left stick left\",\n\t\t\t\t\t\"left stick right\"\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"left stick y\",\n\t\t\t\t\"buttons\": [\n\t\t\t\t\t\"left stick up\",\n\t\t\t\t\t\"left stick down\"\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"right stick x\",\n\t\t\t\t\"buttons\": [\n\t\t\t\t\t\"right stick left\",\n\t\t\t\t\t\"right stick right\"\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"right stick y\",\n\t\t\t\t\"buttons\": [\n\t\t\t\t\t\"right stick up\",\n\t\t\t\t\t\"right stick down\"\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"dunno 1\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"dunno 2\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"dunno 3\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"dunno 4\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"dpad up\",\n\t\t\t\t\"scale\": \"to positive\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"dpad right\",\n\t\t\t\t\"scale\": \"to positive\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"dpad down\",\n\t\t\t\t\"scale\": \"to positive\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"dunno 8\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"left trigger\",\n\t\t\t\t\"scale\": \"to positive\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"right trigger\",\n\t\t\t\t\"scale\": \"to positive\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"left shoulder\",\n\t\t\t\t\"scale\": \"to positive\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"right shoulder\",\n\t\t\t\t\"scale\": \"to positive\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"y\",\n\t\t\t\t\"scale\": \"to positive\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"b\",\n\t\t\t\t\"scale\": \"to positive\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"a\",\n\t\t\t\t\"scale\": \"to positive\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"x\",\n\t\t\t\t\"scale\": \"to positive\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"dunno 9\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"dunno 10\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"dunno 11\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"accelerometer x\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"accelerometer y\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"accelerometer z\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\t\"id\": \"Sony PLAYSTATION(R)3 Controller\",\n\t\t\"userAgent\": \"WebKit\",\n\t\t\"buttons\": [\n\t\t\t{\n\t\t\t\t\"name\": \"a\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"b\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"x\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"y\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"left shoulder\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"right shoulder\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"left trigger\",\n\t\t\t\t\"axis\": \"left trigger\",\n\t\t\t\t\"axisValue\": 1\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"right trigger\",\n\t\t\t\t\"axis\": \"right trigger\",\n\t\t\t\t\"axisValue\": 1\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"back\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"start\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"left stick\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"right stick\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"dpad up\",\n\t\t\t\t\"axis\": \"dpad y\",\n\t\t\t\t\"axisValue\": -1\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"dpad down\",\n\t\t\t\t\"axis\": \"dpad y\",\n\t\t\t\t\"axisValue\": 1\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"dpad left\",\n\t\t\t\t\"axis\": \"dpad x\",\n\t\t\t\t\"axisValue\": -1\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"dpad right\",\n\t\t\t\t\"axis\": \"dpad x\",\n\t\t\t\t\"axisValue\": 1\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"home\"\n\t\t\t}\n\t\t],\n\t\t\"axes\": [\n\t\t\t{\n\t\t\t\t\"name\": \"left stick x\",\n\t\t\t\t\"buttons\": [\n\t\t\t\t\t\"left stick left\",\n\t\t\t\t\t\"left stick right\"\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"left stick y\",\n\t\t\t\t\"buttons\": [\n\t\t\t\t\t\"left stick up\",\n\t\t\t\t\t\"left stick down\"\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"right stick x\",\n\t\t\t\t\"buttons\": [\n\t\t\t\t\t\"right stick left\",\n\t\t\t\t\t\"right stick right\"\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"right stick y\",\n\t\t\t\t\"buttons\": [\n\t\t\t\t\t\"right stick up\",\n\t\t\t\t\t\"right stick down\"\n\t\t\t\t]\n\t\t\t}\n\t\t]\n\t}\n];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/html5-gamepad/mappings.json\n ** module id = 13\n ** module chunks = 0\n **/","\"use strict\";\n\n/**\n * Keyboard input handling.\n * @constructor\n * @param {module:KeyMap} keymap A map of keycodes to descriptive key names.\n */\nfunction Keyboard(keyMap) {\n\t/**\n\t * The current key states.\n\t * @member {object}\n\t * @private\n\t */\n\tthis.keys = {};\n\n\tvar self = this;\n\tfor (var kc in keyMap) {\n\t\tif (keyMap.hasOwnProperty(kc)) {\n\t\t\tthis.keys[keyMap[kc]] = 0;\n\t\t}\n\t}\n\twindow.addEventListener(\"keydown\", function(event) {\n\t\tif (keyMap.hasOwnProperty(event.keyCode)) {\n\t\t\tif (self.keys[keyMap[event.keyCode]] === 0) {\n\t\t\t\tself.keys[keyMap[event.keyCode]] = 2;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t});\n\twindow.addEventListener(\"keyup\", function(event) {\n\t\tif (keyMap.hasOwnProperty(event.keyCode)) {\n\t\t\tself.keys[keyMap[event.keyCode]] = 0;\n\t\t\treturn false;\n\t\t}\n\t});\n}\n/**\n * Test if a key is currently pressed.\n * @param {string} name The name of the key to test\n * @returns {boolean}\n */\nKeyboard.prototype.isPressed = function(name) {\n\treturn this.keys[name] >= 1;\n};\n/**\n * Test if a key is currently pressed, also making it look like the key was unpressed.\n * This makes is so multiple successive calls will not return true unless the key was repressed.\n * @param {string} name The name of the key to test\n * @returns {boolean}\n */\nKeyboard.prototype.consumePressed = function(name) {\n\tvar p = this.keys[name] === 2;\n\tif (p) {\n\t\tthis.keys[name] = 1;\n\t}\n\treturn p;\n};\n\nmodule.exports = Keyboard;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/game-keyboard/index.js\n ** module id = 14\n ** module chunks = 0\n **/","/**\n * Keyboard code mappings that map keycodes to key names. A specific named map should be given to {@link Keyboard}.\n * @module KeyMap\n */\nmodule.exports = {\n\t\"US\": {\n\t\t8: \"backspace\",\n\t\t9: \"tab\",\n\t\t13: \"enter\",\n\t\t16: \"shift\",\n\t\t17: \"ctrl\",\n\t\t18: \"alt\",\n\t\t19: \"pause/break\",\n\t\t20: \"capslock\",\n\t\t27: \"escape\",\n\t\t32: \"space\",\n\t\t33: \"pageup\",\n\t\t34: \"pagedown\",\n\t\t35: \"end\",\n\t\t36: \"home\",\n\t\t37: \"left\",\n\t\t38: \"up\",\n\t\t39: \"right\",\n\t\t40: \"down\",\n\t\t45: \"insert\",\n\t\t46: \"delete\",\n\t\t48: \"0\",\n\t\t49: \"1\",\n\t\t50: \"2\",\n\t\t51: \"3\",\n\t\t52: \"4\",\n\t\t53: \"5\",\n\t\t54: \"6\",\n\t\t55: \"7\",\n\t\t56: \"8\",\n\t\t57: \"9\",\n\t\t65: \"a\",\n\t\t66: \"b\",\n\t\t67: \"c\",\n\t\t68: \"d\",\n\t\t69: \"e\",\n\t\t70: \"f\",\n\t\t71: \"g\",\n\t\t72: \"h\",\n\t\t73: \"i\",\n\t\t74: \"j\",\n\t\t75: \"k\",\n\t\t76: \"l\",\n\t\t77: \"m\",\n\t\t78: \"n\",\n\t\t79: \"o\",\n\t\t80: \"p\",\n\t\t81: \"q\",\n\t\t82: \"r\",\n\t\t83: \"s\",\n\t\t84: \"t\",\n\t\t85: \"u\",\n\t\t86: \"v\",\n\t\t87: \"w\",\n\t\t88: \"x\",\n\t\t89: \"y\",\n\t\t90: \"z\",\n\t\t91: \"leftwindow\",\n\t\t92: \"rightwindow\",\n\t\t93: \"select\",\n\t\t96: \"numpad-0\",\n\t\t97: \"numpad-1\",\n\t\t98: \"numpad-2\",\n\t\t99: \"numpad-3\",\n\t\t100: \"numpad-4\",\n\t\t101: \"numpad-5\",\n\t\t102: \"numpad-6\",\n\t\t103: \"numpad-7\",\n\t\t104: \"numpad-8\",\n\t\t105: \"numpad-9\",\n\t\t106: \"multiply\",\n\t\t107: \"add\",\n\t\t109: \"subtract\",\n\t\t110: \"decimalpoint\",\n\t\t111: \"divide\",\n\t\t112: \"f1\",\n\t\t113: \"f2\",\n\t\t114: \"f3\",\n\t\t115: \"f4\",\n\t\t116: \"f5\",\n\t\t117: \"f6\",\n\t\t118: \"f7\",\n\t\t119: \"f8\",\n\t\t120: \"f9\",\n\t\t121: \"f10\",\n\t\t122: \"f11\",\n\t\t123: \"f12\",\n\t\t144: \"numlock\",\n\t\t145: \"scrolllock\",\n\t\t186: \"semicolon\",\n\t\t187: \"equals\",\n\t\t188: \"comma\",\n\t\t189: \"dash\",\n\t\t190: \"period\",\n\t\t191: \"forwardslash\",\n\t\t192: \"graveaccent\",\n\t\t219: \"openbracket\",\n\t\t220: \"backslash\",\n\t\t221: \"closebraket\",\n\t\t222: \"singlequote\"\n\t}\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/game-keyboard/key_map.js\n ** module id = 15\n ** module chunks = 0\n **/","\"use strict\";\n\nvar platform = require(\"./platform\");\n\n// prevent springy scrolling on ios\ndocument.ontouchmove = function(e) {\n\te.preventDefault();\n};\n\n// prevent right-click on desktop\nwindow.oncontextmenu = function() {\n\treturn false;\n};\n\nvar relMouseCoords = function(canvas, event) {\n\tvar x = event.pageX - canvas.offsetLeft + document.body.scrollLeft;\n\tvar y = event.pageY - canvas.offsetTop + document.body.scrollTop;\n\n\t// scale based on ratio of canvas internal dimentions to css dimensions\n\tvar style = window.getComputedStyle(canvas);\n\tvar cw = parseInt(style.width);\n\tvar ch = parseInt(style.height);\n\n\tx *= canvas.width / cw;\n\ty *= canvas.height / ch;\n\n\treturn {\n\t\tx: Math.floor(x),\n\t\ty: Math.floor(y)\n\t};\n};\n\nfunction relMouseCoordsEjecta(canvas, event) {\n\tvar ratioX = canvas.width / window.innerWidth;\n\tvar ratioY = canvas.height / window.innerHeight;\n\tvar x = event.pageX * ratioX;\n\tvar y = event.pageY * ratioY;\n\treturn { x: x, y: y };\n}\n\nif (platform.isEjecta()) {\n\trelMouseCoords = relMouseCoordsEjecta;\n}\n\n/**\n * Mouse and touch input handling. An instance of Mouse is available as {@link Splat.Game#mouse}.\n *\n * The first touch will emulates a mouse press with button 0.\n * This means you can use the mouse ({@link Mouse#isPressed}) APIs and your game will work on touch screens (as long as you only need the left button).\n *\n * A mouse press will emulate a touch if the device does not support touch.\n * This means you can use {@link Mouse#touches}, and your game will still work on a PC with a mouse.\n *\n * @constructor\n * @param {external:canvas} canvas The canvas to listen for events on.\n */\nfunction Mouse(canvas) {\n\t/**\n\t * The x coordinate of the cursor relative to the left side of the canvas.\n\t * @member {number}\n\t */\n\tthis.x = 0;\n\t/**\n\t * The y coordinate of the cursor relative to the top of the canvas.\n\t * @member {number}\n\t */\n\tthis.y = 0;\n\t/**\n\t * The current button states.\n\t * @member {Array}\n\t * @private\n\t */\n\tthis.buttons = [false, false, false];\n\n\t/**\n\t * An array of the current touches on a touch screen device. Each touch has a `x`, `y`, and `id` field.\n\t * @member {Array}\n\t */\n\tthis.touches = [];\n\n\t/**\n\t * A function that is called when a mouse button or touch is released.\n\t * @callback onmouseupHandler\n\t * @param {number} x The x coordinate of the mouse or touch that was released.\n\t * @param {number} y The y coordinate of the mouse or touch that was released.\n\t */\n\t/**\n\t * A function that will be called when a mouse button is released, or a touch has stopped.\n\t * This is useful for opening a URL with {@link Splat.openUrl} to avoid popup blockers.\n\t * @member {onmouseupHandler}\n\t */\n\tthis.onmouseup = undefined;\n\n\tvar self = this;\n\tcanvas.addEventListener(\"mousedown\", function(event) {\n\t\tvar m = relMouseCoords(canvas, event);\n\t\tself.x = m.x;\n\t\tself.y = m.y;\n\t\tself.buttons[event.button] = true;\n\t\tupdateTouchFromMouse();\n\t});\n\tcanvas.addEventListener(\"mouseup\", function(event) {\n\t\tvar m = relMouseCoords(canvas, event);\n\t\tself.x = m.x;\n\t\tself.y = m.y;\n\t\tself.buttons[event.button] = false;\n\t\tupdateTouchFromMouse();\n\t\tif (self.onmouseup) {\n\t\t\tself.onmouseup(self.x, self.y);\n\t\t}\n\t});\n\tcanvas.addEventListener(\"mousemove\", function(event) {\n\t\tvar m = relMouseCoords(canvas, event);\n\t\tself.x = m.x;\n\t\tself.y = m.y;\n\t\tupdateTouchFromMouse();\n\t});\n\n\tfunction updateTouchFromMouse() {\n\t\tif (self.supportsTouch()) {\n\t\t\treturn;\n\t\t}\n\t\tvar idx = touchIndexById(\"mouse\");\n\t\tif (self.isPressed(0)) {\n\t\t\tif (idx !== undefined) {\n\t\t\t\tvar touch = self.touches[idx];\n\t\t\t\ttouch.x = self.x;\n\t\t\t\ttouch.y = self.y;\n\t\t\t} else {\n\t\t\t\tself.touches.push({\n\t\t\t\t\tid: \"mouse\",\n\t\t\t\t\tx: self.x,\n\t\t\t\t\ty: self.y\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (idx !== undefined) {\n\t\t\tself.touches.splice(idx, 1);\n\t\t}\n\t}\n\tfunction updateMouseFromTouch(touch) {\n\t\tself.x = touch.x;\n\t\tself.y = touch.y;\n\t\tif (self.buttons[0] === false) {\n\t\t\tself.buttons[0] = true;\n\t\t}\n\t}\n\tfunction touchIndexById(id) {\n\t\tfor (var i = 0; i < self.touches.length; i++) {\n\t\t\tif (self.touches[i].id === id) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n\tfunction eachChangedTouch(event, onChangeFunc) {\n\t\tvar touches = event.changedTouches;\n\t\tfor (var i = 0; i < touches.length; i++) {\n\t\t\tonChangeFunc(touches[i]);\n\t\t}\n\t}\n\tcanvas.addEventListener(\"touchstart\", function(event) {\n\t\teachChangedTouch(event, function(touch) {\n\t\t\tvar t = relMouseCoords(canvas, touch);\n\t\t\tt.id = touch.identifier;\n\t\t\tif (self.touches.length === 0) {\n\t\t\t\tt.isMouse = true;\n\t\t\t\tupdateMouseFromTouch(t);\n\t\t\t}\n\t\t\tself.touches.push(t);\n\t\t});\n\t});\n\tcanvas.addEventListener(\"touchmove\", function(event) {\n\t\teachChangedTouch(event, function(touch) {\n\t\t\tvar idx = touchIndexById(touch.identifier);\n\t\t\tvar t = self.touches[idx];\n\t\t\tvar coords = relMouseCoords(canvas, touch);\n\t\t\tt.x = coords.x;\n\t\t\tt.y = coords.y;\n\t\t\tif (t.isMouse) {\n\t\t\t\tupdateMouseFromTouch(t);\n\t\t\t}\n\t\t});\n\t});\n\tcanvas.addEventListener(\"touchend\", function(event) {\n\t\teachChangedTouch(event, function(touch) {\n\t\t\tvar idx = touchIndexById(touch.identifier);\n\t\t\tvar t = self.touches.splice(idx, 1)[0];\n\t\t\tif (t.isMouse) {\n\t\t\t\tif (self.touches.length === 0) {\n\t\t\t\t\tself.buttons[0] = false;\n\t\t\t\t} else {\n\t\t\t\t\tself.touches[0].isMouse = true;\n\t\t\t\t\tupdateMouseFromTouch(self.touches[0]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (self.onmouseup) {\n\t\t\t\tself.onmouseup(t.x, t.y);\n\t\t\t}\n\t\t});\n\t});\n}\n/**\n * Test whether the device supports touch events. This is useful to customize messages to say either \"click\" or \"tap\".\n * @returns {boolean}\n */\nMouse.prototype.supportsTouch = function() {\n\treturn \"ontouchstart\" in window || navigator.msMaxTouchPoints;\n};\n/**\n * Test if a mouse button is currently pressed.\n * @param {number} button The button number to test. Button 0 is typically the left mouse button, as well as the first touch location.\n * @returns {boolean}\n */\nMouse.prototype.isPressed = function(button) {\n\treturn this.buttons[button];\n};\n\nmodule.exports = Mouse;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/mouse.js\n ** module id = 16\n ** module chunks = 0\n **/","\"use strict\";\n\nvar ECS = require(\"entity-component-system\").EntityComponentSystem;\nvar EntityPool = require(\"entity-component-system\").EntityPool;\nvar gameLoop = require(\"./game-loop\");\n\nfunction Scene() {\n\tthis.simulation = new ECS();\n\tthis.renderer = new ECS();\n\tthis.entities = new EntityPool();\n\tthis.simulationStepTime = 5;\n}\nScene.prototype.start = function(context) {\n\tif (this._stop) {\n\t\treturn;\n\t}\n\tif (typeof this.onEnter === \"function\") {\n\t\tthis._stop = function() {};\n\t\tthis.onEnter();\n\t\tif (this._stop === undefined) {\n\t\t\treturn;\n\t\t}\n\t}\n\tthis._stop = gameLoop(this.entities, this.simulation, this.simulationStepTime, this.renderer, context);\n};\nScene.prototype.stop = function() {\n\tif (!this._stop) {\n\t\treturn;\n\t}\n\tthis._stop();\n\tdelete this._stop;\n\n\tif (typeof this.onExit === \"function\") {\n\t\tthis.onExit();\n\t}\n};\n\nmodule.exports = Scene;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/scene.js\n ** module id = 17\n ** module chunks = 0\n **/","\"use strict\";\n\nmodule.exports = {\n\tEntityComponentSystem: require(\"./entity-component-system\"),\n\tEntityPool: require(\"./entity-pool\")\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/entity-component-system/lib/index.js\n ** module id = 18\n ** module chunks = 0\n **/","\"use strict\";\n\nvar present = require(\"present\");\n\nfunction EntityComponentSystem() {\n\tthis.systems = [];\n\tthis.systemNames = [];\n\tthis.systemTimes = [];\n\tthis.runCount = 0;\n}\nEntityComponentSystem.prototype.add = function(code) {\n\tthis.systems.push(code);\n\tthis.systemNames.push(code.name);\n\tthis.systemTimes.push(0);\n};\nEntityComponentSystem.prototype.addEach = function(code, search) {\n\tthis.systems.push(function(entities, elapsed) {\n\t\tvar keys = entities.find(search);\n\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\tcode(keys[i], elapsed);\n\t\t}\n\t});\n\tthis.systemNames.push(code.name);\n\tthis.systemTimes.push(0);\n};\nEntityComponentSystem.prototype.run = function(entities, elapsed) {\n\tfor (var i = 0; i < this.systems.length; i++) {\n\t\tvar start = present();\n\t\tthis.systems[i](entities, elapsed);\n\t\tvar end = present();\n\t\tthis.systemTimes[i] += end - start;\n\t}\n\tthis.runCount++;\n};\nEntityComponentSystem.prototype.runs = function() {\n\treturn this.runCount;\n};\nEntityComponentSystem.prototype.timings = function() {\n\treturn this.systemNames.map(function(name, i) {\n\t\treturn {\n\t\t\tname: name,\n\t\t\ttime: this.systemTimes[i]\n\t\t};\n\t}.bind(this));\n};\nEntityComponentSystem.prototype.resetTimings = function() {\n\tthis.systemTimes = this.systemTimes.map(function() {\n\t\treturn 0;\n\t});\n};\n\nmodule.exports = EntityComponentSystem;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/entity-component-system/lib/entity-component-system.js\n ** module id = 19\n ** module chunks = 0\n **/","var performance = global.performance || {};\n\nvar present = (function () {\n  var names = ['now', 'webkitNow', 'msNow', 'mozNow', 'oNow'];\n  while (names.length) {\n    var name = names.shift();\n    if (name in performance) {\n      return performance[name].bind(performance);\n    }\n  }\n\n  var dateNow = Date.now || function () { return new Date().getTime(); };\n  var navigationStart = (performance.timing || {}).navigationStart || dateNow();\n  return function () {\n    return dateNow() - navigationStart;\n  };\n}());\n\npresent.performanceNow = performance.now;\npresent.noConflict = function () {\n  performance.now = present.performanceNow;\n};\npresent.conflict = function () {\n  performance.now = present;\n};\npresent.conflict();\n\nmodule.exports = present;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/present/lib/present-browser.js\n ** module id = 20\n ** module chunks = 0\n **/","\"use strict\";\n\nfunction EntityPool() {\n\tthis.nextId = 0;\n\tthis._entities = {};\n\tthis.searchToComponents = {};\n\tthis.componentToSearches = {};\n\tthis.searchResults = {};\n\tthis.callbacks = {};\n}\nEntityPool.prototype.create = function() {\n\tvar id = this.nextId++;\n\tthis._entities[id] = { id: id };\n\treturn id;\n};\nEntityPool.prototype.destroy = function(id) {\n\tvar entity = this._entities[id];\n\tObject.keys(entity).forEach(function(component) {\n\t\tif (component === \"id\") {\n\t\t\treturn;\n\t\t}\n\t\tthis.remove(id, component);\n\t}.bind(this));\n\tdelete this._entities[id];\n};\nEntityPool.prototype.get = function(id, component) {\n\treturn this._entities[id][component];\n};\nEntityPool.prototype.remove = function(id, component) {\n\tif (this._entities[id][component] === undefined) {\n\t\treturn;\n\t}\n\tvar oldValue = this._entities[id][component];\n\tdelete this._entities[id][component];\n\tfor (var i = 0; i < this.componentToSearches[component].length; i++) {\n\t\tvar search = this.componentToSearches[component][i];\n\t\tremoveFromArray(this.searchResults[search], id);\n\t}\n\tthis.fireCallback(\"remove\", id, component, oldValue);\n};\nEntityPool.prototype.set = function(id, component, value) {\n\tif (value === undefined) {\n\t\treturn this.remove(id, component);\n\t}\n\tvar wasUndefined = this._entities[id][component] === undefined;\n\tthis._entities[id][component] = value;\n\tif (!wasUndefined) {\n\t\treturn;\n\t}\n\tif (this.searchToComponents[component] === undefined) {\n\t\tthis.mapSearch(component, [component]);\n\t}\n\tfor (var i = 0; i < this.componentToSearches[component].length; i++) {\n\t\tvar search = this.componentToSearches[component][i];\n\t\tif (objectHasProperties(this.searchToComponents[search], this._entities[id])) {\n\t\t\tthis.searchResults[search].push(id);\n\t\t}\n\t}\n\tthis.fireCallback(\"add\", id, component, value);\n};\n// private\nEntityPool.prototype.addCallback = function(type, component, callback) {\n\tthis.callbacks[type] = this.callbacks[type] || {};\n\tthis.callbacks[type][component] = this.callbacks[type][component] || [];\n\tthis.callbacks[type][component].push(callback);\n};\n// private\nEntityPool.prototype.fireCallback = function(type, id, component) {\n\tif (this.callbackQueue) {\n\t\tthis.callbackQueue.push(Array.prototype.slice.call(arguments, 0));\n\t\treturn;\n\t}\n\tvar cbs = this.callbacks[type] || {};\n\tvar ccbs = cbs[component] || [];\n\tvar args = Array.prototype.slice.call(arguments, 3);\n\tfor (var i = 0; i < ccbs.length; i++) {\n\t\tccbs[i].apply(this, [id, component].concat(args));\n\t}\n};\n// private\nEntityPool.prototype.fireQueuedCallbacks = function() {\n\tvar queue = this.callbackQueue || [];\n\tdelete this.callbackQueue;\n\tfor (var i = 0; i < queue.length; i++) {\n\t\tthis.fireCallback.apply(this, queue[i]);\n\t}\n};\n\nEntityPool.prototype.onAddComponent = function(component, callback) {\n\tthis.addCallback(\"add\", component, callback);\n};\nEntityPool.prototype.onRemoveComponent = function(component, callback) {\n\tthis.addCallback(\"remove\", component, callback);\n};\nEntityPool.prototype.find = function(search) {\n\treturn this.searchResults[search] || [];\n};\n// private\nEntityPool.prototype.mapSearch = function(search, components) {\n\tif (this.searchToComponents[search] !== undefined) {\n\t\tthrow \"the search \\\"\" + search + \"\\\" was already registered\";\n\t}\n\n\tthis.searchToComponents[search] = components.slice(0);\n\n\tfor (var i = 0; i < components.length; i++) {\n\t\tvar c = components[i];\n\t\tif (this.componentToSearches[c] === undefined) {\n\t\t\tthis.componentToSearches[c] = [search];\n\t\t} else {\n\t\t\tthis.componentToSearches[c].push(search);\n\t\t}\n\t}\n\n\tthis.searchResults[search] = [];\n};\nEntityPool.prototype.registerSearch = function(search, components) {\n\tthis.mapSearch(search, components);\n\tthis.searchResults[search] = objectValues(this._entities)\n\t\t.filter(objectHasProperties.bind(undefined, components))\n\t\t.map(entityId);\n};\n\nEntityPool.prototype.load = function(entities) {\n\tthis.callbackQueue = [];\n\tentities.forEach(function(entity) {\n\t\tvar id = entity.id;\n\t\tthis._entities[id] = { id: id };\n\t\tif (this.nextId <= id) {\n\t\t\tthis.nextId = id + 1;\n\t\t}\n\t\tObject.keys(entity).forEach(function(component) {\n\t\t\tthis.set(id, component, entity[component]);\n\t\t}.bind(this));\n\t}.bind(this));\n\tthis.fireQueuedCallbacks();\n};\n\nEntityPool.prototype.save = function() {\n\treturn objectValues(this._entities);\n};\n\nfunction removeFromArray(array, item) {\n\tvar i = array.indexOf(item);\n\tif (i !== -1) {\n\t\tarray.splice(i, 1);\n\t}\n\treturn array;\n}\n\nfunction entityId(entity) {\n\treturn entity.id;\n}\nfunction objectHasProperties(properties, obj) {\n\treturn properties.every(Object.prototype.hasOwnProperty.bind(obj));\n}\n\nfunction objectValues(obj) {\n\treturn Object.keys(obj).map(function(key) {\n\t\treturn obj[key];\n\t});\n}\n\nmodule.exports = EntityPool;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/entity-component-system/lib/entity-pool.js\n ** module id = 21\n ** module chunks = 0\n **/","\"use strict\";\n\nvar timeAccumulator = require(\"time-accumulator\");\n\nmodule.exports = function(entities, simulation, simulationStepTime, renderer, context) {\n\tvar run = timeAccumulator(simulationStepTime);\n\tvar timeDelta = require(\"./absolute-to-relative\")();\n\tvar running = true;\n\n\t// run simulation the first time, because not enough time will have elapsed\n\tsimulation.run(entities, 0);\n\n\tvar remainingDebugTime;\n\twindow.timeSystems = function(total) {\n\t\tsimulation.resetTimings();\n\t\trenderer.resetTimings();\n\t\tremainingDebugTime = total;\n\t};\n\tfunction trackDebugTiming(elapsed) {\n\t\tif (remainingDebugTime === undefined) {\n\t\t\treturn;\n\t\t}\n\t\tremainingDebugTime -= elapsed;\n\t\tif (remainingDebugTime > 0) {\n\t\t\treturn;\n\t\t}\n\t\tremainingDebugTime = undefined;\n\n\t\tvar timings = simulation.timings().concat(renderer.timings());\n\t\tvar total = timings.map(function(timing) {\n\t\t\treturn timing.time;\n\t\t}).reduce(function(a, b) {\n\t\t\treturn a + b;\n\t\t});\n\t\ttimings.sort(function(a, b) {\n\t\t\treturn b.time - a.time;\n\t\t}).forEach(function(timing) {\n\t\t\ttiming.percent = timing.time / total;\n\t\t});\n\t\tconsole.table(timings);\n\t}\n\n\tfunction render(time) {\n\t\tif (!running) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar elapsed = timeDelta(time);\n\t\trun(elapsed, function(elapsed) {\n\t\t\tsimulation.run(entities, elapsed);\n\t\t});\n\n\t\tcontext.save();\n\t\trenderer.run(entities, elapsed);\n\t\tcontext.restore();\n\n\t\ttrackDebugTiming(elapsed);\n\n\t\tif (running) {\n\t\t\twindow.requestAnimationFrame(render);\n\t\t}\n\t}\n\twindow.requestAnimationFrame(render);\n\n\treturn function() {\n\t\trunning = false;\n\t};\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/game-loop.js\n ** module id = 22\n ** module chunks = 0\n **/","module.exports = function(rate) {\n\tvar accum = 0;\n\treturn function(time, callback) {\n\t\taccum += time;\n\t\twhile (accum >= rate) {\n\t\t\taccum -= rate;\n\t\t\tcallback(rate);\n\t\t}\n\t};\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/time-accumulator/index.js\n ** module id = 23\n ** module chunks = 0\n **/","\"use strict\";\n\n// converts a changing absolute value into a value relative to the previous value\nmodule.exports = function() {\n\tvar last = -1;\n\treturn function(current) {\n\t\tif (last === -1) {\n\t\t\tlast = current;\n\t\t}\n\t\tvar delta = current - last;\n\t\tlast = current;\n\t\treturn delta;\n\t};\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/absolute-to-relative.js\n ** module id = 24\n ** module chunks = 0\n **/","\"use strict\";\n\nwindow.AudioContext = window.AudioContext || window.webkitAudioContext;\n\n/**\n * Loads sound files and lets you know when they're all available. An instance of SoundLoader is available as {@link Splat.Game#sounds}.\n * This implementation uses the Web Audio API, and if that is not available it automatically falls back to the HTML5 &lt;audio&gt; tag.\n * @constructor\n */\nfunction SoundLoader(onLoad) {\n\t/**\n\t * The key-value object that stores named sounds.\n\t * @member {object}\n\t * @private\n\t */\n\tthis.sounds = {};\n\t/**\n\t * The total number of sounds to be loaded.\n\t * @member {number}\n\t * @private\n\t */\n\tthis.totalSounds = 0;\n\t/**\n\t * The number of sounds that have loaded completely.\n\t * @member {number}\n\t * @private\n\t */\n\tthis.loadedSounds = 0;\n\t/**\n\t * A flag signifying if sounds have been muted through {@link SoundLoader#mute}.\n\t * @member {boolean}\n\t * @private\n\t */\n\tthis.muted = false;\n\t/**\n\t * A key-value object that stores named looping sounds.\n\t * @member {object}\n\t * @private\n\t */\n\tthis.looping = {};\n\n\t/**\n\t * The Web Audio API AudioContext\n\t * @member {external:AudioContext}\n\t * @private\n\t */\n\tthis.context = new window.AudioContext();\n\n\tthis.gainNode = this.context.createGain();\n\tthis.gainNode.connect(this.context.destination);\n\tthis.volume = this.gainNode.gain.value;\n\tthis.onLoad = onLoad;\n}\n/**\n * Load an audio file.\n * @param {string} name The name you want to use when you {@link SoundLoader#play} the sound.\n * @param {string} path The path of the sound file.\n */\nSoundLoader.prototype.load = function(name, path) {\n\tvar self = this;\n\n\tif (this.totalSounds === 0) {\n\t\t// safari on iOS mutes sounds until they're played in response to user input\n\t\t// play a dummy sound on first touch\n\t\tvar firstTouchHandler = function() {\n\t\t\twindow.removeEventListener(\"click\", firstTouchHandler);\n\t\t\twindow.removeEventListener(\"keydown\", firstTouchHandler);\n\t\t\twindow.removeEventListener(\"touchstart\", firstTouchHandler);\n\n\t\t\tvar source = self.context.createOscillator();\n\t\t\tsource.connect(self.gainNode);\n\t\t\tsource.start(0);\n\t\t\tsource.stop(0);\n\n\t\t\tif (self.firstPlay) {\n\t\t\t\tself.play(self.firstPlay, self.firstPlayLoop);\n\t\t\t} else {\n\t\t\t\tself.firstPlay = \"workaround\";\n\t\t\t}\n\t\t};\n\t\twindow.addEventListener(\"click\", firstTouchHandler);\n\t\twindow.addEventListener(\"keydown\", firstTouchHandler);\n\t\twindow.addEventListener(\"touchstart\", firstTouchHandler);\n\t}\n\n\tthis.totalSounds++;\n\n\tvar request = new XMLHttpRequest();\n\trequest.open(\"GET\", path, true);\n\trequest.responseType = \"arraybuffer\";\n\trequest.addEventListener(\"readystatechange\", function() {\n\t\tif (request.readyState !== 4) {\n\t\t\treturn;\n\t\t}\n\t\tif (request.status !== 200 && request.status !== 0) {\n\t\t\tconsole.error(\"Error loading sound \" + path);\n\t\t\treturn;\n\t\t}\n\t\tself.context.decodeAudioData(request.response, function(buffer) {\n\t\t\tself.sounds[name] = buffer;\n\t\t\tself.loadedSounds++;\n\t\t\tif (self.allLoaded() && self.onLoad) {\n\t\t\t\tself.onLoad();\n\t\t\t}\n\t\t}, function(err) {\n\t\t\tconsole.error(\"Error decoding audio data for \" + path + \": \" + err);\n\t\t});\n\t});\n\trequest.addEventListener(\"error\", function() {\n\t\tconsole.error(\"Error loading sound \" + path);\n\t});\n\ttry {\n\t\trequest.send();\n\t} catch (e) {\n\t\tconsole.error(\"Error loading sound\", path, e);\n\t}\n};\nSoundLoader.prototype.loadFromManifest = function(manifest) {\n\tvar keys = Object.keys(manifest);\n\tvar self = this;\n\tkeys.forEach(function(key) {\n\t\tself.load(key, manifest[key]);\n\t});\n};\n/**\n * Test if all sounds have loaded.\n * @returns {boolean}\n */\nSoundLoader.prototype.allLoaded = function() {\n\treturn this.totalSounds === this.loadedSounds;\n};\n/**\n * Play a sound.\n * @param {string} name The name given to the sound during {@link SoundLoader#load}\n * @param {Object} [loop=undefined] A hash containing loopStart and loopEnd options. To stop a looped sound use {@link SoundLoader#stop}.\n */\nSoundLoader.prototype.play = function(name, loop) {\n\tif (loop && this.looping[name]) {\n\t\treturn;\n\t}\n\tif (!this.firstPlay) {\n\t\t// let the iOS user input workaround handle it\n\t\tthis.firstPlay = name;\n\t\tthis.firstPlayLoop = loop;\n\t\treturn;\n\t}\n\tvar snd = this.sounds[name];\n\tif (snd === undefined) {\n\t\tconsole.error(\"Unknown sound: \" + name);\n\t}\n\tvar source = this.context.createBufferSource();\n\tsource.buffer = snd;\n\tsource.connect(this.gainNode);\n\tif (loop) {\n\t\tsource.loop = true;\n\t\tsource.loopStart = loop.loopStart || 0;\n\t\tsource.loopEnd = loop.loopEnd || 0;\n\t\tthis.looping[name] = source;\n\t}\n\tsource.start(0);\n};\n/**\n * Stop playing a sound. This currently only stops playing a sound that was looped earlier, and doesn't stop a sound mid-play. Patches welcome.\n * @param {string} name The name given to the sound during {@link SoundLoader#load}\n */\nSoundLoader.prototype.stop = function(name) {\n\tif (!this.looping[name]) {\n\t\treturn;\n\t}\n\tthis.looping[name].stop(0);\n\tdelete this.looping[name];\n};\n/**\n * Silence all sounds. Sounds keep playing, but at zero volume. Call {@link SoundLoader#unmute} to restore the previous volume level.\n */\nSoundLoader.prototype.mute = function() {\n\tthis.gainNode.gain.value = 0;\n\tthis.muted = true;\n};\n/**\n * Restore volume to whatever value it was before {@link SoundLoader#mute} was called.\n */\nSoundLoader.prototype.unmute = function() {\n\tthis.gainNode.gain.value = this.volume;\n\tthis.muted = false;\n};\n/**\n * Set the volume of all sounds.\n * @param {number} gain The desired volume level. A number between 0.0 and 1.0, with 0.0 being silent, and 1.0 being maximum volume.\n */\nSoundLoader.prototype.setVolume = function(gain) {\n\tthis.volume = gain;\n\tthis.gainNode.gain.value = gain;\n\tthis.muted = false;\n};\n/**\n * Test if the volume is currently muted.\n * @return {boolean} True if the volume is currently muted.\n */\nSoundLoader.prototype.isMuted = function() {\n\treturn this.muted;\n};\n\nfunction AudioTagSoundLoader(onLoad) {\n\tthis.sounds = {};\n\tthis.totalSounds = 0;\n\tthis.loadedSounds = 0;\n\tthis.muted = false;\n\tthis.looping = {};\n\tthis.volume = new Audio().volume;\n\tthis.onLoad = onLoad;\n}\nAudioTagSoundLoader.prototype.load = function(name, path) {\n\tthis.totalSounds++;\n\n\tvar audio = new Audio();\n\tvar self = this;\n\taudio.addEventListener(\"error\", function() {\n\t\tconsole.error(\"Error loading sound \" + path);\n\t});\n\taudio.addEventListener(\"canplaythrough\", function() {\n\t\tself.sounds[name] = audio;\n\t\tself.loadedSounds++;\n\t\tif (self.allLoaded() && self.onLoad) {\n\t\t\tself.onLoad();\n\t\t}\n\t});\n\taudio.volume = this.volume;\n\taudio.src = path;\n\taudio.load();\n};\nAudioTagSoundLoader.prototype.loadFromManifest = function(manifest) {\n\tvar keys = Object.keys(manifest);\n\tvar self = this;\n\tkeys.forEach(function(key) {\n\t\tself.load(key, manifest[key]);\n\t});\n};\nAudioTagSoundLoader.prototype.allLoaded = function() {\n\treturn this.totalSounds === this.loadedSounds;\n};\nAudioTagSoundLoader.prototype.play = function(name, loop) {\n\tif (loop && this.looping[name]) {\n\t\treturn;\n\t}\n\tvar snd = this.sounds[name];\n\tif (snd === undefined) {\n\t\tconsole.error(\"Unknown sound: \" + name);\n\t}\n\tif (loop) {\n\t\tsnd.loop = true;\n\t\tthis.looping[name] = snd;\n\t}\n\tsnd.play();\n};\nAudioTagSoundLoader.prototype.stop = function(name) {\n\tvar snd = this.looping[name];\n\tif (!snd) {\n\t\treturn;\n\t}\n\tsnd.loop = false;\n\tsnd.pause();\n\tsnd.currentTime = 0;\n\tdelete this.looping[name];\n};\nfunction setAudioTagVolume(sounds, gain) {\n\tfor (var name in sounds) {\n\t\tif (sounds.hasOwnProperty(name)) {\n\t\t\tsounds[name].volume = gain;\n\t\t}\n\t}\n}\nAudioTagSoundLoader.prototype.mute = function() {\n\tsetAudioTagVolume(this.sounds, 0);\n\tthis.muted = true;\n};\nAudioTagSoundLoader.prototype.unmute = function() {\n\tsetAudioTagVolume(this.sounds, this.volume);\n\tthis.muted = false;\n};\nAudioTagSoundLoader.prototype.setVolume = function(gain) {\n\tthis.volume = gain;\n\tsetAudioTagVolume(this.sounds, gain);\n\tthis.muted = false;\n};\nAudioTagSoundLoader.prototype.isMuted = function() {\n\treturn this.muted;\n};\n\n\nfunction FakeSoundLoader(onLoad) {\n\tthis.onLoad = onLoad;\n}\nFakeSoundLoader.prototype.load = function() {\n\tif (this.onLoad) {\n\t\tthis.onLoad();\n\t}\n};\nFakeSoundLoader.prototype.loadFromManifest = function() {};\nFakeSoundLoader.prototype.allLoaded = function() { return true; };\nFakeSoundLoader.prototype.play = function() {};\nFakeSoundLoader.prototype.stop = function() {};\nFakeSoundLoader.prototype.mute = function() {};\nFakeSoundLoader.prototype.unmute = function() {};\nFakeSoundLoader.prototype.setVolume = function() {};\nFakeSoundLoader.prototype.isMuted = function() {\n\treturn true;\n};\n\nif (window.AudioContext) {\n\tmodule.exports = SoundLoader;\n} else if (window.Audio) {\n\tmodule.exports = AudioTagSoundLoader;\n} else {\n\tconsole.log(\"This browser doesn't support the Web Audio API or the HTML5 audio tag.\");\n\tmodule.exports = FakeSoundLoader;\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/sound-loader.js\n ** module id = 25\n ** module chunks = 0\n **/","\"use strict\";\n\nvar platform = require(\"./platform\");\n\nif (platform.isEjecta()) {\n\tvar iap = new window.Ejecta.IAPManager();\n\n\tmodule.exports = {\n\t\t\"get\": function(sku, callback) {\n\t\t\tiap.getProducts([sku], function(err, products) {\n\t\t\t\tif (err) {\n\t\t\t\t\tcallback(err);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tcallback(undefined, products[0]);\n\t\t\t});\n\t\t},\n\t\t\"buy\": function(product, quantity, callback) {\n\t\t\tproduct.purchase(quantity, callback);\n\t\t},\n\t\t\"restore\": function(callback) {\n\t\t\tiap.restoreTransactions(function(err, transactions) {\n\t\t\t\tif (err) {\n\t\t\t\t\tcallback(err);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tcallback(undefined, transactions.map(function(transaction) {\n\t\t\t\t\treturn transaction.productId;\n\t\t\t\t}));\n\t\t\t});\n\t\t}\n\t};\n} else if (platform.isChromeApp()) {\n\t// FIXME: needs google's buy.js included\n\t// https://developer.chrome.com/webstore/payments-iap\n\tmodule.exports = {\n\t\t\"get\": function(sku, callback) {\n\t\t\twindow.google.payments.inapp.getSkuDetails({\n\t\t\t\t\"parameters\": {\n\t\t\t\t\t\"env\": \"prod\"\n\t\t\t\t},\n\t\t\t\t\"sku\": sku,\n\t\t\t\t\"success\": function(response) {\n\t\t\t\t\tcallback(undefined, response.response.details.inAppProducts[0]);\n\t\t\t\t},\n\t\t\t\t\"failure\": function(response) {\n\t\t\t\t\tcallback(response);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t\"buy\": function(product, quantity, callback) {\n\t\t\twindow.google.payments.inapp.buy({\n\t\t\t\t\"parameters\": {\n\t\t\t\t\t\"env\": \"prod\"\n\t\t\t\t},\n\t\t\t\t\"sku\": product.sku,\n\t\t\t\t\"success\": function(response) {\n\t\t\t\t\tcallback(undefined, response);\n\t\t\t\t},\n\t\t\t\t\"failure\": function(response) {\n\t\t\t\t\tcallback(response);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t\"restore\": function(callback) {\n\t\t\twindow.google.payments.inapp.getPurchases({\n\t\t\t\t\"success\": function(response) {\n\t\t\t\t\tcallback(undefined, response.response.details.map(function(detail) {\n\t\t\t\t\t\treturn detail.sku;\n\t\t\t\t\t}));\n\t\t\t\t},\n\t\t\t\t\"failure\": function(response) {\n\t\t\t\t\tcallback(response);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n} else {\n\tmodule.exports = {\n\t\t\"get\": function(sku, callback) {\n\t\t\tcallback(undefined, undefined);\n\t\t},\n\t\t\"buy\": function(product, quantity, callback) {\n\t\t\tcallback(undefined);\n\t\t},\n\t\t\"restore\": function(callback) {\n\t\t\tcallback(undefined, []);\n\t\t}\n\t};\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/iap.js\n ** module id = 26\n ** module chunks = 0\n **/","\"use strict\";\n/**\n * @namespace Splat.leaderboards\n */\n\nvar platform = require(\"./platform\");\n\nif (platform.isEjecta()) {\n\tvar gameCenter = new window.Ejecta.GameCenter();\n\tgameCenter.softAuthenticate();\n\n\tvar authFirst = function(action) {\n\t\tif (gameCenter.authed) {\n\t\t\taction();\n\t\t} else {\n\t\t\tgameCenter.authenticate(function(err) {\n\t\t\t\tif (err) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\taction();\n\t\t\t});\n\t\t}\n\t};\n\n\tmodule.exports = {\n\t\t/**\n\t\t * Report that an achievement was achieved.\n\t\t * @alias Splat.leaderboards.reportAchievement\n\t\t * @param {string} id The name of the achievement.\n\t\t * @param {int} percent The percentage of the achievement that is completed in the range of 0-100.\n\t\t */\n\t\t\"reportAchievement\": function(id, percent) {\n\t\t\tauthFirst(function() {\n\t\t\t\tgameCenter.reportAchievement(id, percent);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Report that a score was achieved on a leaderboard.\n\t\t * @alias Splat.leaderboards.reportScore\n\t\t * @param {string} leaderboard The name of the leaderboard the score is on.\n\t\t * @param {int} score The score that was achieved.\n\t\t */\n\t\t\"reportScore\": function(leaderboard, score) {\n\t\t\tauthFirst(function() {\n\t\t\t\tgameCenter.reportScore(leaderboard, score);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Show the achievements screen.\n\t\t * @alias Splat.leaderboards.showAchievements\n\t\t */\n\t\t\"showAchievements\": function() {\n\t\t\tauthFirst(function() {\n\t\t\t\tgameCenter.showAchievements();\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Show a leaderboard screen.\n\t\t * @alias Splat.leaderboards.showLeaderboard\n\t\t * @param {string} name The name of the leaderboard to show.\n\t\t */\n\t\t\"showLeaderboard\": function(name) {\n\t\t\tauthFirst(function() {\n\t\t\t\tgameCenter.showLeaderboard(name);\n\t\t\t});\n\t\t}\n\t};\n} else {\n\tmodule.exports = {\n\t\t\"reportAchievement\": function() {},\n\t\t\"reportScore\": function() {},\n\t\t\"showAchievements\": function() {},\n\t\t\"showLeaderboard\": function() {}\n\t};\n}\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/leaderboards.js\n ** module id = 27\n ** module chunks = 0\n **/","\"use strict\";\n\nvar Scene = require(\"./scene\");\n\nmodule.exports = function(game, percentLoaded, nextScene) {\n\tvar scene = new Scene();\n\tscene.renderer.add(function renderLoadingScene() {\n\t\tgame.context.fillStyle = \"#000000\";\n\t\tgame.context.fillRect(0, 0, game.canvas.width, game.canvas.height);\n\n\t\tvar quarterWidth = Math.floor(game.canvas.width / 4);\n\t\tvar halfWidth = Math.floor(game.canvas.width / 2);\n\t\tvar halfHeight = Math.floor(game.canvas.height / 2);\n\n\t\tgame.context.fillStyle = \"#ffffff\";\n\t\tgame.context.fillRect(quarterWidth, halfHeight - 15, halfWidth, 30);\n\n\t\tgame.context.fillStyle = \"#000000\";\n\t\tgame.context.fillRect(quarterWidth + 3, halfHeight - 12, halfWidth - 6, 24);\n\n\t\tgame.context.fillStyle = \"#ffffff\";\n\t\tvar barWidth = (halfWidth - 6) * percentLoaded();\n\t\tgame.context.fillRect(quarterWidth + 3, halfHeight - 12, barWidth, 24);\n\n\t\tif (percentLoaded() === 1) {\n\t\t\tscene.stop();\n\t\t\tnextScene.start(game.context);\n\t\t}\n\t});\n\treturn scene;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/loading-scene.js\n ** module id = 28\n ** module chunks = 0\n **/","\"use strict\";\n\n/**\n * Oscillate between -1 and 1 given a value and a period. This is basically a simplification on using Math.sin().\n * @alias Splat.math.oscillate\n * @param {number} current The current value of the number you want to oscillate.\n * @param {number} period The period, or how often the number oscillates. The return value will oscillate between -1 and 1, depending on how close current is to a multiple of period.\n * @returns {number} A number between -1 and 1.\n * @example\nSplat.math.oscillate(0, 100); // returns 0\nSplat.math.oscillate(100, 100); // returns 0-ish\nSplat.math.oscillate(50, 100); // returns 1\nSplat.math.oscillate(150, 100); // returns -1\nSplat.math.oscillate(200, 100); // returns 0-ish\n */\nfunction oscillate(current, period) {\n\treturn Math.sin(current / period * Math.PI);\n}\n\n/**\n * @namespace Splat.math\n */\nmodule.exports = {\n\toscillate: oscillate,\n\t/**\n\t * A seedable pseudo-random number generator. Currently a Mersenne Twister PRNG.\n\t * @constructor\n\t * @alias Splat.math.Random\n\t * @param {number} [seed] The seed for the PRNG.\n\t * @see [mersenne-twister package at github]{@link https://github.com/boo1ean/mersenne-twister}\n\t * @example\nvar rand = new Splat.math.Random(123);\nvar val = rand.random();\n\t */\n\tRandom: require(\"mersenne-twister\")\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/math.js\n ** module id = 29\n ** module chunks = 0\n **/","/*\n  https://github.com/banksean wrapped Makoto Matsumoto and Takuji Nishimura's code in a namespace\n  so it's better encapsulated. Now you can have multiple random number generators\n  and they won't stomp all over eachother's state.\n\n  If you want to use this as a substitute for Math.random(), use the random()\n  method like so:\n\n  var m = new MersenneTwister();\n  var randomNumber = m.random();\n\n  You can also call the other genrand_{foo}() methods on the instance.\n\n  If you want to use a specific seed in order to get a repeatable random\n  sequence, pass an integer into the constructor:\n\n  var m = new MersenneTwister(123);\n\n  and that will always produce the same random sequence.\n\n  Sean McCullough (banksean@gmail.com)\n*/\n\n/*\n   A C-program for MT19937, with initialization improved 2002/1/26.\n   Coded by Takuji Nishimura and Makoto Matsumoto.\n\n   Before using, initialize the state by using init_seed(seed)\n   or init_by_array(init_key, key_length).\n\n   Copyright (C) 1997 - 2002, Makoto Matsumoto and Takuji Nishimura,\n   All rights reserved.\n\n   Redistribution and use in source and binary forms, with or without\n   modification, are permitted provided that the following conditions\n   are met:\n\n     1. Redistributions of source code must retain the above copyright\n        notice, this list of conditions and the following disclaimer.\n\n     2. Redistributions in binary form must reproduce the above copyright\n        notice, this list of conditions and the following disclaimer in the\n        documentation and/or other materials provided with the distribution.\n\n     3. The names of its contributors may not be used to endorse or promote\n        products derived from this software without specific prior written\n        permission.\n\n   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n   \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n   LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n   A PARTICULAR PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR\n   CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n   EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n   PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n   PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n   LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n   NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n   SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\n\n   Any feedback is very welcome.\n   http://www.math.sci.hiroshima-u.ac.jp/~m-mat/MT/emt.html\n   email: m-mat @ math.sci.hiroshima-u.ac.jp (remove space)\n*/\n\nvar MersenneTwister = function(seed) {\n\tif (seed == undefined) {\n\t\tseed = new Date().getTime();\n\t}\n\n\t/* Period parameters */\n\tthis.N = 624;\n\tthis.M = 397;\n\tthis.MATRIX_A = 0x9908b0df;   /* constant vector a */\n\tthis.UPPER_MASK = 0x80000000; /* most significant w-r bits */\n\tthis.LOWER_MASK = 0x7fffffff; /* least significant r bits */\n\n\tthis.mt = new Array(this.N); /* the array for the state vector */\n\tthis.mti=this.N+1; /* mti==N+1 means mt[N] is not initialized */\n\n\tif (seed.constructor == Array) {\n\t\tthis.init_by_array(seed, seed.length);\n\t}\n\telse {\n\t\tthis.init_seed(seed);\n\t}\n}\n\n/* initializes mt[N] with a seed */\n/* origin name init_genrand */\nMersenneTwister.prototype.init_seed = function(s) {\n\tthis.mt[0] = s >>> 0;\n\tfor (this.mti=1; this.mti<this.N; this.mti++) {\n\t\tvar s = this.mt[this.mti-1] ^ (this.mt[this.mti-1] >>> 30);\n\t\tthis.mt[this.mti] = (((((s & 0xffff0000) >>> 16) * 1812433253) << 16) + (s & 0x0000ffff) * 1812433253)\n\t\t+ this.mti;\n\t\t/* See Knuth TAOCP Vol2. 3rd Ed. P.106 for multiplier. */\n\t\t/* In the previous versions, MSBs of the seed affect   */\n\t\t/* only MSBs of the array mt[].                        */\n\t\t/* 2002/01/09 modified by Makoto Matsumoto             */\n\t\tthis.mt[this.mti] >>>= 0;\n\t\t/* for >32 bit machines */\n\t}\n}\n\n/* initialize by an array with array-length */\n/* init_key is the array for initializing keys */\n/* key_length is its length */\n/* slight change for C++, 2004/2/26 */\nMersenneTwister.prototype.init_by_array = function(init_key, key_length) {\n\tvar i, j, k;\n\tthis.init_seed(19650218);\n\ti=1; j=0;\n\tk = (this.N>key_length ? this.N : key_length);\n\tfor (; k; k--) {\n\t\tvar s = this.mt[i-1] ^ (this.mt[i-1] >>> 30)\n\t\tthis.mt[i] = (this.mt[i] ^ (((((s & 0xffff0000) >>> 16) * 1664525) << 16) + ((s & 0x0000ffff) * 1664525)))\n\t\t+ init_key[j] + j; /* non linear */\n\t\tthis.mt[i] >>>= 0; /* for WORDSIZE > 32 machines */\n\t\ti++; j++;\n\t\tif (i>=this.N) { this.mt[0] = this.mt[this.N-1]; i=1; }\n\t\tif (j>=key_length) j=0;\n\t}\n\tfor (k=this.N-1; k; k--) {\n\t\tvar s = this.mt[i-1] ^ (this.mt[i-1] >>> 30);\n\t\tthis.mt[i] = (this.mt[i] ^ (((((s & 0xffff0000) >>> 16) * 1566083941) << 16) + (s & 0x0000ffff) * 1566083941))\n\t\t- i; /* non linear */\n\t\tthis.mt[i] >>>= 0; /* for WORDSIZE > 32 machines */\n\t\ti++;\n\t\tif (i>=this.N) { this.mt[0] = this.mt[this.N-1]; i=1; }\n\t}\n\n\tthis.mt[0] = 0x80000000; /* MSB is 1; assuring non-zero initial array */\n}\n\n/* generates a random number on [0,0xffffffff]-interval */\n/* origin name genrand_int32 */\nMersenneTwister.prototype.random_int = function() {\n\tvar y;\n\tvar mag01 = new Array(0x0, this.MATRIX_A);\n\t/* mag01[x] = x * MATRIX_A  for x=0,1 */\n\n\tif (this.mti >= this.N) { /* generate N words at one time */\n\t\tvar kk;\n\n\t\tif (this.mti == this.N+1)  /* if init_seed() has not been called, */\n\t\t\tthis.init_seed(5489);  /* a default initial seed is used */\n\n\t\tfor (kk=0;kk<this.N-this.M;kk++) {\n\t\t\ty = (this.mt[kk]&this.UPPER_MASK)|(this.mt[kk+1]&this.LOWER_MASK);\n\t\t\tthis.mt[kk] = this.mt[kk+this.M] ^ (y >>> 1) ^ mag01[y & 0x1];\n\t\t}\n\t\tfor (;kk<this.N-1;kk++) {\n\t\t\ty = (this.mt[kk]&this.UPPER_MASK)|(this.mt[kk+1]&this.LOWER_MASK);\n\t\t\tthis.mt[kk] = this.mt[kk+(this.M-this.N)] ^ (y >>> 1) ^ mag01[y & 0x1];\n\t\t}\n\t\ty = (this.mt[this.N-1]&this.UPPER_MASK)|(this.mt[0]&this.LOWER_MASK);\n\t\tthis.mt[this.N-1] = this.mt[this.M-1] ^ (y >>> 1) ^ mag01[y & 0x1];\n\n\t\tthis.mti = 0;\n\t}\n\n\ty = this.mt[this.mti++];\n\n\t/* Tempering */\n\ty ^= (y >>> 11);\n\ty ^= (y << 7) & 0x9d2c5680;\n\ty ^= (y << 15) & 0xefc60000;\n\ty ^= (y >>> 18);\n\n\treturn y >>> 0;\n}\n\n/* generates a random number on [0,0x7fffffff]-interval */\n/* origin name genrand_int31 */\nMersenneTwister.prototype.random_int31 = function() {\n\treturn (this.random_int()>>>1);\n}\n\n/* generates a random number on [0,1]-real-interval */\n/* origin name genrand_real1 */\nMersenneTwister.prototype.random_incl = function() {\n\treturn this.random_int()*(1.0/4294967295.0);\n\t/* divided by 2^32-1 */\n}\n\n/* generates a random number on [0,1)-real-interval */\nMersenneTwister.prototype.random = function() {\n\treturn this.random_int()*(1.0/4294967296.0);\n\t/* divided by 2^32 */\n}\n\n/* generates a random number on (0,1)-real-interval */\n/* origin name genrand_real3 */\nMersenneTwister.prototype.random_excl = function() {\n\treturn (this.random_int() + 0.5)*(1.0/4294967296.0);\n\t/* divided by 2^32 */\n}\n\n/* generates a random number on [0,1) with 53-bit resolution*/\n/* origin name genrand_res53 */\nMersenneTwister.prototype.random_long = function() {\n\tvar a=this.random_int()>>>5, b=this.random_int()>>>6;\n\treturn(a*67108864.0+b)*(1.0/9007199254740992.0);\n}\n\n/* These real versions are due to Isaku Wada, 2002/01/09 added */\n\nmodule.exports = MersenneTwister;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/mersenne-twister/src/mersenne-twister.js\n ** module id = 30\n ** module chunks = 0\n **/","\"use strict\";\n\nvar platform = require(\"./platform\");\n\n/**\n * Open a url in a new window.\n * @alias Splat.openUrl\n * @param {string} url The url to open in a new window.\n */\nmodule.exports = function(url) {\n\twindow.open(url);\n};\n\nif (platform.isEjecta()) {\n\tmodule.exports = function(url) {\n\t\twindow.ejecta.openURL(url);\n\t};\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/openUrl.js\n ** module id = 31\n ** module chunks = 0\n **/","\"use strict\";\n\nvar buffer = require(\"./buffer\");\n\nfunction getContextForImage(image) {\n\tvar ctx;\n\tbuffer.makeBuffer(image.width, image.height, function(context) {\n\t\tcontext.drawImage(image, 0, 0, image.width, image.height);\n\t\tctx = context;\n\t});\n\treturn ctx;\n}\n\n/**\n * A stretchable image that has borders.\n * Similar to the [Android NinePatch]{@link https://developer.android.com/guide/topics/graphics/2d-graphics.html#nine-patch}, but it only has the lines on the bottom and right edges to denote the stretchable area.\n * A NinePatch is a normal picture, but has an extra 1-pixel wide column on the right edge and bottom edge. The extra column contains a black line that denotes the tileable center portion of the image. The lines are used to divide the image into nine tiles that can be automatically repeated to stretch the picture to any size without distortion.\n * @constructor\n * @alias Splat.NinePatch\n * @param {external:image} image The source image to make stretchable.\n */\nfunction NinePatch(image) {\n\tthis.img = image;\n\tvar imgw = image.width - 1;\n\tvar imgh = image.height - 1;\n\n\tvar context = getContextForImage(image);\n\tvar firstDiv = imgw;\n\tvar secondDiv = imgw;\n\tvar pixel;\n\tvar alpha;\n\tfor (var x = 0; x < imgw; x++) {\n\t\tpixel = context.getImageData(x, imgh, 1, 1).data;\n\t\talpha = pixel[3];\n\t\tif (firstDiv === imgw && alpha > 0) {\n\t\t\tfirstDiv = x;\n\t\t}\n\t\tif (firstDiv < imgw && alpha === 0) {\n\t\t\tsecondDiv = x;\n\t\t\tbreak;\n\t\t}\n\t}\n\tthis.w1 = firstDiv;\n\tthis.w2 = secondDiv - firstDiv;\n\tthis.w3 = imgw - secondDiv;\n\n\tfirstDiv = secondDiv = imgh;\n\tfor (var y = 0; y < imgh; y++) {\n\t\tpixel = context.getImageData(imgw, y, 1, 1).data;\n\t\talpha = pixel[3];\n\t\tif (firstDiv === imgh && alpha > 0) {\n\t\t\tfirstDiv = y;\n\t\t}\n\t\tif (firstDiv < imgh && alpha === 0) {\n\t\t\tsecondDiv = y;\n\t\t\tbreak;\n\t\t}\n\t}\n\tthis.h1 = firstDiv;\n\tthis.h2 = secondDiv - firstDiv;\n\tthis.h3 = imgh - secondDiv;\n}\n/**\n * Draw the image stretched to a given rectangle.\n * @param {external:CanvasRenderingContext2D} context The drawing context.\n * @param {number} x The left side of the rectangle.\n * @param {number} y The top of the rectangle.\n * @param {number} width The width of the rectangle.\n * @param {number} height The height of the rectangle.\n */\nNinePatch.prototype.draw = function(context, x, y, width, height) {\n\tx = Math.floor(x);\n\ty = Math.floor(y);\n\twidth = Math.floor(width);\n\theight = Math.floor(height);\n\tvar cx, cy, w, h;\n\n\tfor (cy = y + this.h1; cy < y + height - this.h3; cy += this.h2) {\n\t\tfor (cx = x + this.w1; cx < x + width - this.w3; cx += this.w2) {\n\t\t\tw = Math.min(this.w2, x + width - this.w3 - cx);\n\t\t\th = Math.min(this.h2, y + height - this.h3 - cy);\n\t\t\tcontext.drawImage(this.img, this.w1, this.h1, w, h, cx, cy, w, h);\n\t\t}\n\t}\n\tfor (cy = y + this.h1; cy < y + height - this.h3; cy += this.h2) {\n\t\th = Math.min(this.h2, y + height - this.h3 - cy);\n\t\tif (this.w1 > 0) {\n\t\t\tcontext.drawImage(this.img, 0,                 this.h1, this.w1, h, x,                   cy, this.w1, h);\n\t\t}\n\t\tif (this.w3 > 0) {\n\t\t\tcontext.drawImage(this.img, this.w1 + this.w2, this.h1, this.w3, h, x + width - this.w3, cy, this.w3, h);\n\t\t}\n\t}\n\tfor (cx = x + this.w1; cx < x + width - this.w3; cx += this.w2) {\n\t\tw = Math.min(this.w2, x + width - this.w3 - cx);\n\t\tif (this.h1 > 0) {\n\t\t\tcontext.drawImage(this.img, this.w1, 0,                 w, this.h1, cx, y,                    w, this.h1);\n\t\t}\n\t\tif (this.h3 > 0) {\n\t\t\tcontext.drawImage(this.img, this.w1, this.w1 + this.w2, w, this.h3, cx, y + height - this.h3, w, this.h3);\n\t\t}\n\t}\n\tif (this.w1 > 0 && this.h1 > 0) {\n\t\tcontext.drawImage(this.img, 0, 0, this.w1, this.h1, x, y, this.w1, this.h1);\n\t}\n\tif (this.w3 > 0 && this.h1 > 0) {\n\t\tcontext.drawImage(this.img, this.w1 + this.w2, 0, this.w3, this.h1, x + width - this.w3, y, this.w3, this.h1);\n\t}\n\tif (this.w1 > 0 && this.h3 > 0) {\n\t\tcontext.drawImage(this.img, 0, this.h1 + this.h2, this.w1, this.h3, x, y + height - this.h3, this.w1, this.h3);\n\t}\n\tif (this.w3 > 0 && this.h3 > 0) {\n\t\tcontext.drawImage(this.img, this.w1 + this.w2, this.h1 + this.h2, this.w3, this.h3, x + width - this.w3, y + height - this.h3, this.w3, this.h3);\n\t}\n};\n\nmodule.exports = NinePatch;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/ninepatch.js\n ** module id = 32\n ** module chunks = 0\n **/","\"use strict\";\n/** @module splat-ecs/lib/particles */\n\nvar random = require(\"splat-ecs/lib/random\");\n\nmodule.exports = {\n\t/**\n\t* Create between {@link module:splat-ecs/lib/particles.Config#qtyMin qtyMin} and {@link module:splat-ecs/lib/particles.Config#qtyMax qtyMax} particles, and randomize their properties according to <code>config</config>.\n\t* @param {object} game The <code>game</code> object that you get in systems and scripts.\n\t* @param {module:splat-ecs/lib/particles.Config} config The settings to use to create the particles.\n\t*/\n\t\"create\": function(game, config) {\n\t\tvar particleCount = Math.floor(random.inRange(config.qtyMin, config.qtyMax));\n\t\tfor (var i = 0; i < particleCount; i++) {\n\t\t\tvar particle = game.instantiatePrefab(config.prefab);\n\t\t\t// check if origin is an entity\n\t\t\tvar origin = config.origin;\n\t\t\tif (typeof config.origin === \"number\") {\n\t\t\t\torigin = choosePointInEntity(game, origin);\n\t\t\t}\n\n\t\t\tvar randomSize = random.inRange(config.sizeMin, config.sizeMax);\n\t\t\tscaleEntityRect(game, particle, randomSize);\n\n\t\t\tcenterEntityOnPoint(game, particle, origin);\n\n\t\t\tvar velocity = random.inRange(config.velocityMin, config.velocityMax);\n\n\t\t\tvar angle = pickAngle(config, i, particleCount);\n\t\t\tgame.entities.set(particle, \"velocity\", pointOnCircle(angle, velocity));\n\n\t\t\tif (config.accelerationX || config.accelerationY) {\n\t\t\t\tgame.entities.set(particle, \"acceleration\", {\n\t\t\t\t\t\"x\": config.accelerationX,\n\t\t\t\t\t\"y\": config.accelerationY\n\t\t\t\t});\n\t\t\t}\n\t\t\tgame.entities.set(particle, \"lifeSpan\", {\n\t\t\t\t\"current\": 0,\n\t\t\t\t\"max\": random.inRange(config.lifeSpanMin, config.lifeSpanMax)\n\t\t\t});\n\t\t}\n\t},\n\n\t/**\n\t* The settings for a type of particle.\n\t* @constructor\n\t* @param {string} prefab The name of a prefab to instantiate for the particle, as defined in <code>prefabs.json</code>.\n\t*/\n\t\"Config\": function(prefab) {\n\t\t/**\n\t\t* The name of a prefab to instantiate for the particle, as defined in <code>prefabs.json</code>.\n\t\t* @member {string}\n\t\t*/\n\t\tthis.prefab = prefab;\n\t\t/**\n\t\t* The origin point in which to create particles.\n\t\t*\n\t\t* If the origin is a number it represents an entity and a random point inside the entity will be used.\n\t\t* If origin is a point like <code>{\"x\": 50, \"y\": 50}</code> particles will spawn at that position.\n\t\t* @member {object | number}\n\t\t*/\n\t\tthis.origin = { \"x\": 0, \"y\": 0 };\n\t\t/**\n\t\t* How to distribute particles along the {@link module:splat-ecs/lib/particles.Config#arcWidth arcWidth}.\n\t\t*\n\t\t* Possible values:\n\t\t* <dl>\n\t\t* <dt><code>\"even\"</code></dt>\n\t\t* <dd>Distribute the particles evenly along the arc.</dd>\n\t\t* <dt><code>\"random\"</code></dt>\n\t\t* <dd>Scatter the particles on random points of the arc.</dd>\n\t\t* </dl>\n\t\t* @member {string}\n\t\t*/\n\t\tthis.spreadType = \"random\";\n\t\t/**\n\t\t* The direction (an angle in radians) that the particles should move.\n\t\t* @member {number}\n\t\t*/\n\t\tthis.angle = 0;\n\t\t/**\n\t\t* The width of an arc (represented by an angle in radians) to spread the particles. The arc is centered around {@link module:splat-ecs/lib/particles.Config#angle angle}.\n\t\t* @member {number}\n\t\t*/\n\t\tthis.arcWidth = Math.PI / 2;\n\t\t/**\n\t\t* The minimum number of particles to create.\n\t\t* @member {number}\n\t\t*/\n\t\tthis.qtyMin = 1;\n\t\t/**\n\t\t* The maximum number of particles to create.\n\t\t* @member {number}\n\t\t*/\n\t\tthis.qtyMax = 1;\n\t\t/**\n\t\t* The minimum percentage to scale each particle.\n\t\t* <ul>\n\t\t* <li>A scale of 0.5 means the particle will spawn at 50% (half) of the original size.</li>\n\t\t* <li>A scale of 1 means the particle will spawn at the original size.</li>\n\t\t* <li>A scale of 2 means the particle will spawn at 200% (double) the original size.</li>\n\t\t* </ul>\n\t\t* @member {number}\n\t\t*/\n\t\tthis.sizeMin = 1;\n\t\t/**\n\t\t* The maximum percentage to scale each particle.\n\t\t* <ul>\n\t\t* <li>A scale of 0.5 means the particle will spawn at 50% (half) of the original size.</li>\n\t\t* <li>A scale of 1 means the particle will spawn at the original size.</li>\n\t\t* <li>A scale of 2 means the particle will spawn at 200% (double) the original size.</li>\n\t\t* </ul>\n\t\t* @member {number}\n\t\t*/\n\t\tthis.sizeMax = 1;\n\t\t/**\n\t\t* The minimum velocity to apply to each particle.\n\t\t* @member {number}\n\t\t*/\n\t\tthis.velocityMin = 0.5;\n\t\t/**\n\t\t* The maximum velocity to apply to each particle.\n\t\t* @member {number}\n\t\t*/\n\t\tthis.velocityMax = 0.5;\n\t\t/**\n\t\t* The acceleration on the x-axis to apply to each particle.\n\t\t* @member {number}\n\t\t*/\n\t\tthis.accelerationX = 0;\n\t\t/**\n\t\t* The acceleration on the y-axis to apply to each particle.\n\t\t* @member {number}\n\t\t*/\n\t\tthis.accelerationY = 0;\n\t\t/**\n\t\t* The minimum life span to apply to each particle.\n\t\t* @member {number}\n\t\t*/\n\t\tthis.lifeSpanMin = 0;\n\t\t/**\n\t\t* The maximum life span to apply to each particle.\n\t\t* @member {number}\n\t\t*/\n\t\tthis.lifeSpanMax = 500;\n\t}\n};\n\nfunction pickAngle(config, particleNumber, particleCount) {\n\tvar startAngle = config.angle - (config.arcWidth / 2);\n\tif (config.spreadType === \"even\") {\n\t\treturn (particleNumber * (config.arcWidth / (particleCount - 1))) + startAngle;\n\t} else {\n\t\tvar endAngle = startAngle + config.arcWidth;\n\t\treturn random.inRange(startAngle, endAngle);\n\t}\n}\n\nfunction scaleEntityRect(game, entity, scaleFactor) {\n\tvar size = game.entities.get(entity, \"size\");\n\tsize.width = size.width * scaleFactor;\n\tsize.height = size.height * scaleFactor;\n}\n\nfunction pointOnCircle(angle, radius) {\n\treturn {\n\t\t\"x\": (radius * Math.cos(angle)),\n\t\t\"y\": (radius * Math.sin(angle))\n\t};\n}\n\n/**\n* Center an entity on a given point.\n* @private\n* @param {object} game Required for game.entities.get().\n* @param {integer} entity The id of entity to center.\n* @param {object} point A point object <code>{\"x\": 50, \"y\": 50}</code> on which to center the entity.\n*/\nfunction centerEntityOnPoint(game, entity, point) {\n\tvar size = game.entities.get(entity, \"size\");\n\tif (!game.entities.get(entity, \"position\")) {\n\t\tgame.entities.set(entity, \"position\", { \"x\": 0, \"y\": 0 });\n\t}\n\tvar position = game.entities.get(entity, \"position\");\n\tposition.x = point.x - (size.width / 2);\n\tposition.y = point.y - (size.height / 2);\n}\n\n/**\n* Choose a random point inside the bounding rectangle of an entity.\n* @private\n* @param {object} game Required for game.entities.get().\n* @param {integer} entity The id of entity to pick a point within.\n* @returns {object} an point object <code>{\"x\": 50, \"y\": 50}</code>.\n*/\nfunction choosePointInEntity(game, entity) {\n\tvar position = game.entities.get(entity, \"position\");\n\tvar size = game.entities.get(entity, \"size\");\n\tif (size === undefined) {\n\t\treturn {\n\t\t\t\"x\": position.x,\n\t\t\t\"y\": position.y\n\t\t};\n\t}\n\treturn {\n\t\t\"x\": random.inRange(position.x, (position.x + size.width)),\n\t\t\"y\": random.inRange(position.y, (position.y + size.height))\n\t};\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/particles.js\n ** module id = 33\n ** module chunks = 0\n **/","\"use strict\";\n\nmodule.exports = {\n\t\"inRange\": function(min, max) {\n\t\treturn min + Math.random() * (max - min);\n\t},\n\t\"from\": function(array) {\n\t\treturn array[Math.floor(Math.random() * array.length)];\n\t}\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/random.js\n ** module id = 34\n ** module chunks = 0\n **/","\"use strict\";\n/**\n * @namespace Splat.saveData\n */\n\nvar platform = require(\"./platform\");\n\nfunction cookieGet(name) {\n\tvar value = \"; \" + document.cookie;\n\tvar parts = value.split(\"; \" + name + \"=\");\n\tif (parts.length === 2) {\n\t\treturn parts.pop().split(\";\").shift();\n\t} else {\n\t\tthrow \"cookie \" + name + \" was not found\";\n\t}\n}\n\nfunction cookieSet(name, value) {\n\tvar expire = new Date();\n\texpire.setTime(expire.getTime() + 1000 * 60 * 60 * 24 * 365);\n\tvar cookie = name + \"=\" + value + \"; expires=\" + expire.toUTCString() + \";\";\n\tdocument.cookie = cookie;\n}\n\nfunction getMultiple(getSingleFunc, keys, callback) {\n\tif (typeof keys === \"string\") {\n\t\tkeys = [keys];\n\t}\n\n\ttry {\n\t\tvar data = keys.map(function(key) {\n\t\t\treturn [key, getSingleFunc(key)];\n\t\t}).reduce(function(accum, pair) {\n\t\t\taccum[pair[0]] = pair[1];\n\t\t\treturn accum;\n\t\t}, {});\n\n\t\tcallback(undefined, data);\n\t} catch (e) {\n\t\tcallback(e);\n\t}\n}\n\nfunction setMultiple(setSingleFunc, data, callback) {\n\ttry {\n\t\tfor (var key in data) {\n\t\t\tif (data.hasOwnProperty(key)) {\n\t\t\t\tsetSingleFunc(key, data[key]);\n\t\t\t}\n\t\t}\n\t\tcallback();\n\t} catch (e) {\n\t\tcallback(e);\n\t}\n}\n\nvar cookieSaveData = {\n\t\"get\": getMultiple.bind(undefined, cookieGet),\n\t\"set\": setMultiple.bind(undefined, cookieSet)\n};\n\nfunction localStorageGet(name) {\n\treturn window.localStorage.getItem(name);\n}\n\nfunction localStorageSet(name, value) {\n\twindow.localStorage.setItem(name, value.toString());\n}\n\nvar localStorageSaveData = {\n\t\"get\": getMultiple.bind(undefined, localStorageGet),\n\t\"set\": setMultiple.bind(undefined, localStorageSet)\n};\n\n/**\n * A function that is called when save data has finished being retrieved.\n * @callback saveDataGetFinished\n * @param {error} err If defined, err is the error that occurred when retrieving the data.\n * @param {object} data The key-value pairs of data that were previously saved.\n */\n/**\n * Retrieve data previously stored with {@link Splat.saveData.set}.\n * @alias Splat.saveData.get\n * @param {string | Array} keys A single key or array of key names of data items to retrieve.\n * @param {saveDataGetFinished} callback A callback that is called with the data when it has been retrieved.\n */\nfunction chromeStorageGet(keys, callback) {\n\twindow.chrome.storage.sync.get(keys, function(data) {\n\t\tif (window.chrome.runtime.lastError) {\n\t\t\tcallback(window.chrome.runtime.lastError);\n\t\t} else {\n\t\t\tcallback(undefined, data);\n\t\t}\n\t});\n}\n\n/**\n * A function that is called when save data has finished being stored.\n * @callback saveDataSetFinished\n * @param {error} err If defined, err is the error that occurred when saving the data.\n */\n/**\n * Store data for later.\n * @alias Splat.saveData.set\n * @param {object} data An object containing key-value pairs of data to save.\n * @param {saveDataSetFinished} callback A callback that is called when the data has finished saving.\n */\nfunction chromeStorageSet(data, callback) {\n\twindow.chrome.storage.sync.set(data, function() {\n\t\tcallback(window.chrome.runtime.lastError);\n\t});\n}\n\nvar chromeStorageSaveData = {\n\t\"get\": chromeStorageGet,\n\t\"set\": chromeStorageSet\n};\n\nif (platform.isChromeApp()) {\n\tmodule.exports = chromeStorageSaveData;\n} else if (window.localStorage) {\n\tmodule.exports = localStorageSaveData;\n} else {\n\tmodule.exports = cookieSaveData;\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/save-data.js\n ** module id = 35\n ** module chunks = 0\n **/","\"use strict\";\n\nmodule.exports = function animation(name, loop) {\n\treturn {\n\t\tname: name,\n\t\ttime: 0,\n\t\tframe: 0,\n\t\tloop: loop,\n\t\tspeed: 1\n\t};\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/components/animation.js\n ** module id = 36\n ** module chunks = 0\n **/","\"use strict\";\n\nmodule.exports = function position(x, y) {\n\treturn { x: x, y: y };\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/components/camera.js\n ** module id = 37\n ** module chunks = 0\n **/","\"use strict\";\n\nmodule.exports = function friction(x, y) {\n\treturn { x: x, y: y };\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/components/friction.js\n ** module id = 38\n ** module chunks = 0\n **/","\"use strict\";\n\nmodule.exports = function image(name, sourceX, sourceY, sourceWidth, sourceHeight, destinationX, destinationY, destinationWidth, destinationHeight) {\n\treturn {\n\t\tname: name,\n\t\tsourceX: sourceX,\n\t\tsourceY: sourceY,\n\t\tsourceWidth: sourceWidth,\n\t\tsourceHeight: sourceHeight,\n\t\tdestinationX: destinationX,\n\t\tdestinationY: destinationY,\n\t\tdestinationWidth: destinationWidth,\n\t\tdestinationHeight: destinationHeight\n\t};\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/components/image.js\n ** module id = 39\n ** module chunks = 0\n **/","\"use strict\";\n\nmodule.exports = function movement2d(accel, max) {\n\treturn {\n\t\tup: false,\n\t\tdown: false,\n\t\tleft: false,\n\t\tright: false,\n\t\tupAccel: -accel,\n\t\tdownAccel: accel,\n\t\tleftAccel: -accel,\n\t\trightAccel: accel,\n\t\tupMax: -max,\n\t\tdownMax: max,\n\t\tleftMax: -max,\n\t\trightMax: max\n\t};\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/components/movement-2d.js\n ** module id = 40\n ** module chunks = 0\n **/","\"use strict\";\n\nmodule.exports = function playableArea(x, y, width, height) {\n\treturn { x: x, y: y, width: width, height: height };\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/components/playable-area.js\n ** module id = 41\n ** module chunks = 0\n **/","\"use strict\";\n\nmodule.exports = function playerController2d(up, down, left, right) {\n\treturn { up: up, down: down, left: left, right: right };\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/components/player-controller-2d.js\n ** module id = 42\n ** module chunks = 0\n **/","/**\n * The coordinates of an entity in the game world.\n * @typedef {Object} position\n * @memberof Components\n * @property {float} x - The position of this entity along the x-axis.\n * @property {float} y - The position of this entity along the y-axis.\n * @property {float} z - The position of this entity along the z-axis.\n * Since Splat is 2D this is mainly for creating layers when drawing sprites similar to z-index in CSS.\n */\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/components/position.js\n ** module id = 43\n ** module chunks = 0\n **/","/**\n * The size of an entity in the game world.\n * @typedef {Object} size\n * @memberof Components\n * @property {float} width - The width of this entity rightward from {@link Components.position} along the x-axis.\n * @property {float} height - The height of this entity downward from {@link Components.position} along the y-axis.\n */\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/components/size.js\n ** module id = 44\n ** module chunks = 0\n **/","/**\n * A named group of timers. Each key is the name of a timer, and the value is a {@link Components.timer}.\n * @typedef {Object} timers\n * @memberof Components\n */\n/**\n * Measure time or run code after a duration.\n * @typedef {Object} timer\n * @memberof Components\n * @property {bool} loop - <code>true</code> if the timer should repeat after it reaches <code>max</code>.\n * @property {float} max - The maximum amount of time to accumulate. If <code>time</code> reaches <code>max</code>, then <code>time</code> will be set to <code>0</code> and <code>running</code> will be set to <code>false</code>.\n * @property {bool} running - Determines if the timer is accumulating time.\n * @property {string} script - The <code>require</code> path to a script to run when the timer is reset. The path is relative to your game's <code>src</code> folder. For example <code>./scripts/next-scene</code> might execute the code in <code>/src/scripts/next-scene.js</code>.\n * @property {float} time - The amount of time, in milliseconds, the timer has accumulated.\n */\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/components/timers.js\n ** module id = 45\n ** module chunks = 0\n **/","/**\n * The speed of an entity in the game world in pixels-per-millisecond.\n * @typedef {Object} velocity\n * @memberof Components\n * @property {float} x - The velocity of this entity along the x-axis.\n * @property {float} y - The velocity of this entity along the y-axis.\n */\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/components/velocity.js\n ** module id = 46\n ** module chunks = 0\n **/","module.exports = __webpack_public_path__ + \"index.html\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/index.html\n ** module id = 47\n ** module chunks = 0\n **/","var map = {\n\t\"./advance-animations.js\": 49,\n\t\"./advance-timers.js\": 50,\n\t\"./apply-acceleration.js\": 51,\n\t\"./apply-easing.js\": 52,\n\t\"./apply-friction.js\": 54,\n\t\"./apply-movement-2d.js\": 55,\n\t\"./apply-shake.js\": 56,\n\t\"./apply-velocity.js\": 57,\n\t\"./box-collider.js\": 58,\n\t\"./center-position.js\": 73,\n\t\"./clear-screen.js\": 74,\n\t\"./constrain-position.js\": 75,\n\t\"./control-player.js\": 76,\n\t\"./decay-life-span.js\": 77,\n\t\"./draw-frame-rate.js\": 78,\n\t\"./draw-image.js\": 79,\n\t\"./draw-rectangles.js\": 80,\n\t\"./follow-parent.js\": 81,\n\t\"./match-aspect-ratio.js\": 82,\n\t\"./match-canvas-size.js\": 83,\n\t\"./match-center-x.js\": 84,\n\t\"./match-center-y.js\": 85,\n\t\"./match-parent.js\": 86,\n\t\"./revert-shake.js\": 87,\n\t\"./set-virtual-buttons.js\": 88,\n\t\"./viewport-move-to-camera.js\": 89,\n\t\"./viewport-reset.js\": 90\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 48;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/systems \\.js$\n ** module id = 48\n ** module chunks = 0\n **/","\"use strict\";\n\nfunction setOwnPropertiesDeep(src, dest) {\n\tvar props = Object.keys(src);\n\tfor (var i = 0; i < props.length; i++) {\n\t\tvar prop = props[i];\n\t\tvar val = src[prop];\n\t\tif (typeof val === \"object\") {\n\t\t\tif (!dest[prop]) {\n\t\t\t\tdest[prop] = {};\n\t\t\t}\n\t\t\tsetOwnPropertiesDeep(val, dest[prop]);\n\t\t} else {\n\t\t\tdest[prop] = val;\n\t\t}\n\t}\n}\n\nfunction applyAnimation(entity, a, animation, entities) {\n\ta.lastName = a.name; // track the old name so we can see if it changes\n\tObject.keys(animation[a.frame].properties).forEach(function(property) {\n\t\tvar dest = entities.get(entity, property);\n\t\tvar isNewProp = false;\n\t\tif (dest === undefined) {\n\t\t\tisNewProp = true;\n\t\t\tdest = {};\n\t\t}\n\t\tsetOwnPropertiesDeep(animation[a.frame].properties[property], dest);\n\t\tif (isNewProp) {\n\t\t\tentities.set(entity, property, dest);\n\t\t}\n\t});\n}\n\nmodule.exports = function(ecs, game) {\n\tgame.entities.onAddComponent(\"animation\", function(entity, component, a) {\n\t\tvar animation = game.animations[a.name];\n\t\tif (animation === undefined) {\n\t\t\treturn;\n\t\t}\n\t\tapplyAnimation(entity, a, animation, game.entities);\n\t});\n\tecs.addEach(function advanceAnimations(entity, elapsed) {\n\t\tvar a = game.entities.get(entity, \"animation\");\n\t\tvar animation = game.animations[a.name];\n\t\tif (animation === undefined) {\n\t\t\treturn;\n\t\t}\n\t\tif (a.name != a.lastName) {\n\t\t\ta.frame = 0;\n\t\t\ta.time = 0;\n\t\t}\n\t\ta.time += elapsed * a.speed;\n\t\tvar lastFrame = a.frame;\n\t\twhile (a.time > animation[a.frame].time) {\n\t\t\ta.time -= animation[a.frame].time;\n\t\t\ta.frame++;\n\t\t\tif (a.frame >= animation.length) {\n\t\t\t\tif (a.loop) {\n\t\t\t\t\ta.frame = 0;\n\t\t\t\t} else {\n\t\t\t\t\ta.frame--;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (lastFrame != a.frame || a.name != a.lastName) {\n\t\t\tapplyAnimation(entity, a, animation, game.entities);\n\t\t}\n\t}, \"animation\");\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/systems/advance-animations.js\n ** module id = 49\n ** module chunks = 0\n **/","\"use strict\";\n\nmodule.exports = function(ecs, game) {\n\tecs.addEach(function advanceTimers(entity, elapsed) {\n\t\tvar timers = game.entities.get(entity, \"timers\");\n\t\tvar names = Object.keys(timers);\n\n\t\tnames.forEach(function(name) {\n\t\t\tvar timer = timers[name];\n\t\t\tif (!timer.running) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttimer.time += elapsed;\n\n\t\t\twhile (timer.time > timer.max) {\n\t\t\t\tif (timer.loop) {\n\t\t\t\t\ttimer.time -= timer.max;\n\t\t\t\t} else {\n\t\t\t\t\ttimer.running = false;\n\t\t\t\t\ttimer.time = 0;\n\t\t\t\t}\n\t\t\t\tif (timer.script !== undefined) {\n\t\t\t\t\tvar script = game.require(timer.script);\n\t\t\t\t\tscript(entity, game);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}, \"timers\");\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/systems/advance-timers.js\n ** module id = 50\n ** module chunks = 0\n **/","\"use strict\";\n\nmodule.exports = function(ecs, game) {\n\tgame.entities.registerSearch(\"applyAcceleration\", [\"acceleration\", \"velocity\"]);\n\tecs.addEach(function applyAcceleration(entity, elapsed) {\n\t\tvar velocity = game.entities.get(entity, \"velocity\");\n\t\tvar acceleration = game.entities.get(entity, \"acceleration\");\n\t\tvelocity.x += acceleration.x * elapsed;\n\t\tvelocity.y += acceleration.y * elapsed;\n\t}, \"applyAcceleration\");\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/systems/apply-acceleration.js\n ** module id = 51\n ** module chunks = 0\n **/","\"use strict\";\n\nvar easingJS = require(\"easing-js\");\n\nmodule.exports = function(ecs, game) { // eslint-disable-line no-unused-vars\n\tecs.addEach(function applyEasing(entity, elapsed) { // eslint-disable-line no-unused-vars\n\t\tvar easing = game.entities.get(entity, \"easing\");\n\n\t\tvar properties = Object.keys(easing);\n\t\tfor (var i = 0; i < properties.length; i++) {\n\t\t\tvar current = easing[properties[i]];\n\t\t\tcurrent.time += elapsed;\n\t\t\teaseProperty(game, entity, properties[i], current);\n\t\t\tif (current.time > current.max) {\n\t\t\t\tdelete easing[properties[i]];\n\t\t\t}\n\t\t}\n\t}, \"easing\");\n};\n\nfunction easeProperty(game, entity, property, easing) {\n\tvar parts = property.split(\".\");\n\tvar componentName = parts[0];\n\tvar component = game.entities.get(entity, componentName);\n\tvar partNames = parts.slice(1, parts.length, parts - 1);\n\tfor (var i = 0; i < partNames.length - 1; i++) {\n\t\tcomponent = component[partNames[i]];\n\t}\n\tvar last = parts[parts.length - 1];\n\tcomponent[last] = easingJS[easing.type](easing.time, easing.start, easing.end - easing.start, easing.max);\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/systems/apply-easing.js\n ** module id = 52\n ** module chunks = 0\n **/","\"use strict\";\n\nvar Easing = {\n  linear: function linear(t, b, c, d) {\n    return c * t / d + b;\n  },\n  easeInQuad: function easeInQuad(t, b, c, d) {\n    return c * (t /= d) * t + b;\n  },\n  easeOutQuad: function easeOutQuad(t, b, c, d) {\n    return -c * (t /= d) * (t - 2) + b;\n  },\n  easeInOutQuad: function easeInOutQuad(t, b, c, d) {\n    if ((t /= d / 2) < 1) {\n      return c / 2 * t * t + b;\n    } else {\n      return -c / 2 * (--t * (t - 2) - 1) + b;\n    }\n  },\n  easeInCubic: function easeInCubic(t, b, c, d) {\n    return c * (t /= d) * t * t + b;\n  },\n  easeOutCubic: function easeOutCubic(t, b, c, d) {\n    return c * ((t = t / d - 1) * t * t + 1) + b;\n  },\n  easeInOutCubic: function easeInOutCubic(t, b, c, d) {\n    if ((t /= d / 2) < 1) {\n      return c / 2 * t * t * t + b;\n    } else {\n      return c / 2 * ((t -= 2) * t * t + 2) + b;\n    }\n  },\n  easeInQuart: function easeInQuart(t, b, c, d) {\n    return c * (t /= d) * t * t * t + b;\n  },\n  easeOutQuart: function easeOutQuart(t, b, c, d) {\n    return -c * ((t = t / d - 1) * t * t * t - 1) + b;\n  },\n  easeInOutQuart: function easeInOutQuart(t, b, c, d) {\n    if ((t /= d / 2) < 1) {\n      return c / 2 * t * t * t * t + b;\n    } else {\n      return -c / 2 * ((t -= 2) * t * t * t - 2) + b;\n    }\n  },\n  easeInQuint: function easeInQuint(t, b, c, d) {\n    return c * (t /= d) * t * t * t * t + b;\n  },\n  easeOutQuint: function easeOutQuint(t, b, c, d) {\n    return c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n  },\n  easeInOutQuint: function easeInOutQuint(t, b, c, d) {\n    if ((t /= d / 2) < 1) {\n      return c / 2 * t * t * t * t * t + b;\n    } else {\n      return c / 2 * ((t -= 2) * t * t * t * t + 2) + b;\n    }\n  },\n  easeInSine: function easeInSine(t, b, c, d) {\n    return -c * Math.cos(t / d * (Math.PI / 2)) + c + b;\n  },\n  easeOutSine: function easeOutSine(t, b, c, d) {\n    return c * Math.sin(t / d * (Math.PI / 2)) + b;\n  },\n  easeInOutSine: function easeInOutSine(t, b, c, d) {\n    return -c / 2 * (Math.cos(Math.PI * t / d) - 1) + b;\n  },\n  easeInExpo: function easeInExpo(t, b, c, d) {\n    var _ref;\n    return (_ref = t === 0) !== null ? _ref : {\n      b: c * Math.pow(2, 10 * (t / d - 1)) + b\n    };\n  },\n  easeOutExpo: function easeOutExpo(t, b, c, d) {\n    var _ref;\n    return (_ref = t === d) !== null ? _ref : b + {\n      c: c * (-Math.pow(2, -10 * t / d) + 1) + b\n    };\n  },\n  easeInOutExpo: function easeInOutExpo(t, b, c, d) {\n    if (t === 0) {\n      b;\n    }\n    if (t === d) {\n      b + c;\n    }\n    if ((t /= d / 2) < 1) {\n      return c / 2 * Math.pow(2, 10 * (t - 1)) + b;\n    } else {\n      return c / 2 * (-Math.pow(2, -10 * --t) + 2) + b;\n    }\n  },\n  easeInCirc: function easeInCirc(t, b, c, d) {\n    return -c * (Math.sqrt(1 - (t /= d) * t) - 1) + b;\n  },\n  easeOutCirc: function easeOutCirc(t, b, c, d) {\n    return c * Math.sqrt(1 - (t = t / d - 1) * t) + b;\n  },\n  easeInOutCirc: function easeInOutCirc(t, b, c, d) {\n    if ((t /= d / 2) < 1) {\n      return -c / 2 * (Math.sqrt(1 - t * t) - 1) + b;\n    } else {\n      return c / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1) + b;\n    }\n  },\n  easeInElastic: function easeInElastic(t, b, c, d) {\n    var a, p, s;\n    s = 1.70158;\n    p = 0;\n    a = c;\n    if (t === 0) {\n      b;\n    } else if ((t /= d) === 1) {\n      b + c;\n    }\n    if (!p) {\n      p = d * 0.3;\n    }\n    if (a < Math.abs(c)) {\n      a = c;\n      s = p / 4;\n    } else {\n      s = p / (2 * Math.PI) * Math.asin(c / a);\n    }\n    return -(a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n  },\n  easeOutElastic: function easeOutElastic(t, b, c, d) {\n    var a, p, s;\n    s = 1.70158;\n    p = 0;\n    a = c;\n    if (t === 0) {\n      b;\n    } else if ((t /= d) === 1) {\n      b + c;\n    }\n    if (!p) {\n      p = d * 0.3;\n    }\n    if (a < Math.abs(c)) {\n      a = c;\n      s = p / 4;\n    } else {\n      s = p / (2 * Math.PI) * Math.asin(c / a);\n    }\n    return a * Math.pow(2, -10 * t) * Math.sin((t * d - s) * (2 * Math.PI) / p) + c + b;\n  },\n  easeInOutElastic: function easeInOutElastic(t, b, c, d) {\n    var a, p, s;\n    s = 1.70158;\n    p = 0;\n    a = c;\n    if (t === 0) {\n      b;\n    } else if ((t /= d / 2) === 2) {\n      b + c;\n    }\n    if (!p) {\n      p = d * (0.3 * 1.5);\n    }\n    if (a < Math.abs(c)) {\n      a = c;\n      s = p / 4;\n    } else {\n      s = p / (2 * Math.PI) * Math.asin(c / a);\n    }\n    if (t < 1) {\n      return -0.5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n    } else {\n      return a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p) * 0.5 + c + b;\n    }\n  },\n  easeInBack: function easeInBack(t, b, c, d, s) {\n    if (s === void 0) {\n      s = 1.70158;\n    }\n    return c * (t /= d) * t * ((s + 1) * t - s) + b;\n  },\n  easeOutBack: function easeOutBack(t, b, c, d, s) {\n    if (s === void 0) {\n      s = 1.70158;\n    }\n    return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n  },\n  easeInOutBack: function easeInOutBack(t, b, c, d, s) {\n    if (s === void 0) {\n      s = 1.70158;\n    }\n    if ((t /= d / 2) < 1) {\n      return c / 2 * (t * t * (((s *= 1.525) + 1) * t - s)) + b;\n    } else {\n      return c / 2 * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2) + b;\n    }\n  },\n  easeInBounce: function easeInBounce(t, b, c, d) {\n    var v;\n    v = Easing.easeOutBounce(d - t, 0, c, d);\n    return c - v + b;\n  },\n  easeOutBounce: function easeOutBounce(t, b, c, d) {\n    if ((t /= d) < 1 / 2.75) {\n      return c * (7.5625 * t * t) + b;\n    } else if (t < 2 / 2.75) {\n      return c * (7.5625 * (t -= 1.5 / 2.75) * t + 0.75) + b;\n    } else if (t < 2.5 / 2.75) {\n      return c * (7.5625 * (t -= 2.25 / 2.75) * t + 0.9375) + b;\n    } else {\n      return c * (7.5625 * (t -= 2.625 / 2.75) * t + 0.984375) + b;\n    }\n  },\n  easeInOutBounce: function easeInOutBounce(t, b, c, d) {\n    var v;\n    if (t < d / 2) {\n      v = Easing.easeInBounce(t * 2, 0, c, d);\n      return v * 0.5 + b;\n    } else {\n      v = Easing.easeOutBounce(t * 2 - d, 0, c, d);\n      return v * 0.5 + c * 0.5 + b;\n    }\n  }\n};\n\nmodule.exports = Easing;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/easing-js/dist/easing.js\n ** module id = 53\n ** module chunks = 0\n **/","\"use strict\";\n\nmodule.exports = function(ecs, game) {\n\tgame.entities.registerSearch(\"applyFriction\", [\"velocity\", \"friction\"]);\n\tecs.addEach(function applyFriction(entity, elapsed) { // eslint-disable-line no-unused-vars\n\t\tvar velocity = game.entities.get(entity, \"velocity\");\n\t\tvar friction = game.entities.get(entity, \"friction\");\n\t\tvelocity.x *= friction.x;\n\t\tvelocity.y *= friction.y;\n\t}, \"applyFriction\");\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/systems/apply-friction.js\n ** module id = 54\n ** module chunks = 0\n **/","\"use strict\";\n\nmodule.exports = function(ecs, game) {\n\tgame.entities.registerSearch(\"applyMovement2d\", [\"velocity\", \"movement2d\"]);\n\tecs.addEach(function applyMovement2d(entity, elapsed) { // eslint-disable-line no-unused-vars\n\t\tvar velocity = game.entities.get(entity, \"velocity\");\n\t\tvar movement2d = game.entities.get(entity, \"movement2d\");\n\t\tif (movement2d.up && velocity.y > movement2d.upMax) {\n\t\t\tvelocity.y += movement2d.upAccel;\n\t\t}\n\t\tif (movement2d.down && velocity.y < movement2d.downMax) {\n\t\t\tvelocity.y += movement2d.downAccel;\n\t\t}\n\t\tif (movement2d.left && velocity.x > movement2d.leftMax) {\n\t\t\tvelocity.x += movement2d.leftAccel;\n\t\t}\n\t\tif (movement2d.right && velocity.x < movement2d.rightMax) {\n\t\t\tvelocity.x += movement2d.rightAccel;\n\t\t}\n\t}, \"applyMovement2d\");\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/systems/apply-movement-2d.js\n ** module id = 55\n ** module chunks = 0\n **/","\"use strict\";\n\nvar random = require(\"../random\");\n\nmodule.exports = function(ecs, game) { // eslint-disable-line no-unused-vars\n\tgame.entities.registerSearch(\"applyShakeSearch\",[\"shake\", \"position\"]);\n\tecs.addEach(function applyShake(entity, elapsed) { // eslint-disable-line no-unused-vars\n\t\tvar shake = game.entities.get(entity, \"shake\");\n\t\tshake.duration -= elapsed;\n\t\tif (shake.duration <= 0) {\n\t\t\tgame.entities.remove(entity, \"shake\");\n\t\t\treturn;\n\t\t}\n\t\tvar position = game.entities.get(entity, \"position\");\n\t\tshake.lastPositionX = position.x;\n\t\tshake.lastPositionY = position.y;\n\n\t\tvar mx = shake.magnitudeX;\n\t\tif (mx === undefined) {\n\t\t\tmx = shake.magnitude || 0;\n\t\t}\n\t\tmx /= 2;\n\t\tposition.x += random.inRange(-mx, mx);\n\n\t\tvar my = shake.magnitudeY;\n\t\tif (my === undefined) {\n\t\t\tmy = shake.magnitude || 0;\n\t\t}\n\t\tmy /= 2;\n\t\tposition.y += random.inRange(-my, my);\n\t}, \"applyShakeSearch\");\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/systems/apply-shake.js\n ** module id = 56\n ** module chunks = 0\n **/","\"use strict\";\n\nmodule.exports = function(ecs, game) {\n\tgame.entities.registerSearch(\"applyVelocity\", [\"position\", \"velocity\"]);\n\tecs.addEach(function applyVelocity(entity, elapsed) {\n\t\tvar position = game.entities.get(entity, \"position\");\n\t\tvar velocity = game.entities.get(entity, \"velocity\");\n\t\tposition.x += velocity.x * elapsed;\n\t\tposition.y += velocity.y * elapsed;\n\t}, \"applyVelocity\");\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/systems/apply-velocity.js\n ** module id = 57\n ** module chunks = 0\n **/","\"use strict\";\n\nvar boxIntersect = require(\"box-intersect\");\n\nmodule.exports = function(ecs, game) {\n\n\tgame.entities.registerSearch(\"boxCollider\", [\"position\", \"size\", \"collisions\"]);\n\n\tgame.entities.onRemoveComponent(\"collisions\", function(entity, component, collisions) {\n\t\tfor (var i = 0; i < collisions.length; i++) {\n\t\t\tvar otherCollisions = game.entities.get(collisions[i], \"collisions\");\n\t\t\tvar idx = otherCollisions.indexOf(entity);\n\t\t\tif (idx !== -1) {\n\t\t\t\totherCollisions.splice(idx,1);\n\t\t\t}\n\t\t}\n\t});\n\n\tvar boxPool = [];\n\tvar boxPoolLength = 0;\n\tfunction growBoxPool(size) {\n\t\tboxPoolLength = size;\n\t\twhile (boxPool.length < size) {\n\t\t\tfor (var i = 0; i < 50; i++) {\n\t\t\t\tboxPool.push([0, 0, 0, 0]);\n\t\t\t}\n\t\t}\n\t}\n\n\tecs.add(function boxCollider(entities, elapsed) { // eslint-disable-line no-unused-vars\n\t\tvar ids = game.entities.find(\"boxCollider\");\n\n\t\tgrowBoxPool(ids.length);\n\t\tids.forEach(function(entity, i) {\n\t\t\tgame.entities.get(entity, \"collisions\").length = 0;\n\t\t\tvar position = game.entities.get(entity, \"position\");\n\t\t\tvar size = game.entities.get(entity, \"size\");\n\t\t\tboxPool[i][0] = position.x;\n\t\t\tboxPool[i][1] = position.y;\n\t\t\tboxPool[i][2] = position.x + size.width;\n\t\t\tboxPool[i][3] = position.y + size.height;\n\t\t});\n\t\tboxIntersect(boxPool, function(a, b) {\n\t\t\tif (a >= boxPoolLength || b >= boxPoolLength) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar idA = ids[a];\n\t\t\tvar idB = ids[b];\n\t\t\tgame.entities.get(idA, \"collisions\").push(idB);\n\t\t\tgame.entities.get(idB, \"collisions\").push(idA);\n\t\t});\n\t});\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/systems/box-collider.js\n ** module id = 58\n ** module chunks = 0\n **/","'use strict'\n\nmodule.exports = boxIntersectWrapper\n\nvar pool = require('typedarray-pool')\nvar sweep = require('./lib/sweep')\nvar boxIntersectIter = require('./lib/intersect')\n\nfunction boxEmpty(d, box) {\n  for(var j=0; j<d; ++j) {\n    if(!(box[j] <= box[j+d])) {\n      return true\n    }\n  }\n  return false\n}\n\n//Unpack boxes into a flat typed array, remove empty boxes\nfunction convertBoxes(boxes, d, data, ids) {\n  var ptr = 0\n  var count = 0\n  for(var i=0, n=boxes.length; i<n; ++i) {\n    var b = boxes[i]\n    if(boxEmpty(d, b)) {\n      continue\n    }\n    for(var j=0; j<2*d; ++j) {\n      data[ptr++] = b[j]\n    }\n    ids[count++] = i\n  }\n  return count\n}\n\n//Perform type conversions, check bounds\nfunction boxIntersect(red, blue, visit, full) {\n  var n = red.length\n  var m = blue.length\n\n  //If either array is empty, then we can skip this whole thing\n  if(n <= 0 || m <= 0) {\n    return\n  }\n\n  //Compute dimension, if it is 0 then we skip\n  var d = (red[0].length)>>>1\n  if(d <= 0) {\n    return\n  }\n\n  var retval\n\n  //Convert red boxes\n  var redList  = pool.mallocDouble(2*d*n)\n  var redIds   = pool.mallocInt32(n)\n  n = convertBoxes(red, d, redList, redIds)\n\n  if(n > 0) {\n    if(d === 1 && full) {\n      //Special case: 1d complete\n      sweep.init(n)\n      retval = sweep.sweepComplete(\n        d, visit, \n        0, n, redList, redIds,\n        0, n, redList, redIds)\n    } else {\n\n      //Convert blue boxes\n      var blueList = pool.mallocDouble(2*d*m)\n      var blueIds  = pool.mallocInt32(m)\n      m = convertBoxes(blue, d, blueList, blueIds)\n\n      if(m > 0) {\n        sweep.init(n+m)\n\n        if(d === 1) {\n          //Special case: 1d bipartite\n          retval = sweep.sweepBipartite(\n            d, visit, \n            0, n, redList,  redIds,\n            0, m, blueList, blueIds)\n        } else {\n          //General case:  d>1\n          retval = boxIntersectIter(\n            d, visit,    full,\n            n, redList,  redIds,\n            m, blueList, blueIds)\n        }\n\n        pool.free(blueList)\n        pool.free(blueIds)\n      }\n    }\n\n    pool.free(redList)\n    pool.free(redIds)\n  }\n\n  return retval\n}\n\n\nvar RESULT\n\nfunction appendItem(i,j) {\n  RESULT.push([i,j])\n}\n\nfunction intersectFullArray(x) {\n  RESULT = []\n  boxIntersect(x, x, appendItem, true)\n  return RESULT\n}\n\nfunction intersectBipartiteArray(x, y) {\n  RESULT = []\n  boxIntersect(x, y, appendItem, false)\n  return RESULT\n}\n\n//User-friendly wrapper, handle full input and no-visitor cases\nfunction boxIntersectWrapper(arg0, arg1, arg2) {\n  var result\n  switch(arguments.length) {\n    case 1:\n      return intersectFullArray(arg0)\n    case 2:\n      if(typeof arg1 === 'function') {\n        return boxIntersect(arg0, arg0, arg1, true)\n      } else {\n        return intersectBipartiteArray(arg0, arg1)\n      }\n    case 3:\n      return boxIntersect(arg0, arg1, arg2, false)\n    default:\n      throw new Error('box-intersect: Invalid arguments')\n  }\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/box-intersect/index.js\n ** module id = 59\n ** module chunks = 0\n **/","'use strict'\n\nvar bits = require('bit-twiddle')\nvar dup = require('dup')\n\n//Legacy pool support\nif(!global.__TYPEDARRAY_POOL) {\n  global.__TYPEDARRAY_POOL = {\n      UINT8   : dup([32, 0])\n    , UINT16  : dup([32, 0])\n    , UINT32  : dup([32, 0])\n    , INT8    : dup([32, 0])\n    , INT16   : dup([32, 0])\n    , INT32   : dup([32, 0])\n    , FLOAT   : dup([32, 0])\n    , DOUBLE  : dup([32, 0])\n    , DATA    : dup([32, 0])\n    , UINT8C  : dup([32, 0])\n    , BUFFER  : dup([32, 0])\n  }\n}\n\nvar hasUint8C = (typeof Uint8ClampedArray) !== 'undefined'\nvar POOL = global.__TYPEDARRAY_POOL\n\n//Upgrade pool\nif(!POOL.UINT8C) {\n  POOL.UINT8C = dup([32, 0])\n}\nif(!POOL.BUFFER) {\n  POOL.BUFFER = dup([32, 0])\n}\n\n//New technique: Only allocate from ArrayBufferView and Buffer\nvar DATA    = POOL.DATA\n  , BUFFER  = POOL.BUFFER\n\nexports.free = function free(array) {\n  if(Buffer.isBuffer(array)) {\n    BUFFER[bits.log2(array.length)].push(array)\n  } else {\n    if(Object.prototype.toString.call(array) !== '[object ArrayBuffer]') {\n      array = array.buffer\n    }\n    if(!array) {\n      return\n    }\n    var n = array.length || array.byteLength\n    var log_n = bits.log2(n)|0\n    DATA[log_n].push(array)\n  }\n}\n\nfunction freeArrayBuffer(buffer) {\n  if(!buffer) {\n    return\n  }\n  var n = buffer.length || buffer.byteLength\n  var log_n = bits.log2(n)\n  DATA[log_n].push(buffer)\n}\n\nfunction freeTypedArray(array) {\n  freeArrayBuffer(array.buffer)\n}\n\nexports.freeUint8 =\nexports.freeUint16 =\nexports.freeUint32 =\nexports.freeInt8 =\nexports.freeInt16 =\nexports.freeInt32 =\nexports.freeFloat32 = \nexports.freeFloat =\nexports.freeFloat64 = \nexports.freeDouble = \nexports.freeUint8Clamped = \nexports.freeDataView = freeTypedArray\n\nexports.freeArrayBuffer = freeArrayBuffer\n\nexports.freeBuffer = function freeBuffer(array) {\n  BUFFER[bits.log2(array.length)].push(array)\n}\n\nexports.malloc = function malloc(n, dtype) {\n  if(dtype === undefined || dtype === 'arraybuffer') {\n    return mallocArrayBuffer(n)\n  } else {\n    switch(dtype) {\n      case 'uint8':\n        return mallocUint8(n)\n      case 'uint16':\n        return mallocUint16(n)\n      case 'uint32':\n        return mallocUint32(n)\n      case 'int8':\n        return mallocInt8(n)\n      case 'int16':\n        return mallocInt16(n)\n      case 'int32':\n        return mallocInt32(n)\n      case 'float':\n      case 'float32':\n        return mallocFloat(n)\n      case 'double':\n      case 'float64':\n        return mallocDouble(n)\n      case 'uint8_clamped':\n        return mallocUint8Clamped(n)\n      case 'buffer':\n        return mallocBuffer(n)\n      case 'data':\n      case 'dataview':\n        return mallocDataView(n)\n\n      default:\n        return null\n    }\n  }\n  return null\n}\n\nfunction mallocArrayBuffer(n) {\n  var n = bits.nextPow2(n)\n  var log_n = bits.log2(n)\n  var d = DATA[log_n]\n  if(d.length > 0) {\n    return d.pop()\n  }\n  return new ArrayBuffer(n)\n}\nexports.mallocArrayBuffer = mallocArrayBuffer\n\nfunction mallocUint8(n) {\n  return new Uint8Array(mallocArrayBuffer(n), 0, n)\n}\nexports.mallocUint8 = mallocUint8\n\nfunction mallocUint16(n) {\n  return new Uint16Array(mallocArrayBuffer(2*n), 0, n)\n}\nexports.mallocUint16 = mallocUint16\n\nfunction mallocUint32(n) {\n  return new Uint32Array(mallocArrayBuffer(4*n), 0, n)\n}\nexports.mallocUint32 = mallocUint32\n\nfunction mallocInt8(n) {\n  return new Int8Array(mallocArrayBuffer(n), 0, n)\n}\nexports.mallocInt8 = mallocInt8\n\nfunction mallocInt16(n) {\n  return new Int16Array(mallocArrayBuffer(2*n), 0, n)\n}\nexports.mallocInt16 = mallocInt16\n\nfunction mallocInt32(n) {\n  return new Int32Array(mallocArrayBuffer(4*n), 0, n)\n}\nexports.mallocInt32 = mallocInt32\n\nfunction mallocFloat(n) {\n  return new Float32Array(mallocArrayBuffer(4*n), 0, n)\n}\nexports.mallocFloat32 = exports.mallocFloat = mallocFloat\n\nfunction mallocDouble(n) {\n  return new Float64Array(mallocArrayBuffer(8*n), 0, n)\n}\nexports.mallocFloat64 = exports.mallocDouble = mallocDouble\n\nfunction mallocUint8Clamped(n) {\n  if(hasUint8C) {\n    return new Uint8ClampedArray(mallocArrayBuffer(n), 0, n)\n  } else {\n    return mallocUint8(n)\n  }\n}\nexports.mallocUint8Clamped = mallocUint8Clamped\n\nfunction mallocDataView(n) {\n  return new DataView(mallocArrayBuffer(n), 0, n)\n}\nexports.mallocDataView = mallocDataView\n\nfunction mallocBuffer(n) {\n  n = bits.nextPow2(n)\n  var log_n = bits.log2(n)\n  var cache = BUFFER[log_n]\n  if(cache.length > 0) {\n    return cache.pop()\n  }\n  return new Buffer(n)\n}\nexports.mallocBuffer = mallocBuffer\n\nexports.clearCache = function clearCache() {\n  for(var i=0; i<32; ++i) {\n    POOL.UINT8[i].length = 0\n    POOL.UINT16[i].length = 0\n    POOL.UINT32[i].length = 0\n    POOL.INT8[i].length = 0\n    POOL.INT16[i].length = 0\n    POOL.INT32[i].length = 0\n    POOL.FLOAT[i].length = 0\n    POOL.DOUBLE[i].length = 0\n    POOL.UINT8C[i].length = 0\n    DATA[i].length = 0\n    BUFFER[i].length = 0\n  }\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/typedarray-pool/pool.js\n ** module id = 60\n ** module chunks = 0\n **/","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\nBuffer.poolSize = 8192 // not used by this implementation\n\nvar rootParent = {}\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Safari 5-7 lacks support for changing the `Object.prototype.constructor` property\n *     on objects.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\nfunction typedArraySupport () {\n  function Bar () {}\n  try {\n    var arr = new Uint8Array(1)\n    arr.foo = function () { return 42 }\n    arr.constructor = Bar\n    return arr.foo() === 42 && // typed array instances can be augmented\n        arr.constructor === Bar && // constructor can be set\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\n/**\n * Class: Buffer\n * =============\n *\n * The Buffer constructor returns instances of `Uint8Array` that are augmented\n * with function properties for all the node `Buffer` API functions. We use\n * `Uint8Array` so that square bracket notation works as expected -- it returns\n * a single octet.\n *\n * By augmenting the instances, we can avoid modifying the `Uint8Array`\n * prototype.\n */\nfunction Buffer (arg) {\n  if (!(this instanceof Buffer)) {\n    // Avoid going through an ArgumentsAdaptorTrampoline in the common case.\n    if (arguments.length > 1) return new Buffer(arg, arguments[1])\n    return new Buffer(arg)\n  }\n\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    this.length = 0\n    this.parent = undefined\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    return fromNumber(this, arg)\n  }\n\n  // Slightly less common case.\n  if (typeof arg === 'string') {\n    return fromString(this, arg, arguments.length > 1 ? arguments[1] : 'utf8')\n  }\n\n  // Unusual.\n  return fromObject(this, arg)\n}\n\nfunction fromNumber (that, length) {\n  that = allocate(that, length < 0 ? 0 : checked(length) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < length; i++) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') encoding = 'utf8'\n\n  // Assumption: byteLength() return value is always < kMaxLength.\n  var length = byteLength(string, encoding) | 0\n  that = allocate(that, length)\n\n  that.write(string, encoding)\n  return that\n}\n\nfunction fromObject (that, object) {\n  if (Buffer.isBuffer(object)) return fromBuffer(that, object)\n\n  if (isArray(object)) return fromArray(that, object)\n\n  if (object == null) {\n    throw new TypeError('must start with number, buffer, array or string')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined') {\n    if (object.buffer instanceof ArrayBuffer) {\n      return fromTypedArray(that, object)\n    }\n    if (object instanceof ArrayBuffer) {\n      return fromArrayBuffer(that, object)\n    }\n  }\n\n  if (object.length) return fromArrayLike(that, object)\n\n  return fromJsonObject(that, object)\n}\n\nfunction fromBuffer (that, buffer) {\n  var length = checked(buffer.length) | 0\n  that = allocate(that, length)\n  buffer.copy(that, 0, 0, length)\n  return that\n}\n\nfunction fromArray (that, array) {\n  var length = checked(array.length) | 0\n  that = allocate(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\n// Duplicate of fromArray() to keep fromArray() monomorphic.\nfunction fromTypedArray (that, array) {\n  var length = checked(array.length) | 0\n  that = allocate(that, length)\n  // Truncating the elements is probably not what people expect from typed\n  // arrays with BYTES_PER_ELEMENT > 1 but it's compatible with the behavior\n  // of the old Buffer constructor.\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array) {\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    array.byteLength\n    that = Buffer._augment(new Uint8Array(array))\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromTypedArray(that, new Uint8Array(array))\n  }\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = checked(array.length) | 0\n  that = allocate(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\n// Deserialize { type: 'Buffer', data: [1,2,3,...] } into a Buffer object.\n// Returns a zero-length buffer for inputs that don't conform to the spec.\nfunction fromJsonObject (that, object) {\n  var array\n  var length = 0\n\n  if (object.type === 'Buffer' && isArray(object.data)) {\n    array = object.data\n    length = checked(array.length) | 0\n  }\n  that = allocate(that, length)\n\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n} else {\n  // pre-set for values that may exist in the future\n  Buffer.prototype.length = undefined\n  Buffer.prototype.parent = undefined\n}\n\nfunction allocate (that, length) {\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = Buffer._augment(new Uint8Array(length))\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that.length = length\n    that._isBuffer = true\n  }\n\n  var fromPool = length !== 0 && length <= Buffer.poolSize >>> 1\n  if (fromPool) that.parent = rootParent\n\n  return that\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (subject, encoding) {\n  if (!(this instanceof SlowBuffer)) return new SlowBuffer(subject, encoding)\n\n  var buf = new Buffer(subject, encoding)\n  delete buf.parent\n  return buf\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  var i = 0\n  var len = Math.min(x, y)\n  while (i < len) {\n    if (a[i] !== b[i]) break\n\n    ++i\n  }\n\n  if (i !== len) {\n    x = a[i]\n    y = b[i]\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'binary':\n    case 'base64':\n    case 'raw':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) throw new TypeError('list argument must be an Array of Buffers.')\n\n  if (list.length === 0) {\n    return new Buffer(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; i++) {\n      length += list[i].length\n    }\n  }\n\n  var buf = new Buffer(length)\n  var pos = 0\n  for (i = 0; i < list.length; i++) {\n    var item = list[i]\n    item.copy(buf, pos)\n    pos += item.length\n  }\n  return buf\n}\n\nfunction byteLength (string, encoding) {\n  if (typeof string !== 'string') string = '' + string\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'binary':\n      // Deprecated\n      case 'raw':\n      case 'raws':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  start = start | 0\n  end = end === undefined || end === Infinity ? this.length : end | 0\n\n  if (!encoding) encoding = 'utf8'\n  if (start < 0) start = 0\n  if (end > this.length) end = this.length\n  if (end <= start) return ''\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'binary':\n        return binarySlice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return 0\n  return Buffer.compare(this, b)\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset) {\n  if (byteOffset > 0x7fffffff) byteOffset = 0x7fffffff\n  else if (byteOffset < -0x80000000) byteOffset = -0x80000000\n  byteOffset >>= 0\n\n  if (this.length === 0) return -1\n  if (byteOffset >= this.length) return -1\n\n  // Negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = Math.max(this.length + byteOffset, 0)\n\n  if (typeof val === 'string') {\n    if (val.length === 0) return -1 // special case: looking for empty string always fails\n    return String.prototype.indexOf.call(this, val, byteOffset)\n  }\n  if (Buffer.isBuffer(val)) {\n    return arrayIndexOf(this, val, byteOffset)\n  }\n  if (typeof val === 'number') {\n    if (Buffer.TYPED_ARRAY_SUPPORT && Uint8Array.prototype.indexOf === 'function') {\n      return Uint8Array.prototype.indexOf.call(this, val, byteOffset)\n    }\n    return arrayIndexOf(this, [ val ], byteOffset)\n  }\n\n  function arrayIndexOf (arr, val, byteOffset) {\n    var foundIndex = -1\n    for (var i = 0; byteOffset + i < arr.length; i++) {\n      if (arr[byteOffset + i] === val[foundIndex === -1 ? 0 : i - foundIndex]) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === val.length) return byteOffset + foundIndex\n      } else {\n        foundIndex = -1\n      }\n    }\n    return -1\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\n// `get` is deprecated\nBuffer.prototype.get = function get (offset) {\n  console.log('.get() is deprecated. Access using array indexes instead.')\n  return this.readUInt8(offset)\n}\n\n// `set` is deprecated\nBuffer.prototype.set = function set (v, offset) {\n  console.log('.set() is deprecated. Access using array indexes instead.')\n  return this.writeUInt8(v, offset)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new Error('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; i++) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) throw new Error('Invalid hex string')\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction binaryWrite (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    var swap = encoding\n    encoding = offset\n    offset = length | 0\n    length = swap\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'binary':\n        return binaryWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; i++) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction binarySlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; i++) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; i++) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = Buffer._augment(this.subarray(start, end))\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; i++) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  if (newBuf.length) newBuf.parent = this.parent || this\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('buffer must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('value is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkInt(this, value, offset, byteLength, Math.pow(2, 8 * byteLength), 0)\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkInt(this, value, offset, byteLength, Math.pow(2, 8 * byteLength), 0)\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; i++) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; i++) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = value < 0 ? 1 : 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = value < 0 ? 1 : 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (value > max || value < min) throw new RangeError('value is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('index out of range')\n  if (offset < 0) throw new RangeError('index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; i--) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; i++) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    target._set(this.subarray(start, start + len), targetStart)\n  }\n\n  return len\n}\n\n// fill(value, start=0, end=buffer.length)\nBuffer.prototype.fill = function fill (value, start, end) {\n  if (!value) value = 0\n  if (!start) start = 0\n  if (!end) end = this.length\n\n  if (end < start) throw new RangeError('end < start')\n\n  // Fill 0 bytes; we're done\n  if (end === start) return\n  if (this.length === 0) return\n\n  if (start < 0 || start >= this.length) throw new RangeError('start out of bounds')\n  if (end < 0 || end > this.length) throw new RangeError('end out of bounds')\n\n  var i\n  if (typeof value === 'number') {\n    for (i = start; i < end; i++) {\n      this[i] = value\n    }\n  } else {\n    var bytes = utf8ToBytes(value.toString())\n    var len = bytes.length\n    for (i = start; i < end; i++) {\n      this[i] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n/**\n * Creates a new `ArrayBuffer` with the *copied* memory of the buffer instance.\n * Added in Node 0.12. Only available in browsers that support ArrayBuffer.\n */\nBuffer.prototype.toArrayBuffer = function toArrayBuffer () {\n  if (typeof Uint8Array !== 'undefined') {\n    if (Buffer.TYPED_ARRAY_SUPPORT) {\n      return (new Buffer(this)).buffer\n    } else {\n      var buf = new Uint8Array(this.length)\n      for (var i = 0, len = buf.length; i < len; i += 1) {\n        buf[i] = this[i]\n      }\n      return buf.buffer\n    }\n  } else {\n    throw new TypeError('Buffer.toArrayBuffer not supported in this browser')\n  }\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar BP = Buffer.prototype\n\n/**\n * Augment a Uint8Array *instance* (not the Uint8Array class!) with Buffer methods\n */\nBuffer._augment = function _augment (arr) {\n  arr.constructor = Buffer\n  arr._isBuffer = true\n\n  // save reference to original Uint8Array set method before overwriting\n  arr._set = arr.set\n\n  // deprecated\n  arr.get = BP.get\n  arr.set = BP.set\n\n  arr.write = BP.write\n  arr.toString = BP.toString\n  arr.toLocaleString = BP.toString\n  arr.toJSON = BP.toJSON\n  arr.equals = BP.equals\n  arr.compare = BP.compare\n  arr.indexOf = BP.indexOf\n  arr.copy = BP.copy\n  arr.slice = BP.slice\n  arr.readUIntLE = BP.readUIntLE\n  arr.readUIntBE = BP.readUIntBE\n  arr.readUInt8 = BP.readUInt8\n  arr.readUInt16LE = BP.readUInt16LE\n  arr.readUInt16BE = BP.readUInt16BE\n  arr.readUInt32LE = BP.readUInt32LE\n  arr.readUInt32BE = BP.readUInt32BE\n  arr.readIntLE = BP.readIntLE\n  arr.readIntBE = BP.readIntBE\n  arr.readInt8 = BP.readInt8\n  arr.readInt16LE = BP.readInt16LE\n  arr.readInt16BE = BP.readInt16BE\n  arr.readInt32LE = BP.readInt32LE\n  arr.readInt32BE = BP.readInt32BE\n  arr.readFloatLE = BP.readFloatLE\n  arr.readFloatBE = BP.readFloatBE\n  arr.readDoubleLE = BP.readDoubleLE\n  arr.readDoubleBE = BP.readDoubleBE\n  arr.writeUInt8 = BP.writeUInt8\n  arr.writeUIntLE = BP.writeUIntLE\n  arr.writeUIntBE = BP.writeUIntBE\n  arr.writeUInt16LE = BP.writeUInt16LE\n  arr.writeUInt16BE = BP.writeUInt16BE\n  arr.writeUInt32LE = BP.writeUInt32LE\n  arr.writeUInt32BE = BP.writeUInt32BE\n  arr.writeIntLE = BP.writeIntLE\n  arr.writeIntBE = BP.writeIntBE\n  arr.writeInt8 = BP.writeInt8\n  arr.writeInt16LE = BP.writeInt16LE\n  arr.writeInt16BE = BP.writeInt16BE\n  arr.writeInt32LE = BP.writeInt32LE\n  arr.writeInt32BE = BP.writeInt32BE\n  arr.writeFloatLE = BP.writeFloatLE\n  arr.writeFloatBE = BP.writeFloatBE\n  arr.writeDoubleLE = BP.writeDoubleLE\n  arr.writeDoubleBE = BP.writeDoubleBE\n  arr.fill = BP.fill\n  arr.inspect = BP.inspect\n  arr.toArrayBuffer = BP.toArrayBuffer\n\n  return arr\n}\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; i++) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; i++) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; i++) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; i++) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/buffer/index.js\n ** module id = 61\n ** module chunks = 0\n **/","var lookup = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n;(function (exports) {\n\t'use strict';\n\n  var Arr = (typeof Uint8Array !== 'undefined')\n    ? Uint8Array\n    : Array\n\n\tvar PLUS   = '+'.charCodeAt(0)\n\tvar SLASH  = '/'.charCodeAt(0)\n\tvar NUMBER = '0'.charCodeAt(0)\n\tvar LOWER  = 'a'.charCodeAt(0)\n\tvar UPPER  = 'A'.charCodeAt(0)\n\tvar PLUS_URL_SAFE = '-'.charCodeAt(0)\n\tvar SLASH_URL_SAFE = '_'.charCodeAt(0)\n\n\tfunction decode (elt) {\n\t\tvar code = elt.charCodeAt(0)\n\t\tif (code === PLUS ||\n\t\t    code === PLUS_URL_SAFE)\n\t\t\treturn 62 // '+'\n\t\tif (code === SLASH ||\n\t\t    code === SLASH_URL_SAFE)\n\t\t\treturn 63 // '/'\n\t\tif (code < NUMBER)\n\t\t\treturn -1 //no match\n\t\tif (code < NUMBER + 10)\n\t\t\treturn code - NUMBER + 26 + 26\n\t\tif (code < UPPER + 26)\n\t\t\treturn code - UPPER\n\t\tif (code < LOWER + 26)\n\t\t\treturn code - LOWER + 26\n\t}\n\n\tfunction b64ToByteArray (b64) {\n\t\tvar i, j, l, tmp, placeHolders, arr\n\n\t\tif (b64.length % 4 > 0) {\n\t\t\tthrow new Error('Invalid string. Length must be a multiple of 4')\n\t\t}\n\n\t\t// the number of equal signs (place holders)\n\t\t// if there are two placeholders, than the two characters before it\n\t\t// represent one byte\n\t\t// if there is only one, then the three characters before it represent 2 bytes\n\t\t// this is just a cheap hack to not do indexOf twice\n\t\tvar len = b64.length\n\t\tplaceHolders = '=' === b64.charAt(len - 2) ? 2 : '=' === b64.charAt(len - 1) ? 1 : 0\n\n\t\t// base64 is 4/3 + up to two characters of the original data\n\t\tarr = new Arr(b64.length * 3 / 4 - placeHolders)\n\n\t\t// if there are placeholders, only get up to the last complete 4 chars\n\t\tl = placeHolders > 0 ? b64.length - 4 : b64.length\n\n\t\tvar L = 0\n\n\t\tfunction push (v) {\n\t\t\tarr[L++] = v\n\t\t}\n\n\t\tfor (i = 0, j = 0; i < l; i += 4, j += 3) {\n\t\t\ttmp = (decode(b64.charAt(i)) << 18) | (decode(b64.charAt(i + 1)) << 12) | (decode(b64.charAt(i + 2)) << 6) | decode(b64.charAt(i + 3))\n\t\t\tpush((tmp & 0xFF0000) >> 16)\n\t\t\tpush((tmp & 0xFF00) >> 8)\n\t\t\tpush(tmp & 0xFF)\n\t\t}\n\n\t\tif (placeHolders === 2) {\n\t\t\ttmp = (decode(b64.charAt(i)) << 2) | (decode(b64.charAt(i + 1)) >> 4)\n\t\t\tpush(tmp & 0xFF)\n\t\t} else if (placeHolders === 1) {\n\t\t\ttmp = (decode(b64.charAt(i)) << 10) | (decode(b64.charAt(i + 1)) << 4) | (decode(b64.charAt(i + 2)) >> 2)\n\t\t\tpush((tmp >> 8) & 0xFF)\n\t\t\tpush(tmp & 0xFF)\n\t\t}\n\n\t\treturn arr\n\t}\n\n\tfunction uint8ToBase64 (uint8) {\n\t\tvar i,\n\t\t\textraBytes = uint8.length % 3, // if we have 1 byte left, pad 2 bytes\n\t\t\toutput = \"\",\n\t\t\ttemp, length\n\n\t\tfunction encode (num) {\n\t\t\treturn lookup.charAt(num)\n\t\t}\n\n\t\tfunction tripletToBase64 (num) {\n\t\t\treturn encode(num >> 18 & 0x3F) + encode(num >> 12 & 0x3F) + encode(num >> 6 & 0x3F) + encode(num & 0x3F)\n\t\t}\n\n\t\t// go through the array every three bytes, we'll deal with trailing stuff later\n\t\tfor (i = 0, length = uint8.length - extraBytes; i < length; i += 3) {\n\t\t\ttemp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n\t\t\toutput += tripletToBase64(temp)\n\t\t}\n\n\t\t// pad the end with zeros, but make sure to not forget the extra bytes\n\t\tswitch (extraBytes) {\n\t\t\tcase 1:\n\t\t\t\ttemp = uint8[uint8.length - 1]\n\t\t\t\toutput += encode(temp >> 2)\n\t\t\t\toutput += encode((temp << 4) & 0x3F)\n\t\t\t\toutput += '=='\n\t\t\t\tbreak\n\t\t\tcase 2:\n\t\t\t\ttemp = (uint8[uint8.length - 2] << 8) + (uint8[uint8.length - 1])\n\t\t\t\toutput += encode(temp >> 10)\n\t\t\t\toutput += encode((temp >> 4) & 0x3F)\n\t\t\t\toutput += encode((temp << 2) & 0x3F)\n\t\t\t\toutput += '='\n\t\t\t\tbreak\n\t\t}\n\n\t\treturn output\n\t}\n\n\texports.toByteArray = b64ToByteArray\n\texports.fromByteArray = uint8ToBase64\n}(typeof exports === 'undefined' ? (this.base64js = {}) : exports))\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/base64-js/lib/b64.js\n ** module id = 62\n ** module chunks = 0\n **/","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/ieee754/index.js\n ** module id = 63\n ** module chunks = 0\n **/","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/buffer/~/isarray/index.js\n ** module id = 64\n ** module chunks = 0\n **/","/**\n * Bit twiddling hacks for JavaScript.\n *\n * Author: Mikola Lysenko\n *\n * Ported from Stanford bit twiddling hack library:\n *    http://graphics.stanford.edu/~seander/bithacks.html\n */\n\n\"use strict\"; \"use restrict\";\n\n//Number of bits in an integer\nvar INT_BITS = 32;\n\n//Constants\nexports.INT_BITS  = INT_BITS;\nexports.INT_MAX   =  0x7fffffff;\nexports.INT_MIN   = -1<<(INT_BITS-1);\n\n//Returns -1, 0, +1 depending on sign of x\nexports.sign = function(v) {\n  return (v > 0) - (v < 0);\n}\n\n//Computes absolute value of integer\nexports.abs = function(v) {\n  var mask = v >> (INT_BITS-1);\n  return (v ^ mask) - mask;\n}\n\n//Computes minimum of integers x and y\nexports.min = function(x, y) {\n  return y ^ ((x ^ y) & -(x < y));\n}\n\n//Computes maximum of integers x and y\nexports.max = function(x, y) {\n  return x ^ ((x ^ y) & -(x < y));\n}\n\n//Checks if a number is a power of two\nexports.isPow2 = function(v) {\n  return !(v & (v-1)) && (!!v);\n}\n\n//Computes log base 2 of v\nexports.log2 = function(v) {\n  var r, shift;\n  r =     (v > 0xFFFF) << 4; v >>>= r;\n  shift = (v > 0xFF  ) << 3; v >>>= shift; r |= shift;\n  shift = (v > 0xF   ) << 2; v >>>= shift; r |= shift;\n  shift = (v > 0x3   ) << 1; v >>>= shift; r |= shift;\n  return r | (v >> 1);\n}\n\n//Computes log base 10 of v\nexports.log10 = function(v) {\n  return  (v >= 1000000000) ? 9 : (v >= 100000000) ? 8 : (v >= 10000000) ? 7 :\n          (v >= 1000000) ? 6 : (v >= 100000) ? 5 : (v >= 10000) ? 4 :\n          (v >= 1000) ? 3 : (v >= 100) ? 2 : (v >= 10) ? 1 : 0;\n}\n\n//Counts number of bits\nexports.popCount = function(v) {\n  v = v - ((v >>> 1) & 0x55555555);\n  v = (v & 0x33333333) + ((v >>> 2) & 0x33333333);\n  return ((v + (v >>> 4) & 0xF0F0F0F) * 0x1010101) >>> 24;\n}\n\n//Counts number of trailing zeros\nfunction countTrailingZeros(v) {\n  var c = 32;\n  v &= -v;\n  if (v) c--;\n  if (v & 0x0000FFFF) c -= 16;\n  if (v & 0x00FF00FF) c -= 8;\n  if (v & 0x0F0F0F0F) c -= 4;\n  if (v & 0x33333333) c -= 2;\n  if (v & 0x55555555) c -= 1;\n  return c;\n}\nexports.countTrailingZeros = countTrailingZeros;\n\n//Rounds to next power of 2\nexports.nextPow2 = function(v) {\n  v += v === 0;\n  --v;\n  v |= v >>> 1;\n  v |= v >>> 2;\n  v |= v >>> 4;\n  v |= v >>> 8;\n  v |= v >>> 16;\n  return v + 1;\n}\n\n//Rounds down to previous power of 2\nexports.prevPow2 = function(v) {\n  v |= v >>> 1;\n  v |= v >>> 2;\n  v |= v >>> 4;\n  v |= v >>> 8;\n  v |= v >>> 16;\n  return v - (v>>>1);\n}\n\n//Computes parity of word\nexports.parity = function(v) {\n  v ^= v >>> 16;\n  v ^= v >>> 8;\n  v ^= v >>> 4;\n  v &= 0xf;\n  return (0x6996 >>> v) & 1;\n}\n\nvar REVERSE_TABLE = new Array(256);\n\n(function(tab) {\n  for(var i=0; i<256; ++i) {\n    var v = i, r = i, s = 7;\n    for (v >>>= 1; v; v >>>= 1) {\n      r <<= 1;\n      r |= v & 1;\n      --s;\n    }\n    tab[i] = (r << s) & 0xff;\n  }\n})(REVERSE_TABLE);\n\n//Reverse bits in a 32 bit word\nexports.reverse = function(v) {\n  return  (REVERSE_TABLE[ v         & 0xff] << 24) |\n          (REVERSE_TABLE[(v >>> 8)  & 0xff] << 16) |\n          (REVERSE_TABLE[(v >>> 16) & 0xff] << 8)  |\n           REVERSE_TABLE[(v >>> 24) & 0xff];\n}\n\n//Interleave bits of 2 coordinates with 16 bits.  Useful for fast quadtree codes\nexports.interleave2 = function(x, y) {\n  x &= 0xFFFF;\n  x = (x | (x << 8)) & 0x00FF00FF;\n  x = (x | (x << 4)) & 0x0F0F0F0F;\n  x = (x | (x << 2)) & 0x33333333;\n  x = (x | (x << 1)) & 0x55555555;\n\n  y &= 0xFFFF;\n  y = (y | (y << 8)) & 0x00FF00FF;\n  y = (y | (y << 4)) & 0x0F0F0F0F;\n  y = (y | (y << 2)) & 0x33333333;\n  y = (y | (y << 1)) & 0x55555555;\n\n  return x | (y << 1);\n}\n\n//Extracts the nth interleaved component\nexports.deinterleave2 = function(v, n) {\n  v = (v >>> n) & 0x55555555;\n  v = (v | (v >>> 1))  & 0x33333333;\n  v = (v | (v >>> 2))  & 0x0F0F0F0F;\n  v = (v | (v >>> 4))  & 0x00FF00FF;\n  v = (v | (v >>> 16)) & 0x000FFFF;\n  return (v << 16) >> 16;\n}\n\n\n//Interleave bits of 3 coordinates, each with 10 bits.  Useful for fast octree codes\nexports.interleave3 = function(x, y, z) {\n  x &= 0x3FF;\n  x  = (x | (x<<16)) & 4278190335;\n  x  = (x | (x<<8))  & 251719695;\n  x  = (x | (x<<4))  & 3272356035;\n  x  = (x | (x<<2))  & 1227133513;\n\n  y &= 0x3FF;\n  y  = (y | (y<<16)) & 4278190335;\n  y  = (y | (y<<8))  & 251719695;\n  y  = (y | (y<<4))  & 3272356035;\n  y  = (y | (y<<2))  & 1227133513;\n  x |= (y << 1);\n  \n  z &= 0x3FF;\n  z  = (z | (z<<16)) & 4278190335;\n  z  = (z | (z<<8))  & 251719695;\n  z  = (z | (z<<4))  & 3272356035;\n  z  = (z | (z<<2))  & 1227133513;\n  \n  return x | (z << 2);\n}\n\n//Extracts nth interleaved component of a 3-tuple\nexports.deinterleave3 = function(v, n) {\n  v = (v >>> n)       & 1227133513;\n  v = (v | (v>>>2))   & 3272356035;\n  v = (v | (v>>>4))   & 251719695;\n  v = (v | (v>>>8))   & 4278190335;\n  v = (v | (v>>>16))  & 0x3FF;\n  return (v<<22)>>22;\n}\n\n//Computes next combination in colexicographic order (this is mistakenly called nextPermutation on the bit twiddling hacks page)\nexports.nextCombination = function(v) {\n  var t = v | (v - 1);\n  return (t + 1) | (((~t & -~t) - 1) >>> (countTrailingZeros(v) + 1));\n}\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/bit-twiddle/twiddle.js\n ** module id = 65\n ** module chunks = 0\n **/","\"use strict\"\n\nfunction dupe_array(count, value, i) {\n  var c = count[i]|0\n  if(c <= 0) {\n    return []\n  }\n  var result = new Array(c), j\n  if(i === count.length-1) {\n    for(j=0; j<c; ++j) {\n      result[j] = value\n    }\n  } else {\n    for(j=0; j<c; ++j) {\n      result[j] = dupe_array(count, value, i+1)\n    }\n  }\n  return result\n}\n\nfunction dupe_number(count, value) {\n  var result, i\n  result = new Array(count)\n  for(i=0; i<count; ++i) {\n    result[i] = value\n  }\n  return result\n}\n\nfunction dupe(count, value) {\n  if(typeof value === \"undefined\") {\n    value = 0\n  }\n  switch(typeof count) {\n    case \"number\":\n      if(count > 0) {\n        return dupe_number(count|0, value)\n      }\n    break\n    case \"object\":\n      if(typeof (count.length) === \"number\") {\n        return dupe_array(count, value, 0)\n      }\n    break\n  }\n  return []\n}\n\nmodule.exports = dupe\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/dup/dup.js\n ** module id = 66\n ** module chunks = 0\n **/","'use strict'\n\nmodule.exports = {\n  init:           sqInit,\n  sweepBipartite: sweepBipartite,\n  sweepComplete:  sweepComplete,\n  scanBipartite:  scanBipartite,\n  scanComplete:   scanComplete\n}\n\nvar pool  = require('typedarray-pool')\nvar bits  = require('bit-twiddle')\nvar isort = require('./sort')\n\n//Flag for blue\nvar BLUE_FLAG = (1<<28)\n\n//1D sweep event queue stuff (use pool to save space)\nvar INIT_CAPACITY      = 1024\nvar RED_SWEEP_QUEUE    = pool.mallocInt32(INIT_CAPACITY)\nvar RED_SWEEP_INDEX    = pool.mallocInt32(INIT_CAPACITY)\nvar BLUE_SWEEP_QUEUE   = pool.mallocInt32(INIT_CAPACITY)\nvar BLUE_SWEEP_INDEX   = pool.mallocInt32(INIT_CAPACITY)\nvar COMMON_SWEEP_QUEUE = pool.mallocInt32(INIT_CAPACITY)\nvar COMMON_SWEEP_INDEX = pool.mallocInt32(INIT_CAPACITY)\nvar SWEEP_EVENTS       = pool.mallocDouble(INIT_CAPACITY * 8)\n\n//Reserves memory for the 1D sweep data structures\nfunction sqInit(count) {\n  var rcount = bits.nextPow2(count)\n  if(RED_SWEEP_QUEUE.length < rcount) {\n    pool.free(RED_SWEEP_QUEUE)\n    RED_SWEEP_QUEUE = pool.mallocInt32(rcount)\n  }\n  if(RED_SWEEP_INDEX.length < rcount) {\n    pool.free(RED_SWEEP_INDEX)\n    RED_SWEEP_INDEX = pool.mallocInt32(rcount)\n  }\n  if(BLUE_SWEEP_QUEUE.length < rcount) {\n    pool.free(BLUE_SWEEP_QUEUE)\n    BLUE_SWEEP_QUEUE = pool.mallocInt32(rcount)\n  }\n  if(BLUE_SWEEP_INDEX.length < rcount) {\n    pool.free(BLUE_SWEEP_INDEX)\n    BLUE_SWEEP_INDEX = pool.mallocInt32(rcount)\n  }\n  if(COMMON_SWEEP_QUEUE.length < rcount) {\n    pool.free(COMMON_SWEEP_QUEUE)\n    COMMON_SWEEP_QUEUE = pool.mallocInt32(rcount)\n  }\n  if(COMMON_SWEEP_INDEX.length < rcount) {\n    pool.free(COMMON_SWEEP_INDEX)\n    COMMON_SWEEP_INDEX = pool.mallocInt32(rcount)\n  }\n  var eventLength = 8 * rcount\n  if(SWEEP_EVENTS.length < eventLength) {\n    pool.free(SWEEP_EVENTS)\n    SWEEP_EVENTS = pool.mallocDouble(eventLength)\n  }\n}\n\n//Remove an item from the active queue in O(1)\nfunction sqPop(queue, index, count, item) {\n  var idx = index[item]\n  var top = queue[count-1]\n  queue[idx] = top\n  index[top] = idx\n}\n\n//Insert an item into the active queue in O(1)\nfunction sqPush(queue, index, count, item) {\n  queue[count] = item\n  index[item]  = count\n}\n\n//Recursion base case: use 1D sweep algorithm\nfunction sweepBipartite(\n    d, visit,\n    redStart,  redEnd, red, redIndex,\n    blueStart, blueEnd, blue, blueIndex) {\n\n  //store events as pairs [coordinate, idx]\n  //\n  //  red create:  -(idx+1)\n  //  red destroy: idx\n  //  blue create: -(idx+BLUE_FLAG)\n  //  blue destroy: idx+BLUE_FLAG\n  //\n  var ptr      = 0\n  var elemSize = 2*d\n  var istart   = d-1\n  var iend     = elemSize-1\n\n  for(var i=redStart; i<redEnd; ++i) {\n    var idx = redIndex[i]\n    var redOffset = elemSize*i\n    SWEEP_EVENTS[ptr++] = red[redOffset+istart]\n    SWEEP_EVENTS[ptr++] = -(idx+1)\n    SWEEP_EVENTS[ptr++] = red[redOffset+iend]\n    SWEEP_EVENTS[ptr++] = idx\n  }\n\n  for(var i=blueStart; i<blueEnd; ++i) {\n    var idx = blueIndex[i]+BLUE_FLAG\n    var blueOffset = elemSize*i\n    SWEEP_EVENTS[ptr++] = blue[blueOffset+istart]\n    SWEEP_EVENTS[ptr++] = -idx\n    SWEEP_EVENTS[ptr++] = blue[blueOffset+iend]\n    SWEEP_EVENTS[ptr++] = idx\n  }\n\n  //process events from left->right\n  var n = ptr >>> 1\n  isort(SWEEP_EVENTS, n)\n  \n  var redActive  = 0\n  var blueActive = 0\n  for(var i=0; i<n; ++i) {\n    var e = SWEEP_EVENTS[2*i+1]|0\n    if(e >= BLUE_FLAG) {\n      //blue destroy event\n      e = (e-BLUE_FLAG)|0\n      sqPop(BLUE_SWEEP_QUEUE, BLUE_SWEEP_INDEX, blueActive--, e)\n    } else if(e >= 0) {\n      //red destroy event\n      sqPop(RED_SWEEP_QUEUE, RED_SWEEP_INDEX, redActive--, e)\n    } else if(e <= -BLUE_FLAG) {\n      //blue create event\n      e = (-e-BLUE_FLAG)|0\n      for(var j=0; j<redActive; ++j) {\n        var retval = visit(RED_SWEEP_QUEUE[j], e)\n        if(retval !== void 0) {\n          return retval\n        }\n      }\n      sqPush(BLUE_SWEEP_QUEUE, BLUE_SWEEP_INDEX, blueActive++, e)\n    } else {\n      //red create event\n      e = (-e-1)|0\n      for(var j=0; j<blueActive; ++j) {\n        var retval = visit(e, BLUE_SWEEP_QUEUE[j])\n        if(retval !== void 0) {\n          return retval\n        }\n      }\n      sqPush(RED_SWEEP_QUEUE, RED_SWEEP_INDEX, redActive++, e)\n    }\n  }\n}\n\n//Complete sweep\nfunction sweepComplete(d, visit, \n  redStart, redEnd, red, redIndex,\n  blueStart, blueEnd, blue, blueIndex) {\n\n  var ptr      = 0\n  var elemSize = 2*d\n  var istart   = d-1\n  var iend     = elemSize-1\n\n  for(var i=redStart; i<redEnd; ++i) {\n    var idx = (redIndex[i]+1)<<1\n    var redOffset = elemSize*i\n    SWEEP_EVENTS[ptr++] = red[redOffset+istart]\n    SWEEP_EVENTS[ptr++] = -idx\n    SWEEP_EVENTS[ptr++] = red[redOffset+iend]\n    SWEEP_EVENTS[ptr++] = idx\n  }\n\n  for(var i=blueStart; i<blueEnd; ++i) {\n    var idx = (blueIndex[i]+1)<<1\n    var blueOffset = elemSize*i\n    SWEEP_EVENTS[ptr++] = blue[blueOffset+istart]\n    SWEEP_EVENTS[ptr++] = (-idx)|1\n    SWEEP_EVENTS[ptr++] = blue[blueOffset+iend]\n    SWEEP_EVENTS[ptr++] = idx|1\n  }\n\n  //process events from left->right\n  var n = ptr >>> 1\n  isort(SWEEP_EVENTS, n)\n  \n  var redActive    = 0\n  var blueActive   = 0\n  var commonActive = 0\n  for(var i=0; i<n; ++i) {\n    var e     = SWEEP_EVENTS[2*i+1]|0\n    var color = e&1\n    if(i < n-1 && (e>>1) === (SWEEP_EVENTS[2*i+3]>>1)) {\n      color = 2\n      i += 1\n    }\n    \n    if(e < 0) {\n      //Create event\n      var id = -(e>>1) - 1\n\n      //Intersect with common\n      for(var j=0; j<commonActive; ++j) {\n        var retval = visit(COMMON_SWEEP_QUEUE[j], id)\n        if(retval !== void 0) {\n          return retval\n        }\n      }\n\n      if(color !== 0) {\n        //Intersect with red\n        for(var j=0; j<redActive; ++j) {\n          var retval = visit(RED_SWEEP_QUEUE[j], id)\n          if(retval !== void 0) {\n            return retval\n          }\n        }\n      }\n\n      if(color !== 1) {\n        //Intersect with blue\n        for(var j=0; j<blueActive; ++j) {\n          var retval = visit(BLUE_SWEEP_QUEUE[j], id)\n          if(retval !== void 0) {\n            return retval\n          }\n        }\n      }\n\n      if(color === 0) {\n        //Red\n        sqPush(RED_SWEEP_QUEUE, RED_SWEEP_INDEX, redActive++, id)\n      } else if(color === 1) {\n        //Blue\n        sqPush(BLUE_SWEEP_QUEUE, BLUE_SWEEP_INDEX, blueActive++, id)\n      } else if(color === 2) {\n        //Both\n        sqPush(COMMON_SWEEP_QUEUE, COMMON_SWEEP_INDEX, commonActive++, id)\n      }\n    } else {\n      //Destroy event\n      var id = (e>>1) - 1\n      if(color === 0) {\n        //Red\n        sqPop(RED_SWEEP_QUEUE, RED_SWEEP_INDEX, redActive--, id)\n      } else if(color === 1) {\n        //Blue\n        sqPop(BLUE_SWEEP_QUEUE, BLUE_SWEEP_INDEX, blueActive--, id)\n      } else if(color === 2) {\n        //Both\n        sqPop(COMMON_SWEEP_QUEUE, COMMON_SWEEP_INDEX, commonActive--, id)\n      }\n    }\n  }\n}\n\n//Sweep and prune/scanline algorithm:\n//  Scan along axis, detect intersections\n//  Brute force all boxes along axis\nfunction scanBipartite(\n  d, axis, visit, flip,\n  redStart,  redEnd, red, redIndex,\n  blueStart, blueEnd, blue, blueIndex) {\n  \n  var ptr      = 0\n  var elemSize = 2*d\n  var istart   = axis\n  var iend     = axis+d\n\n  var redShift  = 1\n  var blueShift = 1\n  if(flip) {\n    blueShift = BLUE_FLAG\n  } else {\n    redShift  = BLUE_FLAG\n  }\n\n  for(var i=redStart; i<redEnd; ++i) {\n    var idx = i + redShift\n    var redOffset = elemSize*i\n    SWEEP_EVENTS[ptr++] = red[redOffset+istart]\n    SWEEP_EVENTS[ptr++] = -idx\n    SWEEP_EVENTS[ptr++] = red[redOffset+iend]\n    SWEEP_EVENTS[ptr++] = idx\n  }\n  for(var i=blueStart; i<blueEnd; ++i) {\n    var idx = i + blueShift\n    var blueOffset = elemSize*i\n    SWEEP_EVENTS[ptr++] = blue[blueOffset+istart]\n    SWEEP_EVENTS[ptr++] = -idx\n  }\n\n  //process events from left->right\n  var n = ptr >>> 1\n  isort(SWEEP_EVENTS, n)\n  \n  var redActive    = 0\n  for(var i=0; i<n; ++i) {\n    var e = SWEEP_EVENTS[2*i+1]|0\n    if(e < 0) {\n      var idx   = -e\n      var isRed = false\n      if(idx >= BLUE_FLAG) {\n        isRed = !flip\n        idx -= BLUE_FLAG \n      } else {\n        isRed = !!flip\n        idx -= 1\n      }\n      if(isRed) {\n        sqPush(RED_SWEEP_QUEUE, RED_SWEEP_INDEX, redActive++, idx)\n      } else {\n        var blueId  = blueIndex[idx]\n        var bluePtr = elemSize * idx\n        \n        var b0 = blue[bluePtr+axis+1]\n        var b1 = blue[bluePtr+axis+1+d]\n\nred_loop:\n        for(var j=0; j<redActive; ++j) {\n          var oidx   = RED_SWEEP_QUEUE[j]\n          var redPtr = elemSize * oidx\n\n          if(b1 < red[redPtr+axis+1] || \n             red[redPtr+axis+1+d] < b0) {\n            continue\n          }\n\n          for(var k=axis+2; k<d; ++k) {\n            if(blue[bluePtr + k + d] < red[redPtr + k] || \n               red[redPtr + k + d] < blue[bluePtr + k]) {\n              continue red_loop\n            }\n          }\n\n          var redId  = redIndex[oidx]\n          var retval\n          if(flip) {\n            retval = visit(blueId, redId)\n          } else {\n            retval = visit(redId, blueId)\n          }\n          if(retval !== void 0) {\n            return retval \n          }\n        }\n      }\n    } else {\n      sqPop(RED_SWEEP_QUEUE, RED_SWEEP_INDEX, redActive--, e - redShift)\n    }\n  }\n}\n\nfunction scanComplete(\n  d, axis, visit,\n  redStart,  redEnd, red, redIndex,\n  blueStart, blueEnd, blue, blueIndex) {\n\n  var ptr      = 0\n  var elemSize = 2*d\n  var istart   = axis\n  var iend     = axis+d\n\n  for(var i=redStart; i<redEnd; ++i) {\n    var idx = i + BLUE_FLAG\n    var redOffset = elemSize*i\n    SWEEP_EVENTS[ptr++] = red[redOffset+istart]\n    SWEEP_EVENTS[ptr++] = -idx\n    SWEEP_EVENTS[ptr++] = red[redOffset+iend]\n    SWEEP_EVENTS[ptr++] = idx\n  }\n  for(var i=blueStart; i<blueEnd; ++i) {\n    var idx = i + 1\n    var blueOffset = elemSize*i\n    SWEEP_EVENTS[ptr++] = blue[blueOffset+istart]\n    SWEEP_EVENTS[ptr++] = -idx\n  }\n\n  //process events from left->right\n  var n = ptr >>> 1\n  isort(SWEEP_EVENTS, n)\n  \n  var redActive    = 0\n  for(var i=0; i<n; ++i) {\n    var e = SWEEP_EVENTS[2*i+1]|0\n    if(e < 0) {\n      var idx   = -e\n      if(idx >= BLUE_FLAG) {\n        RED_SWEEP_QUEUE[redActive++] = idx - BLUE_FLAG\n      } else {\n        idx -= 1\n        var blueId  = blueIndex[idx]\n        var bluePtr = elemSize * idx\n\n        var b0 = blue[bluePtr+axis+1]\n        var b1 = blue[bluePtr+axis+1+d]\n\nred_loop:\n        for(var j=0; j<redActive; ++j) {\n          var oidx   = RED_SWEEP_QUEUE[j]\n          var redId  = redIndex[oidx]\n\n          if(redId === blueId) {\n            break\n          }\n\n          var redPtr = elemSize * oidx\n          if(b1 < red[redPtr+axis+1] || \n            red[redPtr+axis+1+d] < b0) {\n            continue\n          }\n          for(var k=axis+2; k<d; ++k) {\n            if(blue[bluePtr + k + d] < red[redPtr + k] || \n               red[redPtr + k + d]   < blue[bluePtr + k]) {\n              continue red_loop\n            }\n          }\n\n          var retval = visit(redId, blueId)\n          if(retval !== void 0) {\n            return retval \n          }\n        }\n      }\n    } else {\n      var idx = e - BLUE_FLAG\n      for(var j=redActive-1; j>=0; --j) {\n        if(RED_SWEEP_QUEUE[j] === idx) {\n          for(var k=j+1; k<redActive; ++k) {\n            RED_SWEEP_QUEUE[k-1] = RED_SWEEP_QUEUE[k]\n          }\n          break\n        }\n      }\n      --redActive\n    }\n  }\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/box-intersect/lib/sweep.js\n ** module id = 67\n ** module chunks = 0\n **/","'use strict';\n\n//This code is extracted from ndarray-sort\n//It is inlined here as a temporary workaround\n\nmodule.exports = wrapper;\n\nvar INSERT_SORT_CUTOFF = 32\n\nfunction wrapper(data, n0) {\n  if (n0 <= 4*INSERT_SORT_CUTOFF) {\n    insertionSort(0, n0 - 1, data);\n  } else {\n    quickSort(0, n0 - 1, data);\n  }\n}\n\nfunction insertionSort(left, right, data) {\n  var ptr = 2*(left+1)\n  for(var i=left+1; i<=right; ++i) {\n    var a = data[ptr++]\n    var b = data[ptr++]\n    var j = i\n    var jptr = ptr-2\n    while(j-- > left) {\n      var x = data[jptr-2]\n      var y = data[jptr-1]\n      if(x < a) {\n        break\n      } else if(x === a && y < b) {\n        break\n      }\n      data[jptr]   = x\n      data[jptr+1] = y\n      jptr -= 2\n    }\n    data[jptr]   = a\n    data[jptr+1] = b\n  }\n}\n\nfunction swap(i, j, data) {\n  i *= 2\n  j *= 2\n  var x = data[i]\n  var y = data[i+1]\n  data[i] = data[j]\n  data[i+1] = data[j+1]\n  data[j] = x\n  data[j+1] = y\n}\n\nfunction move(i, j, data) {\n  i *= 2\n  j *= 2\n  data[i] = data[j]\n  data[i+1] = data[j+1]\n}\n\nfunction rotate(i, j, k, data) {\n  i *= 2\n  j *= 2\n  k *= 2\n  var x = data[i]\n  var y = data[i+1]\n  data[i] = data[j]\n  data[i+1] = data[j+1]\n  data[j] = data[k]\n  data[j+1] = data[k+1]\n  data[k] = x\n  data[k+1] = y\n}\n\nfunction shufflePivot(i, j, px, py, data) {\n  i *= 2\n  j *= 2\n  data[i] = data[j]\n  data[j] = px\n  data[i+1] = data[j+1]\n  data[j+1] = py\n}\n\nfunction compare(i, j, data) {\n  i *= 2\n  j *= 2\n  var x = data[i],\n      y = data[j]\n  if(x < y) {\n    return false\n  } else if(x === y) {\n    return data[i+1] > data[j+1]\n  }\n  return true\n}\n\nfunction comparePivot(i, y, b, data) {\n  i *= 2\n  var x = data[i]\n  if(x < y) {\n    return true\n  } else if(x === y) {\n    return data[i+1] < b\n  }\n  return false\n}\n\nfunction quickSort(left, right, data) {\n  var sixth = (right - left + 1) / 6 | 0, \n      index1 = left + sixth, \n      index5 = right - sixth, \n      index3 = left + right >> 1, \n      index2 = index3 - sixth, \n      index4 = index3 + sixth, \n      el1 = index1, \n      el2 = index2, \n      el3 = index3, \n      el4 = index4, \n      el5 = index5, \n      less = left + 1, \n      great = right - 1, \n      tmp = 0\n  if(compare(el1, el2, data)) {\n    tmp = el1\n    el1 = el2\n    el2 = tmp\n  }\n  if(compare(el4, el5, data)) {\n    tmp = el4\n    el4 = el5\n    el5 = tmp\n  }\n  if(compare(el1, el3, data)) {\n    tmp = el1\n    el1 = el3\n    el3 = tmp\n  }\n  if(compare(el2, el3, data)) {\n    tmp = el2\n    el2 = el3\n    el3 = tmp\n  }\n  if(compare(el1, el4, data)) {\n    tmp = el1\n    el1 = el4\n    el4 = tmp\n  }\n  if(compare(el3, el4, data)) {\n    tmp = el3\n    el3 = el4\n    el4 = tmp\n  }\n  if(compare(el2, el5, data)) {\n    tmp = el2\n    el2 = el5\n    el5 = tmp\n  }\n  if(compare(el2, el3, data)) {\n    tmp = el2\n    el2 = el3\n    el3 = tmp\n  }\n  if(compare(el4, el5, data)) {\n    tmp = el4\n    el4 = el5\n    el5 = tmp\n  }\n\n  var pivot1X = data[2*el2]\n  var pivot1Y = data[2*el2+1]\n  var pivot2X = data[2*el4]\n  var pivot2Y = data[2*el4+1]\n\n  var ptr0 = 2 * el1;\n  var ptr2 = 2 * el3;\n  var ptr4 = 2 * el5;\n  var ptr5 = 2 * index1;\n  var ptr6 = 2 * index3;\n  var ptr7 = 2 * index5;\n  for (var i1 = 0; i1 < 2; ++i1) {\n    var x = data[ptr0+i1];\n    var y = data[ptr2+i1];\n    var z = data[ptr4+i1];\n    data[ptr5+i1] = x;\n    data[ptr6+i1] = y;\n    data[ptr7+i1] = z;\n  }\n\n  move(index2, left, data)\n  move(index4, right, data)\n  for (var k = less; k <= great; ++k) {\n    if (comparePivot(k, pivot1X, pivot1Y, data)) {\n      if (k !== less) {\n        swap(k, less, data)\n      }\n      ++less;\n    } else {\n      if (!comparePivot(k, pivot2X, pivot2Y, data)) {\n        while (true) {\n          if (!comparePivot(great, pivot2X, pivot2Y, data)) {\n            if (--great < k) {\n              break;\n            }\n            continue;\n          } else {\n            if (comparePivot(great, pivot1X, pivot1Y, data)) {\n              rotate(k, less, great, data)\n              ++less;\n              --great;\n            } else {\n              swap(k, great, data)\n              --great;\n            }\n            break;\n          }\n        }\n      }\n    }\n  }\n  shufflePivot(left, less-1, pivot1X, pivot1Y, data)\n  shufflePivot(right, great+1, pivot2X, pivot2Y, data)\n  if (less - 2 - left <= INSERT_SORT_CUTOFF) {\n    insertionSort(left, less - 2, data);\n  } else {\n    quickSort(left, less - 2, data);\n  }\n  if (right - (great + 2) <= INSERT_SORT_CUTOFF) {\n    insertionSort(great + 2, right, data);\n  } else {\n    quickSort(great + 2, right, data);\n  }\n  if (great - less <= INSERT_SORT_CUTOFF) {\n    insertionSort(less, great, data);\n  } else {\n    quickSort(less, great, data);\n  }\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/box-intersect/lib/sort.js\n ** module id = 68\n ** module chunks = 0\n **/","'use strict'\n\nmodule.exports = boxIntersectIter\n\nvar pool = require('typedarray-pool')\nvar bits = require('bit-twiddle')\nvar bruteForce = require('./brute')\nvar bruteForcePartial = bruteForce.partial\nvar bruteForceFull = bruteForce.full\nvar sweep = require('./sweep')\nvar findMedian = require('./median')\nvar genPartition = require('./partition')\n\n//Twiddle parameters\nvar BRUTE_FORCE_CUTOFF    = 128       //Cut off for brute force search\nvar SCAN_CUTOFF           = (1<<22)   //Cut off for two way scan\nvar SCAN_COMPLETE_CUTOFF  = (1<<22)  \n\n//Partition functions\nvar partitionInteriorContainsInterval = genPartition(\n  '!(lo>=p0)&&!(p1>=hi)', \n  ['p0', 'p1'])\n\nvar partitionStartEqual = genPartition(\n  'lo===p0',\n  ['p0'])\n\nvar partitionStartLessThan = genPartition(\n  'lo<p0',\n  ['p0'])\n\nvar partitionEndLessThanEqual = genPartition(\n  'hi<=p0',\n  ['p0'])\n\nvar partitionContainsPoint = genPartition(\n  'lo<=p0&&p0<=hi',\n  ['p0'])\n\nvar partitionContainsPointProper = genPartition(\n  'lo<p0&&p0<=hi',\n  ['p0'])\n\n//Frame size for iterative loop\nvar IFRAME_SIZE = 6\nvar DFRAME_SIZE = 2\n\n//Data for box statck\nvar INIT_CAPACITY = 1024\nvar BOX_ISTACK  = pool.mallocInt32(INIT_CAPACITY)\nvar BOX_DSTACK  = pool.mallocDouble(INIT_CAPACITY)\n\n//Initialize iterative loop queue\nfunction iterInit(d, count) {\n  var levels = (8 * bits.log2(count+1) * (d+1))|0\n  var maxInts = bits.nextPow2(IFRAME_SIZE*levels)\n  if(BOX_ISTACK.length < maxInts) {\n    pool.free(BOX_ISTACK)\n    BOX_ISTACK = pool.mallocInt32(maxInts)\n  }\n  var maxDoubles = bits.nextPow2(DFRAME_SIZE*levels)\n  if(BOX_DSTACK < maxDoubles) {\n    pool.free(BOX_DSTACK)\n    BOX_DSTACK = pool.mallocDouble(maxDoubles)\n  }\n}\n\n//Append item to queue\nfunction iterPush(ptr,\n  axis, \n  redStart, redEnd, \n  blueStart, blueEnd, \n  state, \n  lo, hi) {\n\n  var iptr = IFRAME_SIZE * ptr\n  BOX_ISTACK[iptr]   = axis\n  BOX_ISTACK[iptr+1] = redStart\n  BOX_ISTACK[iptr+2] = redEnd\n  BOX_ISTACK[iptr+3] = blueStart\n  BOX_ISTACK[iptr+4] = blueEnd\n  BOX_ISTACK[iptr+5] = state\n\n  var dptr = DFRAME_SIZE * ptr\n  BOX_DSTACK[dptr]   = lo\n  BOX_DSTACK[dptr+1] = hi\n}\n\n//Special case:  Intersect single point with list of intervals\nfunction onePointPartial(\n  d, axis, visit, flip,\n  redStart, redEnd, red, redIndex,\n  blueOffset, blue, blueId) {\n\n  var elemSize = 2 * d\n  var bluePtr  = blueOffset * elemSize\n  var blueX    = blue[bluePtr + axis]\n\nred_loop:\n  for(var i=redStart, redPtr=redStart*elemSize; i<redEnd; ++i, redPtr+=elemSize) {\n    var r0 = red[redPtr+axis]\n    var r1 = red[redPtr+axis+d]\n    if(blueX < r0 || r1 < blueX) {\n      continue\n    }\n    if(flip && blueX === r0) {\n      continue\n    }\n    var redId = redIndex[i]\n    for(var j=axis+1; j<d; ++j) {\n      var r0 = red[redPtr+j]\n      var r1 = red[redPtr+j+d]\n      var b0 = blue[bluePtr+j]\n      var b1 = blue[bluePtr+j+d]\n      if(r1 < b0 || b1 < r0) {\n        continue red_loop\n      }\n    }\n    var retval\n    if(flip) {\n      retval = visit(blueId, redId)\n    } else {\n      retval = visit(redId, blueId)\n    }\n    if(retval !== void 0) {\n      return retval\n    }\n  }\n}\n\n//Special case:  Intersect one point with list of intervals\nfunction onePointFull(\n  d, axis, visit,\n  redStart, redEnd, red, redIndex,\n  blueOffset, blue, blueId) {\n\n  var elemSize = 2 * d\n  var bluePtr  = blueOffset * elemSize\n  var blueX    = blue[bluePtr + axis]\n\nred_loop:\n  for(var i=redStart, redPtr=redStart*elemSize; i<redEnd; ++i, redPtr+=elemSize) {\n    var redId = redIndex[i]\n    if(redId === blueId) {\n      continue\n    }\n    var r0 = red[redPtr+axis]\n    var r1 = red[redPtr+axis+d]\n    if(blueX < r0 || r1 < blueX) {\n      continue\n    }\n    for(var j=axis+1; j<d; ++j) {\n      var r0 = red[redPtr+j]\n      var r1 = red[redPtr+j+d]\n      var b0 = blue[bluePtr+j]\n      var b1 = blue[bluePtr+j+d]\n      if(r1 < b0 || b1 < r0) {\n        continue red_loop\n      }\n    }\n    var retval = visit(redId, blueId)\n    if(retval !== void 0) {\n      return retval\n    }\n  }\n}\n\n//The main box intersection routine\nfunction boxIntersectIter(\n  d, visit, initFull,\n  xSize, xBoxes, xIndex,\n  ySize, yBoxes, yIndex) {\n\n  //Reserve memory for stack\n  iterInit(d, xSize + ySize)\n\n  var top  = 0\n  var elemSize = 2 * d\n  var retval\n\n  iterPush(top++,\n      0,\n      0, xSize,\n      0, ySize,\n      initFull ? 16 : 0, \n      -Infinity, Infinity)\n  if(!initFull) {\n    iterPush(top++,\n      0,\n      0, ySize,\n      0, xSize,\n      1, \n      -Infinity, Infinity)\n  }\n\n  while(top > 0) {\n    top  -= 1\n\n    var iptr = top * IFRAME_SIZE\n    var axis      = BOX_ISTACK[iptr]\n    var redStart  = BOX_ISTACK[iptr+1]\n    var redEnd    = BOX_ISTACK[iptr+2]\n    var blueStart = BOX_ISTACK[iptr+3]\n    var blueEnd   = BOX_ISTACK[iptr+4]\n    var state     = BOX_ISTACK[iptr+5]\n\n    var dptr = top * DFRAME_SIZE\n    var lo        = BOX_DSTACK[dptr]\n    var hi        = BOX_DSTACK[dptr+1]\n\n    //Unpack state info\n    var flip      = (state & 1)\n    var full      = !!(state & 16)\n\n    //Unpack indices\n    var red       = xBoxes\n    var redIndex  = xIndex\n    var blue      = yBoxes\n    var blueIndex = yIndex\n    if(flip) {\n      red         = yBoxes\n      redIndex    = yIndex\n      blue        = xBoxes\n      blueIndex   = xIndex\n    }\n\n    if(state & 2) {\n      redEnd = partitionStartLessThan(\n        d, axis,\n        redStart, redEnd, red, redIndex,\n        hi)\n      if(redStart >= redEnd) {\n        continue\n      }\n    }\n    if(state & 4) {\n      redStart = partitionEndLessThanEqual(\n        d, axis,\n        redStart, redEnd, red, redIndex,\n        lo)\n      if(redStart >= redEnd) {\n        continue\n      }\n    }\n    \n    var redCount  = redEnd  - redStart\n    var blueCount = blueEnd - blueStart\n\n    if(full) {\n      if(d * redCount * (redCount + blueCount) < SCAN_COMPLETE_CUTOFF) {\n        retval = sweep.scanComplete(\n          d, axis, visit, \n          redStart, redEnd, red, redIndex,\n          blueStart, blueEnd, blue, blueIndex)\n        if(retval !== void 0) {\n          return retval\n        }\n        continue\n      }\n    } else {\n      if(d * Math.min(redCount, blueCount) < BRUTE_FORCE_CUTOFF) {\n        //If input small, then use brute force\n        retval = bruteForcePartial(\n            d, axis, visit, flip,\n            redStart,  redEnd,  red,  redIndex,\n            blueStart, blueEnd, blue, blueIndex)\n        if(retval !== void 0) {\n          return retval\n        }\n        continue\n      } else if(d * redCount * blueCount < SCAN_CUTOFF) {\n        //If input medium sized, then use sweep and prune\n        retval = sweep.scanBipartite(\n          d, axis, visit, flip, \n          redStart, redEnd, red, redIndex,\n          blueStart, blueEnd, blue, blueIndex)\n        if(retval !== void 0) {\n          return retval\n        }\n        continue\n      }\n    }\n    \n    //First, find all red intervals whose interior contains (lo,hi)\n    var red0 = partitionInteriorContainsInterval(\n      d, axis, \n      redStart, redEnd, red, redIndex,\n      lo, hi)\n\n    //Lower dimensional case\n    if(redStart < red0) {\n\n      if(d * (red0 - redStart) < BRUTE_FORCE_CUTOFF) {\n        //Special case for small inputs: use brute force\n        retval = bruteForceFull(\n          d, axis+1, visit,\n          redStart, red0, red, redIndex,\n          blueStart, blueEnd, blue, blueIndex)\n        if(retval !== void 0) {\n          return retval\n        }\n      } else if(axis === d-2) {\n        if(flip) {\n          retval = sweep.sweepBipartite(\n            d, visit,\n            blueStart, blueEnd, blue, blueIndex,\n            redStart, red0, red, redIndex)\n        } else {\n          retval = sweep.sweepBipartite(\n            d, visit,\n            redStart, red0, red, redIndex,\n            blueStart, blueEnd, blue, blueIndex)\n        }\n        if(retval !== void 0) {\n          return retval\n        }\n      } else {\n        iterPush(top++,\n          axis+1,\n          redStart, red0,\n          blueStart, blueEnd,\n          flip,\n          -Infinity, Infinity)\n        iterPush(top++,\n          axis+1,\n          blueStart, blueEnd,\n          redStart, red0,\n          flip^1,\n          -Infinity, Infinity)\n      }\n    }\n\n    //Divide and conquer phase\n    if(red0 < redEnd) {\n\n      //Cut blue into 3 parts:\n      //\n      //  Points < mid point\n      //  Points = mid point\n      //  Points > mid point\n      //\n      var blue0 = findMedian(\n        d, axis, \n        blueStart, blueEnd, blue, blueIndex)\n      var mid = blue[elemSize * blue0 + axis]\n      var blue1 = partitionStartEqual(\n        d, axis,\n        blue0, blueEnd, blue, blueIndex,\n        mid)\n\n      //Right case\n      if(blue1 < blueEnd) {\n        iterPush(top++,\n          axis,\n          red0, redEnd,\n          blue1, blueEnd,\n          (flip|4) + (full ? 16 : 0),\n          mid, hi)\n      }\n\n      //Left case\n      if(blueStart < blue0) {\n        iterPush(top++,\n          axis,\n          red0, redEnd,\n          blueStart, blue0,\n          (flip|2) + (full ? 16 : 0),\n          lo, mid)\n      }\n\n      //Center case (the hard part)\n      if(blue0 + 1 === blue1) {\n        //Optimization: Range with exactly 1 point, use a brute force scan\n        if(full) {\n          retval = onePointFull(\n            d, axis, visit,\n            red0, redEnd, red, redIndex,\n            blue0, blue, blueIndex[blue0])\n        } else {\n          retval = onePointPartial(\n            d, axis, visit, flip,\n            red0, redEnd, red, redIndex,\n            blue0, blue, blueIndex[blue0])\n        }\n        if(retval !== void 0) {\n          return retval\n        }\n      } else if(blue0 < blue1) {\n        var red1\n        if(full) {\n          //If full intersection, need to handle special case\n          red1 = partitionContainsPoint(\n            d, axis,\n            red0, redEnd, red, redIndex,\n            mid)\n          if(red0 < red1) {\n            var redX = partitionStartEqual(\n              d, axis,\n              red0, red1, red, redIndex,\n              mid)\n            if(axis === d-2) {\n              //Degenerate sweep intersection:\n              //  [red0, redX] with [blue0, blue1]\n              if(red0 < redX) {\n                retval = sweep.sweepComplete(\n                  d, visit,\n                  red0, redX, red, redIndex,\n                  blue0, blue1, blue, blueIndex)\n                if(retval !== void 0) {\n                  return retval\n                }\n              }\n\n              //Normal sweep intersection:\n              //  [redX, red1] with [blue0, blue1]\n              if(redX < red1) {\n                retval = sweep.sweepBipartite(\n                  d, visit,\n                  redX, red1, red, redIndex,\n                  blue0, blue1, blue, blueIndex)\n                if(retval !== void 0) {\n                  return retval\n                }\n              }\n            } else {\n              if(red0 < redX) {\n                iterPush(top++,\n                  axis+1,\n                  red0, redX,\n                  blue0, blue1,\n                  16,\n                  -Infinity, Infinity)\n              }\n              if(redX < red1) {\n                iterPush(top++,\n                  axis+1,\n                  redX, red1,\n                  blue0, blue1,\n                  0,\n                  -Infinity, Infinity)\n                iterPush(top++,\n                  axis+1,\n                  blue0, blue1,\n                  redX, red1,\n                  1,\n                  -Infinity, Infinity)\n              }\n            }\n          }\n        } else {\n          if(flip) {\n            red1 = partitionContainsPointProper(\n              d, axis,\n              red0, redEnd, red, redIndex,\n              mid)\n          } else {\n            red1 = partitionContainsPoint(\n              d, axis,\n              red0, redEnd, red, redIndex,\n              mid)\n          }\n          if(red0 < red1) {\n            if(axis === d-2) {\n              if(flip) {\n                retval = sweep.sweepBipartite(\n                  d, visit,\n                  blue0, blue1, blue, blueIndex,\n                  red0, red1, red, redIndex)\n              } else {\n                retval = sweep.sweepBipartite(\n                  d, visit,\n                  red0, red1, red, redIndex,\n                  blue0, blue1, blue, blueIndex)\n              }\n            } else {\n              iterPush(top++,\n                axis+1,\n                red0, red1,\n                blue0, blue1,\n                flip,\n                -Infinity, Infinity)\n              iterPush(top++,\n                axis+1,\n                blue0, blue1,\n                red0, red1,\n                flip^1,\n                -Infinity, Infinity)\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/box-intersect/lib/intersect.js\n ** module id = 69\n ** module chunks = 0\n **/","'use strict'\n\nvar DIMENSION   = 'd'\nvar AXIS        = 'ax'\nvar VISIT       = 'vv'\nvar FLIP        = 'fp'\n\nvar ELEM_SIZE   = 'es'\n\nvar RED_START   = 'rs'\nvar RED_END     = 're'\nvar RED_BOXES   = 'rb'\nvar RED_INDEX   = 'ri'\nvar RED_PTR     = 'rp'\n\nvar BLUE_START  = 'bs'\nvar BLUE_END    = 'be'\nvar BLUE_BOXES  = 'bb'\nvar BLUE_INDEX  = 'bi'\nvar BLUE_PTR    = 'bp'\n\nvar RETVAL      = 'rv'\n\nvar INNER_LABEL = 'Q'\n\nvar ARGS = [\n  DIMENSION,\n  AXIS,\n  VISIT,\n  RED_START,\n  RED_END,\n  RED_BOXES,\n  RED_INDEX,\n  BLUE_START,\n  BLUE_END,\n  BLUE_BOXES,\n  BLUE_INDEX\n]\n\nfunction generateBruteForce(redMajor, flip, full) {\n  var funcName = 'bruteForce' + \n    (redMajor ? 'Red' : 'Blue') + \n    (flip ? 'Flip' : '') +\n    (full ? 'Full' : '')\n\n  var code = ['function ', funcName, '(', ARGS.join(), '){',\n    'var ', ELEM_SIZE, '=2*', DIMENSION, ';']\n\n  var redLoop = \n    'for(var i=' + RED_START + ',' + RED_PTR + '=' + ELEM_SIZE + '*' + RED_START + ';' +\n        'i<' + RED_END +';' +\n        '++i,' + RED_PTR + '+=' + ELEM_SIZE + '){' +\n        'var x0=' + RED_BOXES + '[' + AXIS + '+' + RED_PTR + '],' +\n            'x1=' + RED_BOXES + '[' + AXIS + '+' + RED_PTR + '+' + DIMENSION + '],' +\n            'xi=' + RED_INDEX + '[i];'\n\n  var blueLoop = \n    'for(var j=' + BLUE_START + ',' + BLUE_PTR + '=' + ELEM_SIZE + '*' + BLUE_START + ';' +\n        'j<' + BLUE_END + ';' +\n        '++j,' + BLUE_PTR + '+=' + ELEM_SIZE + '){' +\n        'var y0=' + BLUE_BOXES + '[' + AXIS + '+' + BLUE_PTR + '],' +\n            (full ? 'y1=' + BLUE_BOXES + '[' + AXIS + '+' + BLUE_PTR + '+' + DIMENSION + '],' : '') +\n            'yi=' + BLUE_INDEX + '[j];'\n\n  if(redMajor) {\n    code.push(redLoop, INNER_LABEL, ':', blueLoop)\n  } else {\n    code.push(blueLoop, INNER_LABEL, ':', redLoop)\n  }\n\n  if(full) {\n    code.push('if(y1<x0||x1<y0)continue;')\n  } else if(flip) {\n    code.push('if(y0<=x0||x1<y0)continue;')\n  } else {\n    code.push('if(y0<x0||x1<y0)continue;')\n  }\n\n  code.push('for(var k='+AXIS+'+1;k<'+DIMENSION+';++k){'+\n    'var r0='+RED_BOXES+'[k+'+RED_PTR+'],'+\n        'r1='+RED_BOXES+'[k+'+DIMENSION+'+'+RED_PTR+'],'+\n        'b0='+BLUE_BOXES+'[k+'+BLUE_PTR+'],'+\n        'b1='+BLUE_BOXES+'[k+'+DIMENSION+'+'+BLUE_PTR+'];'+\n      'if(r1<b0||b1<r0)continue ' + INNER_LABEL + ';}' +\n      'var ' + RETVAL + '=' + VISIT + '(')\n\n  if(flip) {\n    code.push('yi,xi')\n  } else {\n    code.push('xi,yi')\n  }\n\n  code.push(');if(' + RETVAL + '!==void 0)return ' + RETVAL + ';}}}')\n\n  return {\n    name: funcName, \n    code: code.join('')\n  }\n}\n\nfunction bruteForcePlanner(full) {\n  var funcName = 'bruteForce' + (full ? 'Full' : 'Partial')\n  var prefix = []\n  var fargs = ARGS.slice()\n  if(!full) {\n    fargs.splice(3, 0, FLIP)\n  }\n\n  var code = ['function ' + funcName + '(' + fargs.join() + '){']\n\n  function invoke(redMajor, flip) {\n    var res = generateBruteForce(redMajor, flip, full)\n    prefix.push(res.code)\n    code.push('return ' + res.name + '(' + ARGS.join() + ');')\n  }\n\n  code.push('if(' + RED_END + '-' + RED_START + '>' +\n                    BLUE_END + '-' + BLUE_START + '){')\n\n  if(full) {\n    invoke(true, false)\n    code.push('}else{')\n    invoke(false, false)\n  } else {\n    code.push('if(' + FLIP + '){')\n    invoke(true, true)\n    code.push('}else{')\n    invoke(true, false)\n    code.push('}}else{if(' + FLIP + '){')\n    invoke(false, true)\n    code.push('}else{')\n    invoke(false, false)\n    code.push('}')\n  }\n  code.push('}}return ' + funcName)\n\n  var codeStr = prefix.join('') + code.join('')\n  var proc = new Function(codeStr)\n  return proc()\n}\n\n\nexports.partial = bruteForcePlanner(false)\nexports.full    = bruteForcePlanner(true)\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/box-intersect/lib/brute.js\n ** module id = 70\n ** module chunks = 0\n **/","'use strict'\n\nmodule.exports = findMedian\n\nvar genPartition = require('./partition')\n\nvar partitionStartLessThan = genPartition('lo<p0', ['p0'])\n\nvar PARTITION_THRESHOLD = 8   //Cut off for using insertion sort in findMedian\n\n//Base case for median finding:  Use insertion sort\nfunction insertionSort(d, axis, start, end, boxes, ids) {\n  var elemSize = 2 * d\n  var boxPtr = elemSize * (start+1) + axis\n  for(var i=start+1; i<end; ++i, boxPtr+=elemSize) {\n    var x = boxes[boxPtr]\n    for(var j=i, ptr=elemSize*(i-1); \n        j>start && boxes[ptr+axis] > x; \n        --j, ptr-=elemSize) {\n      //Swap\n      var aPtr = ptr\n      var bPtr = ptr+elemSize\n      for(var k=0; k<elemSize; ++k, ++aPtr, ++bPtr) {\n        var y = boxes[aPtr]\n        boxes[aPtr] = boxes[bPtr]\n        boxes[bPtr] = y\n      }\n      var tmp = ids[j]\n      ids[j] = ids[j-1]\n      ids[j-1] = tmp\n    }\n  }\n}\n\n//Find median using quick select algorithm\n//  takes O(n) time with high probability\nfunction findMedian(d, axis, start, end, boxes, ids) {\n  if(end <= start+1) {\n    return start\n  }\n\n  var lo       = start\n  var hi       = end\n  var mid      = ((end + start) >>> 1)\n  var elemSize = 2*d\n  var pivot    = mid\n  var value    = boxes[elemSize*mid+axis]\n  \n  while(lo < hi) {\n    if(hi - lo < PARTITION_THRESHOLD) {\n      insertionSort(d, axis, lo, hi, boxes, ids)\n      value = boxes[elemSize*mid+axis]\n      break\n    }\n    \n    //Select pivot using median-of-3\n    var count  = hi - lo\n    var pivot0 = (Math.random()*count+lo)|0\n    var value0 = boxes[elemSize*pivot0 + axis]\n    var pivot1 = (Math.random()*count+lo)|0\n    var value1 = boxes[elemSize*pivot1 + axis]\n    var pivot2 = (Math.random()*count+lo)|0\n    var value2 = boxes[elemSize*pivot2 + axis]\n    if(value0 <= value1) {\n      if(value2 >= value1) {\n        pivot = pivot1\n        value = value1\n      } else if(value0 >= value2) {\n        pivot = pivot0\n        value = value0\n      } else {\n        pivot = pivot2\n        value = value2\n      }\n    } else {\n      if(value1 >= value2) {\n        pivot = pivot1\n        value = value1\n      } else if(value2 >= value0) {\n        pivot = pivot0\n        value = value0\n      } else {\n        pivot = pivot2\n        value = value2\n      }\n    }\n\n    //Swap pivot to end of array\n    var aPtr = elemSize * (hi-1)\n    var bPtr = elemSize * pivot\n    for(var i=0; i<elemSize; ++i, ++aPtr, ++bPtr) {\n      var x = boxes[aPtr]\n      boxes[aPtr] = boxes[bPtr]\n      boxes[bPtr] = x\n    }\n    var y = ids[hi-1]\n    ids[hi-1] = ids[pivot]\n    ids[pivot] = y\n\n    //Partition using pivot\n    pivot = partitionStartLessThan(\n      d, axis, \n      lo, hi-1, boxes, ids,\n      value)\n\n    //Swap pivot back\n    var aPtr = elemSize * (hi-1)\n    var bPtr = elemSize * pivot\n    for(var i=0; i<elemSize; ++i, ++aPtr, ++bPtr) {\n      var x = boxes[aPtr]\n      boxes[aPtr] = boxes[bPtr]\n      boxes[bPtr] = x\n    }\n    var y = ids[hi-1]\n    ids[hi-1] = ids[pivot]\n    ids[pivot] = y\n\n    //Swap pivot to last pivot\n    if(mid < pivot) {\n      hi = pivot-1\n      while(lo < hi && \n        boxes[elemSize*(hi-1)+axis] === value) {\n        hi -= 1\n      }\n      hi += 1\n    } else if(pivot < mid) {\n      lo = pivot + 1\n      while(lo < hi &&\n        boxes[elemSize*lo+axis] === value) {\n        lo += 1\n      }\n    } else {\n      break\n    }\n  }\n\n  //Make sure pivot is at start\n  return partitionStartLessThan(\n    d, axis, \n    start, mid, boxes, ids,\n    boxes[elemSize*mid+axis])\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/box-intersect/lib/median.js\n ** module id = 71\n ** module chunks = 0\n **/","'use strict'\n\nmodule.exports = genPartition\n\nvar code = 'for(var j=2*a,k=j*c,l=k,m=c,n=b,o=a+b,p=c;d>p;++p,k+=j){var _;if($)if(m===p)m+=1,l+=j;else{for(var s=0;j>s;++s){var t=e[k+s];e[k+s]=e[l],e[l++]=t}var u=f[p];f[p]=f[m],f[m++]=u}}return m'\n\nfunction genPartition(predicate, args) {\n  var fargs ='abcdef'.split('').concat(args)\n  var reads = []\n  if(predicate.indexOf('lo') >= 0) {\n    reads.push('lo=e[k+n]')\n  }\n  if(predicate.indexOf('hi') >= 0) {\n    reads.push('hi=e[k+o]')\n  }\n  fargs.push(\n    code.replace('_', reads.join())\n        .replace('$', predicate))\n  return Function.apply(void 0, fargs)\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/box-intersect/lib/partition.js\n ** module id = 72\n ** module chunks = 0\n **/","\"use strict\";\n\nmodule.exports = function(ecs, game) {\n\tgame.entities.registerSearch(\"centerPosition\", [\"position\", \"center\"]);\n\tecs.addEach(function centerPosition(entity, elapsed) { // eslint-disable-line no-unused-vars\n\t\tvar position = game.entities.get(entity, \"position\");\n\t\tvar center = game.entities.get(entity, \"center\");\n\t\tvar size = game.entities.get(entity, \"size\");\n\t\t// FIXME: doesn't work with cameras yet.\n\t\tif (center.x) {\n\t\t\tposition.x = Math.floor(game.canvas.width / 2);\n\t\t\tif (size) {\n\t\t\t\tposition.x -= Math.floor(size.width / 2);\n\t\t\t}\n\t\t}\n\t\tif (center.y) {\n\t\t\tposition.y = Math.floor(game.canvas.height / 2);\n\t\t\tif (size) {\n\t\t\t\tposition.y -= Math.floor(size.height / 2);\n\t\t\t}\n\t\t}\n\t}, \"centerPosition\");\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/systems/center-position.js\n ** module id = 73\n ** module chunks = 0\n **/","\"use strict\";\n\nmodule.exports = function(ecs, game) {\n\tecs.add(function clearScreen(entities, elapsed) { // eslint-disable-line no-unused-vars\n\t\tgame.context.clearRect(0, 0, game.canvas.width, game.canvas.height);\n\t});\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/systems/clear-screen.js\n ** module id = 74\n ** module chunks = 0\n **/","\"use strict\";\n\nmodule.exports = function(ecs, game) {\n\tgame.entities.registerSearch(\"constrainPositionSearch\", [\"position\", \"size\", \"constrainPosition\"]);\n\tecs.addEach(function constrainTocontrainPosition(entity, elapsed) { // eslint-disable-line no-unused-vars\n\t\tvar position = game.entities.get(entity, \"position\");\n\t\tvar size = game.entities.get(entity, \"size\");\n\n\t\tvar constrainPosition = game.entities.get(entity, \"constrainPosition\");\n\t\tvar other = constrainPosition.id;\n\t\tvar otherPosition = game.entities.get(other, \"position\");\n\t\tvar otherSize = game.entities.get(other, \"size\");\n\n\t\tif (position.x < otherPosition.x) {\n\t\t\tposition.x = otherPosition.x;\n\t\t}\n\t\tif (position.x + size.width > otherPosition.x + otherSize.width) {\n\t\t\tposition.x = otherPosition.x + otherSize.width - size.width;\n\t\t}\n\t\tif (position.y < otherPosition.y) {\n\t\t\tposition.y = otherPosition.y;\n\t\t}\n\t\tif (position.y + size.height > otherPosition.y + otherSize.height) {\n\t\t\tposition.y = otherPosition.y + otherSize.height - size.height;\n\t\t}\n\t}, \"constrainPositionSearch\");\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/systems/constrain-position.js\n ** module id = 75\n ** module chunks = 0\n **/","\"use strict\";\n\nmodule.exports = function(ecs, game) {\n\tgame.entities.registerSearch(\"controlPlayer\", [\"movement2d\", \"playerController2d\"]);\n\tecs.addEach(function controlPlayer(entity, elapsed) { // eslint-disable-line no-unused-vars\n\t\tvar movement2d = game.entities.get(entity, \"movement2d\");\n\t\tvar playerController2d = game.entities.get(entity, \"playerController2d\");\n\t\tmovement2d.up = game.inputs.button(playerController2d.up);\n\t\tmovement2d.down = game.inputs.button(playerController2d.down);\n\t\tmovement2d.left = game.inputs.button(playerController2d.left);\n\t\tmovement2d.right = game.inputs.button(playerController2d.right);\n\t}, \"controlPlayer\");\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/systems/control-player.js\n ** module id = 76\n ** module chunks = 0\n **/","\"use strict\";\n\nmodule.exports = function(ecs, game) {\n\tecs.addEach(function decayLifeSpan(entity, elapsed) {\n\t\tvar lifeSpan = game.entities.get(entity, \"lifeSpan\");\n\t\tlifeSpan.current += elapsed;\n\t\tif (lifeSpan.current >= lifeSpan.max) {\n\t\t\tgame.entities.destroy(entity);\n\t\t}\n\t}, \"lifeSpan\");\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/systems/decay-life-span.js\n ** module id = 77\n ** module chunks = 0\n **/","\"use strict\";\n\nfunction roundRect(context, x, y, width, height, radius, stroke) {\n\tif (typeof stroke == \"undefined\") {\n\t\tstroke = true;\n\t}\n\tif (typeof radius === \"undefined\") {\n\t\tradius = 5;\n\t}\n\tcontext.beginPath();\n\tcontext.moveTo(x + radius, y);\n\tcontext.lineTo(x + width - radius, y);\n\tcontext.quadraticCurveTo(x + width, y, x + width, y + radius);\n\tcontext.lineTo(x + width, y + height - radius);\n\tcontext.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\n\tcontext.lineTo(x + radius, y + height);\n\tcontext.quadraticCurveTo(x, y + height, x, y + height - radius);\n\tcontext.lineTo(x, y + radius);\n\tcontext.quadraticCurveTo(x, y, x + radius, y);\n\tcontext.closePath();\n\tif (stroke) {\n\t\tcontext.stroke();\n\t}\n\tcontext.fill();\n}\n\nmodule.exports = function(ecs, game) {\n\tecs.add(function drawFrameRate(entities, elapsed) {\n\t\tvar fps = Math.floor(1000 / elapsed);\n\n\t\tvar msg = fps + \" FPS\";\n\t\tgame.context.font = \"24px monospace\";\n\t\tvar w = game.context.measureText(msg).width;\n\n\t\tgame.context.fillStyle = \"rgba(0,0,0,0.8)\";\n\t\tgame.context.strokeStyle = \"rgba(0,0,0,0.9)\";\n\t\troundRect(game.context, game.canvas.width - 130, -5, 120, 45, 5);\n\n\t\tif (fps < 30) {\n\t\t\tgame.context.fillStyle = \"#FE4848\"; //red\n\t\t} else if (fps < 50) {\n\t\t\tgame.context.fillStyle = \"#FDFA3C\"; //yellow\n\t\t} else {\n\t\t\tgame.context.fillStyle = \"#38F82A\"; //green\n\t\t}\n\n\t\tif (fps < 10) {\n\t\t\tfps = \" \" + fps;\n\t\t}\n\n\t\tgame.context.fillText(msg, game.canvas.width - w - 26, 25);\n\t});\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/systems/draw-frame-rate.js\n ** module id = 78\n ** module chunks = 0\n **/","\"use strict\";\n\nfunction drawEntity(game, entity, context) {\n\tvar imageComponent = game.entities.get(entity, \"image\");\n\n\tvar image = imageComponent.buffer;\n\tif (!image) {\n\t\timage = game.images.get(imageComponent.name);\n\t}\n\tif (!image) {\n\t\tconsole.error(\"No such image\", imageComponent.name, \"for entity\", entity, game.entities.get(entity, \"name\"));\n\t\treturn;\n\t}\n\n\t// FIXME: disable these checks/warnings in production version\n\n\tvar sx = imageComponent.sourceX || 0;\n\tvar sy = imageComponent.sourceY || 0;\n\n\tvar dx = imageComponent.destinationX || 0;\n\tvar dy = imageComponent.destinationY || 0;\n\n\tvar size = game.entities.get(entity, \"size\") || { \"width\": 0, \"height\": 0 };\n\n\tvar sw = imageComponent.sourceWidth || image.width;\n\tif (sw === 0) {\n\t\tconsole.warn(\"sourceWidth is 0, image would be invisible for entity\", entity, game.entities.get(entity, \"name\"));\n\t}\n\tvar sh = imageComponent.sourceHeight || image.height;\n\tif (sh === 0) {\n\t\tconsole.warn(\"sourceHeight is 0, image would be invisible for entity\", entity, game.entities.get(entity, \"name\"));\n\t}\n\n\tvar dw = imageComponent.destinationWidth || size.width || image.width;\n\tif (dw === 0) {\n\t\tconsole.warn(\"destinationWidth is 0, image would be invisible for entity\", entity, game.entities.get(entity, \"name\"));\n\t}\n\tvar dh = imageComponent.destinationHeight || size.height || image.height;\n\tif (dh === 0) {\n\t\tconsole.warn(\"destinationHeight is 0, image would be invisible for entity\", entity, game.entities.get(entity, \"name\"));\n\t}\n\n\n\ttry {\n\t\tvar position = game.entities.get(entity, \"position\");\n\n\t\tvar dx2 = dx + position.x;\n\t\tvar dy2 = dy + position.y;\n\n\t\tvar rotation = game.entities.get(entity, \"rotation\");\n\t\tif (rotation !== undefined) {\n\t\t\tcontext.save();\n\t\t\tvar rx = rotation.x || size.width / 2 || 0;\n\t\t\tvar ry = rotation.y || size.height / 2 || 0;\n\t\t\tvar x = position.x + rx;\n\t\t\tvar y = position.y + ry;\n\t\t\tcontext.translate(x, y);\n\t\t\tcontext.rotate(rotation.angle);\n\n\t\t\tdx2 = dx - rx;\n\t\t\tdy2 = dy - ry;\n\t\t}\n\n\t\tvar alpha = 1;\n\t\tif (imageComponent.alpha !== undefined) {\n\t\t\talpha = imageComponent.alpha;\n\t\t}\n\t\tcontext.globalAlpha = alpha;\n\t\tcontext.drawImage(image, sx, sy, sw, sh, dx2, dy2, dw, dh);\n\n\t\tif (rotation !== undefined) {\n\t\t\tcontext.restore();\n\t\t}\n\t} catch (e) {\n\t\tconsole.error(\"Error drawing image\", imageComponent.name, e);\n\t}\n}\n\nmodule.exports = function(ecs, game) {\n\tgame.entities.registerSearch(\"drawImage\", [\"image\", \"position\"]);\n\tecs.add(function drawImage(entities, elapsed) { // eslint-disable-line no-unused-vars\n\t\tvar ids = entities.find(\"drawImage\");\n\t\tids.sort(function(a, b) {\n\t\t\tvar pa = entities.get(a, \"position\");\n\t\t\tvar pb = entities.get(b, \"position\");\n\t\t\tvar za = pa.z || 0;\n\t\t\tvar zb = pb.z || 0;\n\t\t\tvar ya = pa.y || 0;\n\t\t\tvar yb = pb.y || 0;\n\t\t\treturn za - zb || ya - yb || a - b;\n\t\t});\n\n\t\tfor (var i = 0; i < ids.length; i++) {\n\t\t\tdrawEntity(game, ids[i], game.context);\n\t\t}\n\t});\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/systems/draw-image.js\n ** module id = 79\n ** module chunks = 0\n **/","\"use strict\";\n\nmodule.exports = function(ecs, game) {\n\tgame.entities.registerSearch(\"drawRectangles\", [\"position\", \"size\"]);\n\tecs.addEach(function drawRectangles(entity, elapsed) { // eslint-disable-line no-unused-vars\n\t\tvar strokeStyle = game.entities.get(entity, \"strokeStyle\");\n\t\tif (strokeStyle) {\n\t\t\tgame.context.strokeStyle = strokeStyle;\n\t\t}\n\t\tvar position = game.entities.get(entity, \"position\");\n\t\tvar size = game.entities.get(entity, \"size\");\n\t\tgame.context.strokeRect(Math.floor(position.x), Math.floor(position.y), size.width, size.height);\n\t}, \"drawRectangles\");\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/systems/draw-rectangles.js\n ** module id = 80\n ** module chunks = 0\n **/","\"use strict\";\n\nfunction distanceSquared(x1, y1, x2, y2) {\n\treturn ((x1 - x2) * (x1 - x2)) + ((y1 - y2) * (y1 - y2));\n}\n\nmodule.exports = function(ecs, game) {\n\tgame.entities.registerSearch(\"followParent\", [\"position\", \"size\", \"follow\"]);\n\tecs.addEach(function followParent(entity, elapsed) { // eslint-disable-line no-unused-vars\n\t\tvar position = game.entities.get(entity, \"position\");\n\t\tvar follow = game.entities.get(entity, \"follow\");\n\t\tvar size = game.entities.get(entity, \"size\");\n\n\t\tvar x1 = position.x + (size.width / 2);\n\t\tvar y1 = position.y + (size.height / 2);\n\n\t\tvar parent = follow.id;\n\t\tif (game.entities.get(parent, \"id\") === undefined) {\n\t\t\treturn;\n\t\t}\n\t\tvar parentPosition = game.entities.get(parent, \"position\");\n\t\tvar parentSize = game.entities.get(parent, \"size\");\n\n\t\tvar x2 = parentPosition.x + (parentSize.width / 2);\n\t\tvar y2 = parentPosition.y + (parentSize.height / 2);\n\n\t\tvar angle = Math.atan2(y2 - y1, x2 - x1);\n\t\tvar rotation = game.entities.get(entity, \"rotation\");\n\t\tif (rotation !== undefined) {\n\t\t\trotation.angle = angle - (Math.PI / 2);\n\t\t}\n\n\t\tvar distSquared = distanceSquared(x1, y1, x2, y2);\n\t\tif (distSquared < follow.distance * follow.distance) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar toMove = Math.sqrt(distSquared) - follow.distance;\n\n\t\tposition.x += toMove * Math.cos(angle);\n\t\tposition.y += toMove * Math.sin(angle);\n\t}, \"followParent\");\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/systems/follow-parent.js\n ** module id = 81\n ** module chunks = 0\n **/","\"use strict\";\n\nmodule.exports = function(ecs, game) {\n\tgame.entities.registerSearch(\"matchAspectRatioSearch\", [\"matchAspectRatio\", \"size\"]);\n\tecs.addEach(function matchCanvasSize(entity, elapsed) { // eslint-disable-line no-unused-vars\n\t\tvar size = game.entities.get(entity, \"size\");\n\n\t\tvar match = game.entities.get(entity, \"matchAspectRatio\").id;\n\t\tvar matchSize = game.entities.get(match, \"size\");\n\t\tif (matchSize === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar matchAspectRatio = matchSize.width / matchSize.height;\n\n\t\tvar currentAspectRatio = size.width / size.height;\n\t\tif (currentAspectRatio > matchAspectRatio) {\n\t\t\tsize.height = Math.floor(size.width / matchAspectRatio);\n\t\t} else if (currentAspectRatio < matchAspectRatio) {\n\t\t\tsize.width = Math.floor(size.height * matchAspectRatio);\n\t\t}\n\t}, \"matchAspectRatioSearch\");\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/systems/match-aspect-ratio.js\n ** module id = 82\n ** module chunks = 0\n **/","\"use strict\";\n\nmodule.exports = function(ecs, game) {\n\tecs.addEach(function matchCanvasSize(entity, elapsed) { // eslint-disable-line no-unused-vars\n\t\tvar size = game.entities.get(entity, \"size\");\n\t\tif (size === undefined) {\n\t\t\tgame.entities.set(entity, \"size\", {\n\t\t\t\twidth: game.canvas.width,\n\t\t\t\theight: game.canvas.height\n\t\t\t});\n\t\t} else {\n\t\t\tsize.width = game.canvas.width;\n\t\t\tsize.height = game.canvas.height;\n\t\t}\n\t}, \"matchCanvasSize\");\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/systems/match-canvas-size.js\n ** module id = 83\n ** module chunks = 0\n **/","\"use strict\";\n\nmodule.exports = function(ecs, game) {\n\tgame.entities.registerSearch(\"matchCenterXSearch\", [\"matchCenterX\", \"size\", \"position\"]);\n\tecs.addEach(function matchCenterX(entity) {\n\t\tvar position = game.entities.get(entity, \"position\");\n\t\tvar size = game.entities.get(entity, \"size\");\n\n\t\tvar matchX = game.entities.get(entity, \"matchCenterX\").id;\n\t\tvar matchPosition = game.entities.get(matchX, \"position\");\n\t\tif (matchPosition === undefined) {\n\t\t\treturn;\n\t\t}\n\t\tvar matchSize = game.entities.get(matchX, \"size\");\n\t\tif (matchSize === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\tposition.x = matchPosition.x + (matchSize.width / 2) - (size.width / 2);\n\t}, \"matchCenterXSearch\");\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/systems/match-center-x.js\n ** module id = 84\n ** module chunks = 0\n **/","\"use strict\";\n\nmodule.exports = function(ecs, game) {\n\tgame.entities.registerSearch(\"matchCenterYSearch\", [\"matchCenterY\", \"size\", \"position\"]);\n\tecs.addEach(function matchCenterY(entity) {\n\t\tvar position = game.entities.get(entity, \"position\");\n\t\tvar size = game.entities.get(entity, \"size\");\n\n\t\tvar matchY = game.entities.get(entity, \"matchCenterY\").id;\n\t\tvar matchPosition = game.entities.get(matchY, \"position\");\n\t\tif (matchPosition === undefined) {\n\t\t\treturn;\n\t\t}\n\t\tvar matchSize = game.entities.get(matchY, \"size\");\n\t\tif (matchSize === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\tposition.y = matchPosition.y + (matchSize.height / 2) - (size.height / 2);\n\t}, \"matchCenterYSearch\");\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/systems/match-center-y.js\n ** module id = 85\n ** module chunks = 0\n **/","\"use strict\";\n\nmodule.exports = function(ecs, game) {\n\tgame.entities.registerSearch(\"matchParent\", [\"position\", \"match\"]);\n\tecs.addEach(function matchParent(entity, elapsed) { // eslint-disable-line no-unused-vars\n\t\tvar match = game.entities.get(entity, \"match\");\n\n\t\tvar parentPosition = game.entities.get(match.id, \"position\");\n\t\tif (parentPosition === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\tgame.entities.set(entity, \"position\", {\n\t\t\tx: parentPosition.x + match.offsetX,\n\t\t\ty: parentPosition.y + match.offsetY,\n\t\t\tz: parentPosition.z + match.offsetZ\n\t\t});\n\t}, \"matchParent\");\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/systems/match-parent.js\n ** module id = 86\n ** module chunks = 0\n **/","\"use strict\";\n\nmodule.exports = function(ecs, game) { // eslint-disable-line no-unused-vars\n\tgame.entities.registerSearch(\"revertShakeSearch\",[\"shake\", \"position\"]);\n\tecs.addEach(function revertShake(entity, elapsed) { // eslint-disable-line no-unused-vars\n\t\tvar shake = game.entities.get(entity, \"shake\");\n\t\tvar position = game.entities.get(entity, \"position\");\n\t\tposition.x = shake.lastPositionX;\n\t\tposition.y = shake.lastPositionY;\n\t}, \"revertShakeSearch\");\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/systems/revert-shake.js\n ** module id = 87\n ** module chunks = 0\n **/","\"use strict\";\n\nmodule.exports = function(ecs, game) {\n\tgame.entities.registerSearch(\"setVirtualButtons\", [\"virtualButton\", \"position\", \"size\"]);\n\tecs.addEach(function setVirtualButtons(entity) {\n\t\tvar virtualButton = game.entities.get(entity, \"virtualButton\");\n\t\tvar position = game.entities.get(entity, \"position\");\n\t\tvar size = game.entities.get(entity, \"size\");\n\n\t\tvar camera = game.entities.find(\"camera\")[0];\n\t\tvar cameraPosition = { x: 0, y: 0 };\n\t\tif (camera !== undefined) {\n\t\t\tcameraPosition = game.entities.get(camera, \"position\");\n\t\t}\n\n\t\tfor (var i = 0; i < game.inputs.mouse.touches.length; i++) {\n\t\t\tvar t = game.inputs.mouse.touches[i];\n\t\t\tvar tx = t.x + cameraPosition.x;\n\t\t\tvar ty = t.y + cameraPosition.y;\n\t\t\tif (tx >= position.x && tx < position.x + size.width && ty >= position.y && ty < position.y + size.height) {\n\t\t\t\tgame.inputs.setButton(virtualButton, entity, true);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\tgame.inputs.setButton(virtualButton, entity, false);\n\t}, \"setVirtualButtons\");\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/systems/set-virtual-buttons.js\n ** module id = 88\n ** module chunks = 0\n **/","\"use strict\";\n\nmodule.exports = function(ecs, game) {\n\tgame.entities.registerSearch(\"viewport\", [\"camera\", \"position\", \"size\"]);\n\tecs.addEach(function viewportMoveToCamera(entity, elapsed) { // eslint-disable-line no-unused-vars\n\t\tvar position = game.entities.get(entity, \"position\");\n\t\tvar size = game.entities.get(entity, \"size\");\n\n\t\tgame.context.save();\n\t\tgame.context.scale(game.canvas.width / size.width, game.canvas.height / size.height);\n\t\tgame.context.translate(-Math.floor(position.x), -Math.floor(position.y));\n\t}, \"viewport\");\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/systems/viewport-move-to-camera.js\n ** module id = 89\n ** module chunks = 0\n **/","\"use strict\";\n\nmodule.exports = function viewportReset(ecs, game) { // eslint-disable-line no-unused-vars\n\tecs.add(function(entities, elapsed) { // eslint-disable-line no-unused-vars\n\t\tgame.context.restore();\n\t});\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/splat-ecs/lib/systems/viewport-reset.js\n ** module id = 90\n ** module chunks = 0\n **/","var map = {\n\t\"./renderer/background-color.js\": 92,\n\t\"./renderer/sample-renderer-system.js\": 93,\n\t\"./simulation/follow-mouse.js\": 94,\n\t\"./simulation/sample-simulation-system.js\": 95\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 91;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/systems \\.js$\n ** module id = 91\n ** module chunks = 0\n **/","\"use strict\";\n\nmodule.exports = function(ecs, game) { // eslint-disable-line no-unused-vars\n  game.entities.registerSearch(\"backgroundColorSearch\", [\"backgroundColor\", \"size\", \"position\"]);\n  ecs.addEach(function(entity, elapsed) { // eslint-disable-line no-unused-vars\n    var color = game.entities.get(entity, \"backgroundColor\");\n    var position = game.entities.get(entity, \"position\");\n    var size = game.entities.get(entity, \"size\");\n    game.context.fillStyle = color;\n    game.context.fillRect(position.x, position.y, size.width, size.height);\n  }, \"backgroundColorSearch\");\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/systems/renderer/background-color.js\n ** module id = 92\n ** module chunks = 0\n **/","\"use strict\";\n\nmodule.exports = function(ecs, game) { // eslint-disable-line no-unused-vars\n  ecs.addEach(function(entity, elapsed) { // eslint-disable-line no-unused-vars\n  }, \"playerController2d\");\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/systems/renderer/sample-renderer-system.js\n ** module id = 93\n ** module chunks = 0\n **/","\"use strict\";\n\nmodule.exports = function(ecs, game) { // eslint-disable-line no-unused-vars\n  ecs.addEach(function(entity, elapsed) { // eslint-disable-line no-unused-vars\n    var position = game.entities.get(entity, \"position\");\n    var camera = game.entities.find(\"camera\")[0];\n    var cameraPosition = game.entities.get(camera, \"position\");\n    position.x = cameraPosition.x + game.inputs.mouse.x;\n    position.y = cameraPosition.y + game.inputs.mouse.y;\n  }, \"followMouse\");\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/systems/simulation/follow-mouse.js\n ** module id = 94\n ** module chunks = 0\n **/","\"use strict\";\n\nmodule.exports = function(ecs, game) { // eslint-disable-line no-unused-vars\n  ecs.addEach(function(entity, elapsed) { // eslint-disable-line no-unused-vars\n  }, \"playerController2d\");\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/systems/simulation/sample-simulation-system.js\n ** module id = 95\n ** module chunks = 0\n **/","var map = {\n\t\"./add-bubbles.js\": 97,\n\t\"./main-enter.js\": 98,\n\t\"./main-exit.js\": 99\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 96;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/scripts \\.js$\n ** module id = 96\n ** module chunks = 0\n **/","\"use strict\";\nvar particles = require(\"splat-ecs/lib/particles\");\n\nvar bubbles = new particles.Config(\"bubble\");\nbubbles.angle = -Math.PI / 2;\nbubbles.arcWidth = Math.PI / 8;\nbubbles.lifeSpanMin = 600;\nbubbles.lifeSpanMax = 800;\nbubbles.qtyMin = 1;\nbubbles.qtyMax = 10;\nbubbles.sizeMin = 0.01;\nbubbles.sizeMax = 0.8;\nbubbles.velocityMin = 0.2;\nbubbles.velocityMax = 0.4;\n\nmodule.exports = function(entity, game) {  // eslint-disable-line no-unused-vars\n  var position = game.entities.get(entity, \"position\");\n  bubbles.origin.x = position.x;\n  bubbles.origin.y = position.y;\n  particles.create(game, bubbles);\n  particles.create(game, bubbles);\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/scripts/add-bubbles.js\n ** module id = 97\n ** module chunks = 0\n **/","\"use strict\";\n\nmodule.exports = function(game) { // eslint-disable-line no-unused-vars\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/scripts/main-enter.js\n ** module id = 98\n ** module chunks = 0\n **/","\"use strict\";\n\nmodule.exports = function(game) { // eslint-disable-line no-unused-vars\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/scripts/main-exit.js\n ** module id = 99\n ** module chunks = 0\n **/","function webpackContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackContext.keys = function() { return []; };\nwebpackContext.resolve = webpackContext;\nmodule.exports = webpackContext;\nwebpackContext.id = 100;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/fonts .*\\.(eot|svg|ttf|woff2?)$/\n ** module id = 100\n ** module chunks = 0\n **/","var map = {\n\t\"./bubble-md.png\": 102,\n\t\"./bubble-sm.png\": 103,\n\t\"./bubble.png\": 104,\n\t\"./logo.png\": 105,\n\t\"./path4136.png\": 106\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 101;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/images \\.(jpe?g|png|gif|svg)$/\n ** module id = 101\n ** module chunks = 0\n **/","module.exports = __webpack_public_path__ + \"images/bubble-md.png\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/images/bubble-md.png\n ** module id = 102\n ** module chunks = 0\n **/","module.exports = __webpack_public_path__ + \"images/bubble-sm.png\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/images/bubble-sm.png\n ** module id = 103\n ** module chunks = 0\n **/","module.exports = __webpack_public_path__ + \"images/bubble.png\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/images/bubble.png\n ** module id = 104\n ** module chunks = 0\n **/","module.exports = __webpack_public_path__ + \"images/logo.png\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/images/logo.png\n ** module id = 105\n ** module chunks = 0\n **/","module.exports = __webpack_public_path__ + \"images/path4136.png\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/images/path4136.png\n ** module id = 106\n ** module chunks = 0\n **/","function webpackContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackContext.keys = function() { return []; };\nwebpackContext.resolve = webpackContext;\nmodule.exports = webpackContext;\nwebpackContext.id = 107;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/sounds \\.(mp3|ogg|wav)$/\n ** module id = 107\n ** module chunks = 0\n **/","var map = {\n\t\"./animations.json\": 109,\n\t\"./entities.json\": 110,\n\t\"./inputs.json\": 111,\n\t\"./prefabs.json\": 112,\n\t\"./scenes.json\": 113,\n\t\"./systems.json\": 114\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 108;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/data \\.json$\n ** module id = 108\n ** module chunks = 0\n **/","module.exports = {};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/data/animations.json\n ** module id = 109\n ** module chunks = 0\n **/","module.exports = {\n\t\"main\": [\n\t\t{\n\t\t\t\"id\": 0,\n\t\t\t\"name\": \"camera\",\n\t\t\t\"camera\": true,\n\t\t\t\"position\": {\n\t\t\t\t\"x\": 0,\n\t\t\t\t\"y\": 0\n\t\t\t},\n\t\t\t\"matchCanvasSize\": true\n\t\t},\n\t\t{\n\t\t\t\"id\": 1,\n\t\t\t\"name\": \"background\",\n\t\t\t\"backgroundColor\": \"#00ccbb\",\n\t\t\t\"position\": {\n\t\t\t\t\"x\": 0,\n\t\t\t\t\"y\": 0\n\t\t\t},\n\t\t\t\"size\": {\n\t\t\t\t\"width\": 0,\n\t\t\t\t\"height\": 0\n\t\t\t},\n\t\t\t\"matchCanvasSize\": true\n\t\t},\n\t\t{\n\t\t\t\"id\": 2,\n\t\t\t\"name\": \"bubble-cursor\",\n\t\t\t\"followMouse\": true,\n\t\t\t\"position\": {\n\t\t\t\t\"x\": 280,\n\t\t\t\t\"y\": 180\n\t\t\t},\n\t\t\t\"size\": {\n\t\t\t\t\"width\": 1,\n\t\t\t\t\"height\": 1\n\t\t\t},\n\t\t\t\"timers\": {\n\t\t\t\t\"addBubbles\": {\n\t\t\t\t\t\"running\": true,\n\t\t\t\t\t\"time\": 0,\n\t\t\t\t\t\"max\": 30,\n\t\t\t\t\t\"script\": \"./scripts/add-bubbles\",\n\t\t\t\t\t\"loop\": true\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"id\": 3,\n\t\t\t\"name\": \"static-particles\",\n\t\t\t\"position\": {\n\t\t\t\t\"x\": 280,\n\t\t\t\t\"y\": 180\n\t\t\t},\n\t\t\t\"size\": {\n\t\t\t\t\"width\": 1,\n\t\t\t\t\"height\": 1\n\t\t\t},\n\t\t\t\"timers\": {\n\t\t\t\t\"addBubbles\": {\n\t\t\t\t\t\"running\": true,\n\t\t\t\t\t\"time\": 0,\n\t\t\t\t\t\"max\": 30,\n\t\t\t\t\t\"script\": \"./scripts/add-bubbles\",\n\t\t\t\t\t\"loop\": true\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t]\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/data/entities.json\n ** module id = 110\n ** module chunks = 0\n **/","module.exports = {\n\t\"axes\": {},\n\t\"buttons\": {\n\t\t\"up\": [\n\t\t\t{\n\t\t\t\t\"device\": \"keyboard\",\n\t\t\t\t\"button\": \"w\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"device\": \"keyboard\",\n\t\t\t\t\"button\": \"up\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"device\": \"gamepad\",\n\t\t\t\t\"button\": \"dpad up\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"device\": \"gamepad\",\n\t\t\t\t\"button\": \"left stick up\"\n\t\t\t}\n\t\t],\n\t\t\"down\": [\n\t\t\t{\n\t\t\t\t\"device\": \"keyboard\",\n\t\t\t\t\"button\": \"s\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"device\": \"keyboard\",\n\t\t\t\t\"button\": \"down\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"device\": \"gamepad\",\n\t\t\t\t\"button\": \"dpad down\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"device\": \"gamepad\",\n\t\t\t\t\"button\": \"left stick down\"\n\t\t\t}\n\t\t],\n\t\t\"left\": [\n\t\t\t{\n\t\t\t\t\"device\": \"keyboard\",\n\t\t\t\t\"button\": \"a\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"device\": \"keyboard\",\n\t\t\t\t\"button\": \"left\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"device\": \"gamepad\",\n\t\t\t\t\"button\": \"dpad left\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"device\": \"gamepad\",\n\t\t\t\t\"button\": \"left stick left\"\n\t\t\t}\n\t\t],\n\t\t\"right\": [\n\t\t\t{\n\t\t\t\t\"device\": \"keyboard\",\n\t\t\t\t\"button\": \"d\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"device\": \"keyboard\",\n\t\t\t\t\"button\": \"right\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"device\": \"gamepad\",\n\t\t\t\t\"button\": \"dpad right\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"device\": \"gamepad\",\n\t\t\t\t\"button\": \"left stick right\"\n\t\t\t}\n\t\t]\n\t}\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/data/inputs.json\n ** module id = 111\n ** module chunks = 0\n **/","module.exports = {\n\t\"bubble\": {\n\t\t\"image\": {\n\t\t\t\"name\": \"bubble.png\"\n\t\t},\n\t\t\"size\": {\n\t\t\t\"width\": 30,\n\t\t\t\"height\": 30\n\t\t}\n\t}\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/data/prefabs.json\n ** module id = 112\n ** module chunks = 0\n **/","module.exports = {\n\t\"main\": {\n\t\t\"first\": true,\n\t\t\"onEnter\": \"./scripts/main-enter\",\n\t\t\"onExit\": \"./scripts/main-exit\"\n\t}\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/data/scenes.json\n ** module id = 113\n ** module chunks = 0\n **/","module.exports = {\n\t\"simulation\": [\n\t\t{\n\t\t\t\"name\": \"splat-ecs/lib/systems/decay-life-span\",\n\t\t\t\"scenes\": \"all\"\n\t\t},\n\t\t{\n\t\t\t\"name\": \"splat-ecs/lib/systems/match-canvas-size\",\n\t\t\t\"scenes\": \"all\"\n\t\t},\n\t\t{\n\t\t\t\"name\": \"splat-ecs/lib/systems/advance-timers\",\n\t\t\t\"scenes\": \"all\"\n\t\t},\n\t\t{\n\t\t\t\"name\": \"splat-ecs/lib/systems/advance-animations\",\n\t\t\t\"scenes\": \"all\"\n\t\t},\n\t\t{\n\t\t\t\"name\": \"splat-ecs/lib/systems/set-virtual-buttons\",\n\t\t\t\"scenes\": \"all\"\n\t\t},\n\t\t{\n\t\t\t\"name\": \"splat-ecs/lib/systems/control-player\",\n\t\t\t\"scenes\": \"all\"\n\t\t},\n\t\t{\n\t\t\t\"name\": \"./systems/simulation/follow-mouse\",\n\t\t\t\"scenes\": \"all\"\n\t\t},\n\t\t{\n\t\t\t\"name\": \"splat-ecs/lib/systems/apply-movement-2d\",\n\t\t\t\"scenes\": \"all\"\n\t\t},\n\t\t{\n\t\t\t\"name\": \"splat-ecs/lib/systems/apply-velocity\",\n\t\t\t\"scenes\": \"all\"\n\t\t},\n\t\t{\n\t\t\t\"name\": \"splat-ecs/lib/systems/apply-friction\",\n\t\t\t\"scenes\": \"all\"\n\t\t},\n\t\t{\n\t\t\t\"name\": \"splat-ecs/lib/systems/follow-parent\",\n\t\t\t\"scenes\": \"all\"\n\t\t},\n\t\t{\n\t\t\t\"name\": \"splat-ecs/lib/systems/box-collider\",\n\t\t\t\"scenes\": \"all\"\n\t\t},\n\t\t{\n\t\t\t\"name\": \"./systems/simulation/sample-simulation-system\",\n\t\t\t\"scenes\": \"all\"\n\t\t}\n\t],\n\t\"renderer\": [\n\t\t{\n\t\t\t\"name\": \"splat-ecs/lib/systems/apply-shake\",\n\t\t\t\"scenes\": \"all\"\n\t\t},\n\t\t{\n\t\t\t\"name\": \"splat-ecs/lib/systems/clear-screen\",\n\t\t\t\"scenes\": \"all\"\n\t\t},\n\t\t{\n\t\t\t\"name\": \"splat-ecs/lib/systems/viewport-move-to-camera\",\n\t\t\t\"scenes\": \"all\"\n\t\t},\n\t\t{\n\t\t\t\"name\": \"./systems/renderer/sample-renderer-system\",\n\t\t\t\"scenes\": \"all\"\n\t\t},\n\t\t{\n\t\t\t\"name\": \"./systems/renderer/background-color\",\n\t\t\t\"scenes\": \"all\"\n\t\t},\n\t\t{\n\t\t\t\"name\": \"splat-ecs/lib/systems/draw-image\",\n\t\t\t\"scenes\": \"all\"\n\t\t},\n\t\t{\n\t\t\t\"name\": \"splat-ecs/lib/systems/draw-rectangles\",\n\t\t\t\"scenes\": []\n\t\t},\n\t\t{\n\t\t\t\"name\": \"splat-ecs/lib/systems/viewport-reset\",\n\t\t\t\"scenes\": \"all\"\n\t\t},\n\t\t{\n\t\t\t\"name\": \"splat-ecs/lib/systems/draw-frame-rate\",\n\t\t\t\"scenes\": []\n\t\t},\n\t\t{\n\t\t\t\"name\": \"splat-ecs/lib/systems/revert-shake\",\n\t\t\t\"scenes\": \"all\"\n\t\t}\n\t]\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/data/systems.json\n ** module id = 114\n ** module chunks = 0\n **/"],"sourceRoot":""}